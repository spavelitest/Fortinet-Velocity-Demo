<?xml version="1.0"?>
<testCase version="8.7.0.202112151246">
    <general>
        <language>Python</language>
    </general>
    <procedures>
        <item name="main">
            <steps>
                <item guid="69370f47-46d1-495a-aa30-bcf371944d69" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Initialization</body>
                    </command>
                    <nestedSteps>
                        <item guid="812ef249-2e62-488d-92e5-c6bcee2f4d6c" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>reservationId = velocity(&quot;reservationId&quot;); print(reservationId)</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="none">
                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>Found reservationId: &quot;[reservationId]&quot;</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="b271c00f-9d14-463a-9c45-808c6ce941d7" action="eval" skip="true" useFieldsInCommand="false">
                            <command>
                                <body>reservationId = &quot;50e45d54-d2ed-4a69-a6b2-953c51f00b1a&quot;</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="none">
                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                        </extractorInfo>
                                        <processorInfo ruleType="message">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                <message>Found reservationId: &quot;[reservationId]&quot;</message>
                                                <tag sub="false" defaultValue=""/>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="dfb4e929-50fe-48e0-81d9-36c196ad9424" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Init dicts</body>
                            </command>
                            <nestedSteps>
                                <item guid="fbf8a0a8-fe8c-49b0-b424-4a2df727264e" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>link_type={}</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="3f487400-deb8-4f73-8450-d5a903cc942e" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>LAG_port_ids=[]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="1cd395c1-6045-44dc-9ebc-bfe0dfdec5db" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>device_lag_ports=[]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="e89dd984-b868-4231-9262-6f50612911db" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>conn_port_names=[]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="4f9b543e-860f-486c-8bdb-d89f7ea07648" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>conn_device_names=[]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="e630ff3f-15a0-4252-9403-c5f369a54972" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>device_topology_port_ids=[]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8c14e557-7205-4f9f-ae46-a6645af78e44" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>device_ports=[]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="9e8a8a60-36ff-4323-8f3d-3cb2a76804eb" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>device_name_port=[]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ff1abe81-79d4-4245-b8c7-1f923bec181b" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>device_ports_per_lag=[]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="bbd1d9aa-6894-4944-b980-318d80ab0bce" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>conn_device_ports_per_lag=[]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="77fe1409-d454-4d0f-a47f-1befd6ff08ed" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Open sessions</body>
                    </command>
                    <nestedSteps>
                        <item guid="3b917191-2001-453b-a40f-b34c66c40260" action="open" session="velocity" useFieldsInCommand="false">
                            <command>
                                <body>application:com.fnfr.itest.applications.webservices.restful</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulSessionProperties" url="https://10.210.107.10" url.inherit="false" version="2" version.inherit="false">
                                    <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" authenticationType="Basic" authenticationType.inherit="false" user="superadmin" user.inherit="false" password.masked="false" password="superadmin" password.inherit="false" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                </sessionProperties>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="1b957e54-de34-4b19-a460-8a5b0631e8b6" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Check LAG connection</body>
                    </command>
                    <nestedSteps>
                        <item guid="b9c8c6dd-6eb9-46a4-9a65-cbb5b7ef910f" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                            <command>
                                <body>/velocity/api/reservation/v18/reservation/[reservationId]/topology</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Xml/tbml/body/connectivity/link[*]/property[2]</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>LAG_option</storageLocation>
                                                <storeInAList>true</storeInAList>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/reservation/v18/reservation/[reservationId]/topology" action.inherit="false">
                                <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                    <memberClasses>
                                        <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                    </memberClasses>
                                    <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry" header="application/tbml" header.inherit="false"/>
                                </httpHeader>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="37ed09a7-be2c-4b7d-8383-3be78f4af95a" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>LAG or skip operation</body>
                    </command>
                    <nestedSteps>
                        <item guid="04d6f0ca-f9fa-4e95-a421-9f2dc2c981ef" action="if" useFieldsInCommand="false">
                            <command>
                                <body>&quot;LAG&quot; in LAG_option:</body>
                            </command>
                            <nestedSteps>
                                <item guid="03f9a5d1-8b37-4972-8f7f-ceedcfc3c9b9" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Determine LAG port ids</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e356ee76-479f-44ca-85c8-9c36ff6a989e" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                            <command>
                                                <body>/velocity/api/reservation/v18/reservation/[reservationId]/topology</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>mapped/Xml/tbml/body/connectivity/link[*]/property[1]</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>Links</storageLocation>
                                                                <storeInAList>true</storeInAList>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>mapped/Xml/tbml/body/connectivity/link[*]/property[2]</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>Types</storageLocation>
                                                                <storeInAList>true</storeInAList>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/reservation/v18/reservation/[reservationId]/topology?limit=200" action.inherit="false">
                                                <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                                    <memberClasses>
                                                        <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                                    </memberClasses>
                                                    <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry" header="application/tbml" header.inherit="false"/>
                                                </httpHeader>
                                            </applicationProperties>
                                        </item>
                                        <item guid="7c4e2cdc-05e1-469c-8207-a9573937a4e6" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>link_type=dict(zip(Links,Types))</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="34f3025c-bced-4a4c-b9f9-822d2feb7c22" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>item in link_type.keys():</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="ca309ccb-8860-4ab4-91a3-5812b7d12dd2" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>link_type[item] ==&quot;LAG&quot;:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="6a1f0987-4863-4160-bd68-9cfe19a9a8fe" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                            <command>
                                                                <body>/velocity/api/reservation/v18/reservation/[reservationId]/topology</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query sub="true">mapped/Xml/tbml/body/connectivity/*\\[property=&quot;[item]&quot;]/*/@id</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>LAG_ports_ids</storageLocation>
                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <nestedSteps>
                                                                <item guid="7aafdc4f-10d5-4ccd-8b11-8f44f1af9bee" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>print(LAG_ports_ids)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="e42810f8-1581-47d5-8408-d10dee04169c" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>LAG_port_ids.append(LAG_ports_ids)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/reservation/v18/reservation/[reservationId]/topology" action.inherit="false">
                                                                <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                                                    <memberClasses>
                                                                        <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                                                    </memberClasses>
                                                                    <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry" header="application/tbml" header.inherit="false"/>
                                                                </httpHeader>
                                                            </applicationProperties>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="81669fb7-bbdf-47a9-b583-30f27a878849" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(LAG_port_ids)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="bf0ae4f0-5f10-420c-8eb8-9a6ef4a9fec0" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Get the devices name from Velocity</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="a54e2fbe-8549-45b2-b29e-0ee7bc162c3f" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                            <command>
                                                <body>/velocity/api/reservation/v18/reservation/[reservationId]/resources?limit=200</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>mapped/Json/items/*[type = &quot;DEVICE&quot;]/name</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>device_name</storageLocation>
                                                                <storeInAList>true</storeInAList>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/reservation/v18/reservation/[reservationId]/resources?limit=200" action.inherit="false"/>
                                        </item>
                                        <item guid="eb4c1000-57a5-46f4-a615-2146409a0709" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(device_name)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ac49c3d1-b633-4156-838a-cfda7ebd93e2" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Filter devices in order to find fortigate firewalls</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="215cb19f-924b-419a-917c-54d4c11795ea" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>device in device_name:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="16b778b3-b7ad-440a-9331-6997e3aa3c29" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                    <command>
                                                        <body>velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[device]</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>mapped/Json/devices/item/id</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>device_id</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>mapped/Json/devices/item/properties/item[name = &apos;Console&apos;]/value</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>device_console_ip_addr</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>mapped/Json/devices/item/properties/item[name = &apos;Console Port&apos;]/value</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>device_console_port</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>mapped/Json/devices/item/properties/item[name = &apos;username&apos;]/value</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>device_username</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>mapped/Json/devices/item/properties/item[name = &apos;password&apos;]/value</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>device_password</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>mapped/Json/devices/item/templateId</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>template_id</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[device]" action.inherit="false"/>
                                                </item>
                                                <item guid="50d7778e-2d7d-449f-b912-f5e9edd6cc2b" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                    <command>
                                                        <body>/velocity/api/inventory/v16/template/[template_id]</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>mapped/Json/name</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>template_name</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/template/[template_id]" action.inherit="false"/>
                                                </item>
                                                <item guid="24b52445-17ae-40d9-b444-93a7b508c514" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>print(template_name)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="b6f3b3be-3c00-488d-a1b9-5ada2d63a2b0" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>template_name != &quot;Fortigate Firewall&quot;:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="7924b212-b477-4d88-b8e8-33799428b6e1" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>device_name.remove(device)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="ae4ed661-97af-410f-9caf-15b9a34f5331" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(device_name)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="818fdcef-1575-4233-a17b-c9cb7769e161" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Find and delete LAG on devices</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="58194750-63b4-4f16-8cc6-d77b506a0db1" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>device in device_name:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="07750c81-e014-441e-b40b-30aa3a1b9871" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Check LAG connection on each device - message</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="none">
                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="message">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                        <message>---Checking LAG connections on device &quot;[device]&quot;...</message>
                                                                        <tag sub="false" defaultValue=""/>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="cda80936-4d54-4da0-8fdb-b013c7348f9b" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Determine device ports from reservation</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="3f1abd01-8ef3-466b-bcee-b8e95d15226a" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                            <command>
                                                                <body>velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[device]</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                <query>mapped/Json/devices/item/id</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>device_id</storageLocation>
                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>mapped/Json/devices/item/properties/item[name = &apos;Console&apos;]/value</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>device_console_ip</storageLocation>
                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>mapped/Json/devices/item/properties/item[name = &apos;Console Port&apos;]/value</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>device_console</storageLocation>
                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[device]" action.inherit="false"/>
                                                        </item>
                                                        <item guid="11b3e6c3-4d95-4511-8cec-2ce9662c70ab" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                            <command>
                                                                <body>/velocity/api/reservation/v18/reservation/[reservationId]/resources?limit=200</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query sub="true">mapped/Json/items/*\\[inventoryParentResourceId=&quot;[device_id]&quot;]/name</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>device_reservation_ports</storageLocation>
                                                                                <storeInAList>true</storeInAList>
                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query sub="true">mapped/Json/items/*\\[inventoryParentResourceId=&quot;[device_id]&quot;]/inventoryResourceId</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>device_inventory_ports</storageLocation>
                                                                                <storeInAList>true</storeInAList>
                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/reservation/v18/reservation/[reservationId]/resources?limit=200" action.inherit="false"/>
                                                        </item>
                                                        <item guid="525aeebd-920a-410d-8705-49b28499292b" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>print(device_reservation_ports)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="130b9874-f87e-4636-befc-8bd841581b8d" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>print(device_inventory_ports)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="96841c8a-3757-4427-9195-cecbbc13c0c9" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>port_name in device_inventory_ports:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="995b6402-12fb-4ac5-861b-e995a971f882" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                    <command>
                                                                        <body>/velocity/api/reservation/v18/reservation/[reservationId]/resources?limit=200</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="query">
                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                        <query sub="true">mapped/Json/items/*\\[inventoryResourceId=&quot;[port_name]&quot;]/topologyResourceId</query>
                                                                                    </extractorProperties>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="store">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                        <storageLocation>device_topology_port_id</storageLocation>
                                                                                        <storeInAList>true</storeInAList>
                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/reservation/v18/reservation/[reservationId]/resources?limit=200" action.inherit="false"/>
                                                                </item>
                                                                <item guid="faed8308-c6e7-4f67-9253-5ba903e03154" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>device_topology_port_ids.append(device_topology_port_id)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="82f8c0d8-8ed2-46af-a84d-88b218d8a6c9" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>print(device_topology_port_ids)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="dfb5521d-cbc4-40a3-a1a0-6a32893bf4bf" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Determine device ports from LAG and delete LAG</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="3e454791-add0-4f21-9693-bc10aa4620dc" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>item in device_topology_port_ids:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="44309f54-4f9c-4016-80a0-39a5d962669a" action="for" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>links in LAG_port_ids:</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="fa833e8e-9d10-4ee6-9214-a0c47afb6a68" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>print(links[1])</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="f9821d7d-5d4e-49b0-99f1-9279ae614f57" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>print(links[0])</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="38141b22-86df-4e58-83e4-3469bbffcffe" action="if" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>len(item)==2:</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="bc52f5d3-2a26-4e7d-9ef2-3cba335db253" action="if" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>item[0]==links[0] or item[0]==links[1] or item[1]==links[0] or item[1]==links[1]:</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="6645cefe-d8b0-48b8-a7d5-f9be54c55438" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>device_lag_ports.append(item)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="f37a2f7a-f22d-4f25-9b9c-efbdf612a6bc" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>print(item)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="2aa6c229-56a1-408a-9e1c-5d5155bc5c67" action="elif" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>len(item)==1:</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="1d3ecd58-4dec-4738-abfb-3a13859b0dd0" action="if" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>item[0]==links[0] or item[0]==links[1]:</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="06ff6925-55a3-41bf-898c-42a8a6bf6b0e" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>device_lag_ports.append(item)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="7ca8a689-4b10-4e72-bc55-f57cf69cc92c" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>print(item)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="fddf4130-4b5d-4722-bfd2-71a87e109883" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>device_lag_ports == []:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="065d3132-c82d-4220-80c0-ad17b6ec941b" action="comment" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>skip operation on device</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="b535ad42-9779-49ae-adb1-159d16212236" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>print(&quot;Device has no LAG connections&quot;)</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <analysisRules>
                                                                                    <item>
                                                                                        <extractorInfo extractorType="query">
                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                <query>isEmpty()</query>
                                                                                            </extractorProperties>
                                                                                        </extractorInfo>
                                                                                        <processorInfo ruleType="assert">
                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                <expression>value == &quot;false&quot; </expression>
                                                                                                <actionsWhenTrue>
                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                            <message>---For device [device] no LAG connection was implemented, skip operation ...</message>
                                                                                                        </actionProperties>
                                                                                                    </item>
                                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    </item>
                                                                                                </actionsWhenTrue>
                                                                                            </ruleProperties>
                                                                                        </processorInfo>
                                                                                    </item>
                                                                                </analysisRules>
                                                                            </postProcessing>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="4f166cdb-f89d-4d7a-bd63-ac9fc7967c13" action="else" useFieldsInCommand="false">
                                                            <nestedSteps>
                                                                <item guid="762c0065-b18b-42b5-989d-5f9e49d990f3" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>print(device_lag_ports)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="37d6588c-04e9-4550-b37a-a6726491bf96" action="comment" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Find physical ports from LAG</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="35cbfd9e-5708-44a2-a4a3-543dd2c33054" action="for" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>port_item in device_lag_ports:</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="be5d7f73-2fe8-4629-9a53-bf885e04e6c5" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>port_item=port_item[0]</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="22808278-0866-4436-9b3b-998baa49626c" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>print(port_item)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="036adaa4-ed17-4acf-9115-f6fcc6961802" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                    <command>
                                                                                        <body>/velocity/api/reservation/v18/reservation/[reservationId]/resources?limit=200</body>
                                                                                    </command>
                                                                                    <postProcessing>
                                                                                        <analysisRules>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="query">
                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                        <query sub="true">mapped/Json/items/*\\[topologyResourceId=&quot;[port_item]&quot;]/name</query>
                                                                                                    </extractorProperties>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="store">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                        <storageLocation>device_port</storageLocation>
                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="query">
                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                        <query sub="true">mapped/Json/items/*\\[topologyResourceId=&quot;[port_item]&quot;]/inventoryParentResourceId</query>
                                                                                                    </extractorProperties>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="store">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                        <storageLocation>parent_port_id</storageLocation>
                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                        </analysisRules>
                                                                                    </postProcessing>
                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/reservation/v18/reservation/[reservationId]/resources?limit=200" action.inherit="false"/>
                                                                                </item>
                                                                                <item guid="372abae0-7376-4bb8-8f08-62167cf650dc" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>print(parent_port_id, device_id)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="d5c7fb76-eed3-4911-8bad-d58e81406ec5" action="if" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>device_id == parent_port_id:</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="8267d73c-4433-40a0-b7d0-38e896465dc2" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>device_ports.append(device_port)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="20a5c0dc-df54-41fa-a8c5-085c3ce8b854" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>print(device_ports)</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <analysisRules>
                                                                                    <item>
                                                                                        <extractorInfo extractorType="none">
                                                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                        </extractorInfo>
                                                                                        <processorInfo ruleType="message">
                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                                <message> For device &quot;[device]&quot; ports [device_ports] are included in LAG connections</message>
                                                                                                <tag sub="false" defaultValue=""/>
                                                                                            </ruleProperties>
                                                                                        </processorInfo>
                                                                                    </item>
                                                                                </analysisRules>
                                                                            </postProcessing>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="33fdec68-4c0a-4bdc-ac5d-69161cc59707" action="comment" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Determine device ports included in LAG on neighbor-device</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="6a79353c-1149-462c-a8b5-030d504a660e" action="for" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>device_port in device_ports:</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="a0a4584b-b6c4-430b-9edb-bca2520b67f3" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                    <command>
                                                                                        <body>/velocity/api/inventory/v16/device/[device_id]/ports?limit=200</body>
                                                                                    </command>
                                                                                    <postProcessing>
                                                                                        <analysisRules>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="query">
                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                        <query sub="true">mapped/Json/ports/*\\[name=&quot;[device_port]&quot;]/connectedPortName</query>
                                                                                                    </extractorProperties>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="store">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                        <storageLocation>conn_port_name</storageLocation>
                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="query">
                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                        <query sub="true">mapped/Json/ports/*\\[name=&quot;[device_port]&quot;]/connectedPortParentName</query>
                                                                                                    </extractorProperties>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="store">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                        <storageLocation>conn_device_name</storageLocation>
                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                        </analysisRules>
                                                                                    </postProcessing>
                                                                                    <nestedSteps>
                                                                                        <item guid="93eb4175-ed8d-4a8a-803a-ad68296d7373" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>conn_port_names.append(conn_port_name)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="ca1cb255-6fee-4078-9d14-62af6f800a9d" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>conn_device_names.append(conn_device_name)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="57aa9b73-840c-402e-982d-416b9425cf53" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>string=device_port+&quot; : &quot;+conn_port_name +&quot; : &quot;+ conn_device_name</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="f3576e0a-11f2-4f78-bb72-2232696f00e4" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>device_name_port.append(string)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="1a3e8691-04d2-4165-8842-a8c49b1c5e81" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>string=&quot;&quot;</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[device_id]/ports?limit=200" action.inherit="false"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="1672e9b6-056d-43e6-816e-cf63e8945bfd" action="comment" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Check device for multiple LAG connections and config LAG </body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="065092b8-e9eb-48a5-a952-eefa90dbe8b5" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>print(conn_port_names)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="019e32b9-455c-43fd-af15-7a91ce7618df" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>print(conn_device_names)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="f29a8a5e-2fbc-46ee-8104-42d06340a819" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>conn_device_names=list(set(conn_device_names))</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="c6848779-8d6f-400f-9c27-f10b3f5c714f" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>print(device_name_port)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="0599285e-0153-4fb4-9a1c-1ee379332d66" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>print(conn_device_names)</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <analysisRules>
                                                                                    <item>
                                                                                        <extractorInfo extractorType="none">
                                                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                        </extractorInfo>
                                                                                        <processorInfo ruleType="message">
                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                                <message> For device &quot;[device]&quot; found [len(conn_device_names)] LAG connections</message>
                                                                                                <tag sub="false" defaultValue=""/>
                                                                                            </ruleProperties>
                                                                                        </processorInfo>
                                                                                    </item>
                                                                                </analysisRules>
                                                                            </postProcessing>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="563cf018-d89c-4685-8529-cc59ea80af0f" action="for" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>conn_device_name in conn_device_names:</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="d7f5d88c-dddf-4975-9e9c-511aa7f33dd3" action="for" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>element in device_name_port:</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="e7aad8aa-4bfa-426a-9193-03a36153fb00" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>print(conn_device_name)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="1c5dcba1-81c2-438b-87bd-0118cac73ead" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>print(element.split(&quot;:&quot;)[2].strip())</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="57e6e285-6e48-4308-9cc4-877c20df2219" action="if" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>conn_device_name == element.split(&quot;:&quot;)[2].strip():</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="46ba3b73-606a-4879-bb28-a2035dc43e41" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>device_ports_per_lag.append(element.split(&quot;:&quot;)[0].strip())</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="fa6a57c2-cb1c-4c32-bd33-80524ccdff10" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>conn_device_ports_per_lag.append(element.split(&quot;:&quot;)[1].strip())</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="f6142230-2b2d-4a53-b146-cc34127c1fde" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>print(device_ports_per_lag)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="c23f390f-2cf7-4a69-9a6f-a5723f5bf23c" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>print(conn_device_ports_per_lag)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="e9f1f928-ba04-4f22-84fa-39154812b915" action="comment" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>Get device details</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="27a2f45d-7ff8-4489-97b8-c43b610fb42b" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                            <command>
                                                                                                <body>velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[device]</body>
                                                                                            </command>
                                                                                            <postProcessing>
                                                                                                <analysisRules>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                <query>mapped/Json/devices/item/properties/item[name = &apos;Console&apos;]/value</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>device_console_ip_addr</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                <query>mapped/Json/devices/item/properties/item[name = &apos;Console Port&apos;]/value</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>device_console_port</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                <query>mapped/Json/devices/item/properties/item[name = &apos;username&apos;]/value</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>device_username</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                <query>mapped/Json/devices/item/properties/item[name = &apos;password&apos;]/value</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>device_password</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                </analysisRules>
                                                                                            </postProcessing>
                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[device]" action.inherit="false"/>
                                                                                        </item>
                                                                                        <item guid="3102064c-9b92-4464-88f4-06641a518fb4" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                            <command>
                                                                                                <body>velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[conn_device_name]</body>
                                                                                            </command>
                                                                                            <postProcessing>
                                                                                                <analysisRules>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                <query>mapped/Json/devices/item/properties/item[name = &apos;ipAddress&apos;]/value</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>conn_device_ipAddress</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                <query>mapped/Json/devices/item/properties/item[name = &apos;Console&apos;]/value</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>conn_device_console_ip_addr</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                <query>mapped/Json/devices/item/properties/item[name = &apos;Console Port&apos;]/value</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>conn_device_console_port</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                <query>mapped/Json/devices/item/properties/item[name = &apos;username&apos;]/value</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>conn_device_username</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                <query>mapped/Json/devices/item/properties/item[name = &apos;password&apos;]/value</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>conn_device_password</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                <query>mapped/Json/devices/item/id</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>conn_device_id</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                <query>mapped/Json/devices/item/templateId</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>conn_template_id</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                </analysisRules>
                                                                                            </postProcessing>
                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[conn_device_name]" action.inherit="false"/>
                                                                                        </item>
                                                                                        <item guid="cdc86200-bfac-4e47-8623-5c51bd323f25" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                            <command>
                                                                                                <body>/velocity/api/inventory/v16/template/[conn_template_id]</body>
                                                                                            </command>
                                                                                            <postProcessing>
                                                                                                <analysisRules>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                <query>mapped/Json/name</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>conn_template_name</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                </analysisRules>
                                                                                            </postProcessing>
                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/template/[conn_template_id]" action.inherit="false"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="3caf711f-a6c5-4f60-90bd-0aaa71f54f5f" action="comment" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>Delete LAG on device</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="67dd3270-8851-43f7-aee9-f6046dc36e80" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>open session</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="3c9ef665-95a8-4f88-903f-71a84849e6be" action="open" session="fortigate">
                                                                                                    <command>
                                                                                                        <body>project://Fortigate_console/session_profiles/console.ffsp</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                                                        <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                                                            <completionProperties>
                                                                                                                <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                                                                            </completionProperties>
                                                                                                        </stepProperties>
                                                                                                        <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                                                                            <ipAddress inherit="false">[device_console_ip_addr]</ipAddress>
                                                                                                            <port inherit="false">[device_console_port]</port>
                                                                                                        </sessionProperties>
                                                                                                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    </applicationProperties>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="59850979-6260-401a-9305-c1becba452c3" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>set parameters based on name convention</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="ad98977a-39f6-445b-8d99-6c304420149e" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>name=&quot;DATA&quot;+&quot;_&quot;+&quot;_&quot;.join(device_ports_per_lag)</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="8759c9f5-4e4a-40f3-bfa3-3637fb29c701" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>print(name)</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="2d75c7ef-8dc9-4613-bc0f-db6cbba3dfc4" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>ports=&quot; &quot;.join(device_ports_per_lag)</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="64b20d77-00d5-4a6b-a408-963d0b023c2f" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>print(ports)</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="6b215ec3-7b20-4f74-adef-05f154e968ff" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>lag=&quot;LAG&quot;+&quot;_&quot;+&quot;_&quot;.join(device_ports_per_lag)</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="f480127e-60b3-494f-b4fe-a25a0a814fc7" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>print(lag)</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="b2df087c-d639-4d3d-bb69-35573d0a7a9f" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>console login and delete lag </body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="1191fa68-1e79-4acb-b1c8-11627edf22eb" action="deleteLag" session="fortigate" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>-name [lag]</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="01e1735a-b2dd-4259-b5ce-4c376e47554b" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>assign interfaces to default vdom</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="1faf7d7b-e7b7-4499-9a36-5d30d9b3be00" action="for" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>port in device_ports_per_lag:</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="fac8f4b4-8044-48a1-944b-fef8cddabbb9" action="assignInterfacesToDefaultVdom" session="fortigate" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>-port [port]</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="58d98a2b-9128-4b04-bd97-36162b08e796" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>delete vdom</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="9b104583-a469-413b-a09d-7eaa69efbc0c" action="deleteVdom" session="fortigate" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>-name [name]</body>
                                                                                                    </command>
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                        <query>retCode()</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="assert">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                        <expression>value == &quot;TRUE&quot;</expression>
                                                                                                                        <actionsWhenTrue>
                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                    <message>For &quot;[device]&quot; delete LAG on ports [device_ports_per_lag] is ok</message>
                                                                                                                                </actionProperties>
                                                                                                                            </item>
                                                                                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                            </item>
                                                                                                                        </actionsWhenTrue>
                                                                                                                        <actionsWhenFalse>
                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                    <message>For &quot;[device]&quot; delete LAG is not ok</message>
                                                                                                                                </actionProperties>
                                                                                                                            </item>
                                                                                                                            <item actionId="FailTest">
                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                            </item>
                                                                                                                        </actionsWhenFalse>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="7f730e6d-b375-4473-9934-0977fda7fdb8" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>update device ports in velocity</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="6135be9c-054d-4440-b16d-cd0dd802f712" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                                    <command>
                                                                                                        <body>/velocity/api/inventory/v16/device/[device_id]/ports?limit=200</body>
                                                                                                    </command>
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                        <query>mapped/Json/ports/item[*]/name</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="store">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                        <storageLocation>device_ports</storageLocation>
                                                                                                                        <storeInAList>true</storeInAList>
                                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                        <query>mapped/Json/ports/item[*]/id</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="store">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                        <storageLocation>device_port_ids</storageLocation>
                                                                                                                        <storeInAList>true</storeInAList>
                                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[device_id]/ports?limit=200" action.inherit="false"/>
                                                                                                </item>
                                                                                                <item guid="60a20831-5d0d-4c15-bbd4-0098ad74b273" action="if" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>lag in device_ports:</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="ecb2de0a-d62c-4185-8025-df007933cb34" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>portId=device_port_ids[device_ports.index(lag)]</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="4ab3ab80-758d-4376-83ba-df3bb57c1cd1" action="DELETE" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                                            <command>
                                                                                                                <body>/velocity/api/inventory/v16/device/[device_id]/port/[portId]</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[device_id]/port/[portId]" action.inherit="false"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="46129771-1a03-4175-b408-a17ffeeb3347" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>console exit</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="5e9656c1-c3e5-4361-ac86-8cd390e7e33c" action="consoleExit" session="fortigate" useFieldsInCommand="false">
                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="310a4ff2-8142-4b97-873e-7c199611e06e" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>close session</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="03ad8afb-92c3-4b73-bbe5-03a0b4b57e8a" action="close" session="fortigate">
                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="8663ae43-d00c-4a70-a6c0-59311935253f" action="comment" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>Delete LAG on connection device</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="b39d854a-6333-402b-9e21-b561c9138f6c" action="if" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>conn_template_name == &quot;Fortinet Switch&quot;:</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="ef735b4e-11b7-4ead-8aad-104fca65c83d" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>info</body>
                                                                                                    </command>
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="none">
                                                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="message">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                                                        <message> For device &quot;[conn_device_name]&quot; ports [conn_device_ports_per_lag] are included in LAG</message>
                                                                                                                        <tag sub="false" defaultValue=""/>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="06c4173e-48ab-4bec-a707-e48864474a48" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>open session</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="151b8379-a381-4985-9886-039037112532" action="open" session="fortiswitch" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>project://Fortiswitch_console/session_profiles/console.ffsp</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                                                                <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                                                                    <completionProperties>
                                                                                                                        <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                                                                                    </completionProperties>
                                                                                                                </stepProperties>
                                                                                                                <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                                                                                    <ipAddress inherit="false">[conn_device_console_ip_addr]</ipAddress>
                                                                                                                    <port inherit="false">[conn_device_console_port]</port>
                                                                                                                </sessionProperties>
                                                                                                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                            </applicationProperties>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="8511e2d4-7ab7-4f80-a0df-9cc5c4659061" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>set parameters based on name convention</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="7619cee2-0c29-476a-b041-d34e87dd3995" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>name_tsw=&quot;LAG&quot;+&quot;_&quot;+&quot;_&quot;.join(conn_device_ports_per_lag)</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="1ad946c1-63c5-4c14-8a86-4dc2ee134362" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>mode=&quot;active&quot;</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="d64b4668-2a96-40fc-9637-599a36a69bd1" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>console login and unset trunk</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="94eb4d44-6c45-4577-973f-721260222ba2" action="unsetTrunkModeLag" session="fortiswitch" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>-name [name_tsw]</body>
                                                                                                            </command>
                                                                                                            <postProcessing>
                                                                                                                <analysisRules>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                <query>retCode()</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="assert">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                <expression>value == &quot;TRUE&quot;</expression>
                                                                                                                                <actionsWhenTrue>
                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                            <message>For &quot;[conn_device_name]&quot; delete LAG on ports [conn_device_ports_per_lag] is ok</message>
                                                                                                                                        </actionProperties>
                                                                                                                                    </item>
                                                                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                    </item>
                                                                                                                                </actionsWhenTrue>
                                                                                                                                <actionsWhenFalse>
                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                            <message>For &quot;[conn_device_name]&quot; delete LAG is not ok</message>
                                                                                                                                        </actionProperties>
                                                                                                                                    </item>
                                                                                                                                    <item actionId="FailTest">
                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                    </item>
                                                                                                                                </actionsWhenFalse>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                </analysisRules>
                                                                                                            </postProcessing>
                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="9a2b640e-dd66-42c2-b195-d29ed3497012" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>discover and delete the LAG port </body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="c3bc3339-5b2f-46fe-8eee-20916616e2d7" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                                            <command>
                                                                                                                <body>/velocity/api/inventory/v16/device/[conn_device_id]/ports?limit=200</body>
                                                                                                            </command>
                                                                                                            <postProcessing>
                                                                                                                <analysisRules>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                <query>mapped/Json/ports/item[*]/name</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="store">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                <storageLocation>conn_device_ports</storageLocation>
                                                                                                                                <storeInAList>true</storeInAList>
                                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                <query>mapped/Json/ports/item[*]/id</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="store">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                <storageLocation>conn_device_port_ids</storageLocation>
                                                                                                                                <storeInAList>true</storeInAList>
                                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                </analysisRules>
                                                                                                            </postProcessing>
                                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[conn_device_id]/ports?limit=200" action.inherit="false"/>
                                                                                                        </item>
                                                                                                        <item guid="261a6139-5642-4c2e-aa7b-a9217126b8f9" action="if" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>name_tsw in conn_device_ports:</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="a3b53d7a-5239-4f8e-aaf1-f9bc107cf1a4" action="eval" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>conn_portId=conn_device_port_ids[conn_device_ports.index(name_tsw)]</body>
                                                                                                                    </command>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="7a335f08-7762-461c-96db-8c7888600380" action="DELETE" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                                                    <command>
                                                                                                                        <body>/velocity/api/inventory/v16/device/[conn_device_id]/port/[conn_portId]</body>
                                                                                                                    </command>
                                                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[conn_device_id]/port/[conn_portId]" action.inherit="false"/>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="c734b6a2-664b-43e8-a485-ef617c0cd8e4" action="POST" session="velocity">
                                                                                                            <command>
                                                                                                                <body>/velocity/api/inventory/v16/device/[conn_device_id]/action?type=discover</body>
                                                                                                            </command>
                                                                                                            <postProcessing>
                                                                                                                <analysisRules>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="none">
                                                                                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="message">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                                                                <message> Waiting for discover operation on [conn_device_name]</message>
                                                                                                                                <tag sub="false" defaultValue=""/>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                </analysisRules>
                                                                                                            </postProcessing>
                                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" bodyType.inherit="false" action="/velocity/api/inventory/v16/device/[conn_device_id]/action?type=discover" action.inherit="false" includeHttpHeaders.inherit="false">
                                                                                                                <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                                                                                <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                                                                                                    <memberClasses>
                                                                                                                        <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                                                                                                    </memberClasses>
                                                                                                                    <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry"/>
                                                                                                                </httpHeader>
                                                                                                            </applicationProperties>
                                                                                                        </item>
                                                                                                        <item guid="79ae0f64-5834-4b97-8670-eacd4df4809c" action="sleep">
                                                                                                            <command>
                                                                                                                <body>10</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="c47472f6-f837-4963-b86c-bcf882904459" action="consoleLogin" session="fortiswitch" useFieldsInCommand="false">
                                                                                                            <postProcessing>
                                                                                                                <analysisRules>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                <query>retCode()</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="assert">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                                                                                <actionsWhenFalse>
                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                            <message>--- console login not ok; fail test</message>
                                                                                                                                        </actionProperties>
                                                                                                                                    </item>
                                                                                                                                    <item actionId="FailTest">
                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                    </item>
                                                                                                                                </actionsWhenFalse>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                </analysisRules>
                                                                                                            </postProcessing>
                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                        </item>
                                                                                                        <item guid="7b30869f-8f78-4c56-a843-39313e2befed" action="command" session="fortiswitch">
                                                                                                            <postProcessing>
                                                                                                                <analysisRules>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                                <query>promptName()</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="assert">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                <expression>str(value) == &quot;prompt1&quot; </expression>
                                                                                                                                <actionsWhenTrue>
                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                            <message>For &quot;[conn_device_name]&quot;: discover operation was successfully</message>
                                                                                                                                        </actionProperties>
                                                                                                                                    </item>
                                                                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                    </item>
                                                                                                                                </actionsWhenTrue>
                                                                                                                                <actionsWhenFalse>
                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                                                                                            <message>--- discover operation is still in progress...</message>
                                                                                                                                        </actionProperties>
                                                                                                                                    </item>
                                                                                                                                    <item actionId="RepeatStep">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="100" delayBetweenRepeats="5.0"/>
                                                                                                                                    </item>
                                                                                                                                </actionsWhenFalse>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                </analysisRules>
                                                                                                            </postProcessing>
                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                                                                <lineTerminator inherit="false">SLASH_R</lineTerminator>
                                                                                                                <promptProperties>
                                                                                                                    <stepPrompts>
                                                                                                                        <item name="prompt1" MatchMethod="WILDCARD">
                                                                                                                            <Content sub="true">* login:</Content>
                                                                                                                        </item>
                                                                                                                        <item name="prompt2" MatchMethod="WILDCARD" TypeOfPrompt="PASSWORD">
                                                                                                                            <Content sub="true">* #</Content>
                                                                                                                        </item>
                                                                                                                        <item name="prompt3">
                                                                                                                            <Content>Password:</Content>
                                                                                                                        </item>
                                                                                                                        <item name="prompt4">
                                                                                                                            <Content>--More-- </Content>
                                                                                                                            <MoreNextCommand> \\r</MoreNextCommand>
                                                                                                                        </item>
                                                                                                                        <item name="prompt5">
                                                                                                                            <Content>Do you want to continue? (y/n)</Content>
                                                                                                                        </item>
                                                                                                                        <item name="prompt6" MatchMethod="WILDCARD">
                                                                                                                            <Content sub="true">* (*) #</Content>
                                                                                                                        </item>
                                                                                                                        <item name="prompt7" MatchMethod="WILDCARD">
                                                                                                                            <Content sub="true">*:</Content>
                                                                                                                        </item>
                                                                                                                        <item name="prompt8" MatchMethod="WILDCARD">
                                                                                                                            <Content sub="true">*</Content>
                                                                                                                        </item>
                                                                                                                    </stepPrompts>
                                                                                                                </promptProperties>
                                                                                                                <completionProperties promptLearnUserResponseTime="60" promptLearnUserResponseTime.inherit="false">
                                                                                                                    <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                                                                                </completionProperties>
                                                                                                            </applicationProperties>
                                                                                                            <advancedProperties defaultSessionProfile="application:com.fnfr.svt.applications.telnet"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="f64f2b9e-792f-4e94-bba1-882367d27a23" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>console exit</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="18cf6f55-3f76-4b81-8c3b-e479ed5b38ae" action="consoleExit" session="fortiswitch" useFieldsInCommand="false">
                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="972b5341-b805-42f8-a661-d98eadf9f071" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>close session</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="cdfd3d6e-cded-4a46-8af3-01b49621cf87" action="close" session="fortiswitch">
                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="0543c4f6-c82f-4b5f-bd2f-3b12894362d7" action="if" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>conn_template_name == &quot;Arista Switch&quot;:</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="836a83f3-fb48-4cfe-929b-4c83892fca39" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>info</body>
                                                                                                    </command>
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="none">
                                                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="message">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                                                        <message> For device &quot;[conn_device_name]&quot; ports [conn_device_ports_per_lag] are included in LAG</message>
                                                                                                                        <tag sub="false" defaultValue=""/>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="1d8aa4c1-a393-4f4b-9efd-c656f3aec5a9" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>open session</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="4a6b499c-b600-47b2-bb5d-ff77476a449a" action="open" session="arista" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>project://Arista_console/session_profiles/console.ffsp</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                                                                <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                                                                    <completionProperties>
                                                                                                                        <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                                                                                    </completionProperties>
                                                                                                                </stepProperties>
                                                                                                                <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                                                                                    <ipAddress inherit="false">[conn_device_console_ip_addr]</ipAddress>
                                                                                                                    <port inherit="false">[conn_device_console_port]</port>
                                                                                                                </sessionProperties>
                                                                                                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                            </applicationProperties>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="cb990d11-6f3d-445f-8c5c-202570918e23" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>set parameters based on name convention</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="22e973b1-3fcc-402e-b564-6a4dff2c90c9" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>number = 1</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="0b438ff8-1b64-423d-ae49-506c0beb37ed" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>ports_tsw=&quot;,&quot;.join(conn_device_ports_per_lag)</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="7454c4d2-d085-40c1-afee-50d2fb2be86f" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>mode=&quot;active&quot;</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="328f9dd3-3b3d-4904-901f-4e2c724bab52" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>port_channel=&quot;Po&quot;+str(number)</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="73821f88-5367-4cfa-96a7-a261dc7976d5" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>console login and unset port-channel</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="29c338f5-9c29-46b6-9ad8-77e05dc8cbe8" action="unsetSwitchPortChannel" session="arista" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>-number [number]</body>
                                                                                                            </command>
                                                                                                            <postProcessing>
                                                                                                                <analysisRules>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                <query>retCode()</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="assert">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                <expression>value == &quot;TRUE&quot;</expression>
                                                                                                                                <actionsWhenTrue>
                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                            <message>For &quot;[conn_device_name]&quot; delete LAG on ports [conn_device_ports_per_lag] is ok</message>
                                                                                                                                        </actionProperties>
                                                                                                                                    </item>
                                                                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                    </item>
                                                                                                                                </actionsWhenTrue>
                                                                                                                                <actionsWhenFalse>
                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                            <message>For &quot;[conn_device_name]&quot; delete LAG is not ok</message>
                                                                                                                                        </actionProperties>
                                                                                                                                    </item>
                                                                                                                                    <item actionId="FailTest">
                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                    </item>
                                                                                                                                </actionsWhenFalse>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                </analysisRules>
                                                                                                            </postProcessing>
                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="28b1c5ca-d02a-4e4c-92f5-88944b5f8f71" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>discover and delete the LAG port </body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="a99488bc-4b9f-47a9-b017-07bb20b56dfd" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                                            <command>
                                                                                                                <body>/velocity/api/inventory/v16/device/[conn_device_id]/ports?limit=200</body>
                                                                                                            </command>
                                                                                                            <postProcessing>
                                                                                                                <analysisRules>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                <query>mapped/Json/ports/item[*]/name</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="store">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                <storageLocation>conn_device_ports</storageLocation>
                                                                                                                                <storeInAList>true</storeInAList>
                                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                <query>mapped/Json/ports/item[*]/id</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="store">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                <storageLocation>conn_device_port_ids</storageLocation>
                                                                                                                                <storeInAList>true</storeInAList>
                                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                </analysisRules>
                                                                                                            </postProcessing>
                                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[conn_device_id]/ports?limit=200" action.inherit="false"/>
                                                                                                        </item>
                                                                                                        <item guid="2cd25b16-40a9-4b27-bb56-1a35706ff727" action="if" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>port_channel in conn_device_ports:</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="d7897402-a3ce-4080-baf8-bdd1555123a2" action="eval" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>conn_portId=conn_device_port_ids[conn_device_ports.index(port_channel)]</body>
                                                                                                                    </command>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="1293854f-67c0-43e8-a62c-749885066b16" action="DELETE" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                                                    <command>
                                                                                                                        <body>/velocity/api/inventory/v16/device/[conn_device_id]/port/[conn_portId]</body>
                                                                                                                    </command>
                                                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[conn_device_id]/port/[conn_portId]" action.inherit="false"/>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="9feaa7f6-591b-4ecd-9e99-4687dc002542" action="POST" session="velocity">
                                                                                                            <command>
                                                                                                                <body>/velocity/api/inventory/v16/device/[conn_device_id]/action?type=discover</body>
                                                                                                            </command>
                                                                                                            <postProcessing>
                                                                                                                <analysisRules>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="none">
                                                                                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="message">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                                                                <message> Waiting for discover operation on [conn_device_name]</message>
                                                                                                                                <tag sub="false" defaultValue=""/>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                </analysisRules>
                                                                                                            </postProcessing>
                                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" bodyType.inherit="false" action="/velocity/api/inventory/v16/device/[conn_device_id]/action?type=discover" action.inherit="false" includeHttpHeaders.inherit="false">
                                                                                                                <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                                                                                <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                                                                                                    <memberClasses>
                                                                                                                        <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                                                                                                    </memberClasses>
                                                                                                                    <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry"/>
                                                                                                                </httpHeader>
                                                                                                            </applicationProperties>
                                                                                                        </item>
                                                                                                        <item guid="0eba3597-0294-426a-91b8-41c9b53121e9" action="sleep">
                                                                                                            <command>
                                                                                                                <body>20</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="1ba689e7-36f0-46d0-b5ab-bc70aa1bff2c" action="consoleLogin" session="fortiswitch" useFieldsInCommand="false">
                                                                                                            <postProcessing>
                                                                                                                <analysisRules>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                <query>retCode()</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="assert">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                                                                                <actionsWhenFalse>
                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                            <message>--- console login not ok; fail test</message>
                                                                                                                                        </actionProperties>
                                                                                                                                    </item>
                                                                                                                                    <item actionId="FailTest">
                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                    </item>
                                                                                                                                </actionsWhenFalse>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                </analysisRules>
                                                                                                            </postProcessing>
                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                        </item>
                                                                                                        <item guid="5d457991-f584-4901-9190-49da04769e4a" action="command" session="fortiswitch">
                                                                                                            <postProcessing>
                                                                                                                <analysisRules>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                                <query>promptName()</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="assert">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                <expression>str(value) == &quot;prompt1&quot; or str(value) ==&quot;prompt4&quot;</expression>
                                                                                                                                <actionsWhenTrue>
                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                            <message>For &quot;[conn_device_name]&quot;: discover operation was successfully</message>
                                                                                                                                        </actionProperties>
                                                                                                                                    </item>
                                                                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                    </item>
                                                                                                                                </actionsWhenTrue>
                                                                                                                                <actionsWhenFalse>
                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                                                                                            <message>--- discover operation is still in progress...</message>
                                                                                                                                        </actionProperties>
                                                                                                                                    </item>
                                                                                                                                    <item actionId="RepeatStep">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="100" delayBetweenRepeats="5.0"/>
                                                                                                                                    </item>
                                                                                                                                </actionsWhenFalse>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                </analysisRules>
                                                                                                            </postProcessing>
                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                                                                <lineTerminator inherit="false">SLASH_R</lineTerminator>
                                                                                                                <promptProperties>
                                                                                                                    <stepPrompts>
                                                                                                                        <item name="prompt1" MatchMethod="WILDCARD">
                                                                                                                            <Content sub="true">* login:</Content>
                                                                                                                        </item>
                                                                                                                        <item name="prompt2" MatchMethod="WILDCARD" TypeOfPrompt="PASSWORD">
                                                                                                                            <Content sub="true">* #</Content>
                                                                                                                        </item>
                                                                                                                        <item name="prompt3">
                                                                                                                            <Content>Password:</Content>
                                                                                                                        </item>
                                                                                                                        <item name="prompt4">
                                                                                                                            <Content>--More-- </Content>
                                                                                                                            <MoreNextCommand> \\r</MoreNextCommand>
                                                                                                                        </item>
                                                                                                                        <item name="prompt5">
                                                                                                                            <Content>Do you want to continue? (y/n)</Content>
                                                                                                                        </item>
                                                                                                                        <item name="prompt6" MatchMethod="WILDCARD">
                                                                                                                            <Content sub="true">* (*) #</Content>
                                                                                                                        </item>
                                                                                                                        <item name="prompt7" MatchMethod="WILDCARD">
                                                                                                                            <Content sub="true">*:</Content>
                                                                                                                        </item>
                                                                                                                        <item name="prompt8" MatchMethod="WILDCARD">
                                                                                                                            <Content sub="true">*</Content>
                                                                                                                        </item>
                                                                                                                    </stepPrompts>
                                                                                                                </promptProperties>
                                                                                                                <completionProperties promptLearnUserResponseTime="60" promptLearnUserResponseTime.inherit="false">
                                                                                                                    <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                                                                                </completionProperties>
                                                                                                            </applicationProperties>
                                                                                                            <advancedProperties defaultSessionProfile="application:com.fnfr.svt.applications.telnet"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="5ebff42d-835d-4e55-bb99-7788ef77d537" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>console exit</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="dfd947e7-07f2-4f8e-8468-e4206136f17b" action="consoleExit" session="arista" useFieldsInCommand="false">
                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="07d69766-ab94-485e-9b3a-b6cd593716b2" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>close session</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="6fbf8d0c-e8cd-47e6-9e93-9686597480a1" action="close" session="arista">
                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="52f76826-7808-4c04-bcb2-cd6dcede587d" action="if" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>conn_template_name == &quot;Lepton ColdFusion Switch&quot;:</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="33e7732a-279b-473a-acf5-671baa7895ea" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>open session</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="2c307d8e-b3e8-42e3-ac06-3b1513b7994d" action="open" session="lepton" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>project://Lepton_ssh/session_profiles/ssh.ffsp</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                                                                <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                <sessionProperties type="com.fnfr.svt.applications.ssh.documents.SSHProperties">
                                                                                                                    <ipAddress inherit="false">[conn_device_ipAddress]</ipAddress>
                                                                                                                    <user inherit="false">[conn_device_username]</user>
                                                                                                                    <password inherit="false" masked="false">[conn_device_password]</password>
                                                                                                                </sessionProperties>
                                                                                                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                            </applicationProperties>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="aadee220-6be9-4b0b-b04b-04bb454ef903" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>ssh login and get connected port</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="0025d545-d8d5-4ce9-a54b-dd8906993c3e" action="for" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>conn_port_name in conn_device_ports_per_lag:</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="a0ef0292-5213-4c9d-a71b-349c201f2291" action="getConnectedPort" session="lepton" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>-port [conn_port_name]</body>
                                                                                                                    </command>
                                                                                                                    <postProcessing>
                                                                                                                        <analysisRules>
                                                                                                                            <item>
                                                                                                                                <extractorInfo extractorType="query">
                                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                        <query>responseLine()</query>
                                                                                                                                    </extractorProperties>
                                                                                                                                </extractorInfo>
                                                                                                                                <processorInfo ruleType="store">
                                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                        <storageLocation>conn_port_lepton</storageLocation>
                                                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                                    </ruleProperties>
                                                                                                                                </processorInfo>
                                                                                                                            </item>
                                                                                                                        </analysisRules>
                                                                                                                    </postProcessing>
                                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="9b86c148-0419-48e8-9cc9-85a4e607bbed" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>print(conn_port_lepton)</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="ad1f2379-7349-469c-906b-7ea3330a8d88" action="if" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>len(conn_port_lepton)==3:</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="f534e6c3-9a52-4f7c-a053-8c5b6c70b89d" action="eval" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>conn_port_lepton=conn_port_lepton[:2]+&quot;0&quot;+conn_port_lepton[2:]</body>
                                                                                                                    </command>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="5aaf9d65-36bc-4094-8c00-f107b252de8d" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>print(conn_port_lepton)</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="2f7bc4a4-7afd-477d-89e1-eff18303b641" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>check neighbor-device on lepton side</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="6062cef0-77a9-494f-81f9-e11f98afec50" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                                            <command>
                                                                                                                <body>/velocity/api/inventory/v16/device/[conn_device_id]/ports?limit=200</body>
                                                                                                            </command>
                                                                                                            <postProcessing>
                                                                                                                <analysisRules>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                <query sub="true">mapped/Json/ports/*\\[name=&quot;[conn_port_lepton]&quot;]/connectedPortName</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="store">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                <storageLocation>conn_lepton_port_name</storageLocation>
                                                                                                                                <storeInAList>true</storeInAList>
                                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                <query sub="true">mapped/Json/ports/*\\[name=&quot;[conn_port_lepton]&quot;]/connectedPortParentName</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="store">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                <storageLocation>conn_lepton_device_name</storageLocation>
                                                                                                                                <storeInAList>true</storeInAList>
                                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                </analysisRules>
                                                                                                            </postProcessing>
                                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[conn_device_id]/ports?limit=200" action.inherit="false"/>
                                                                                                        </item>
                                                                                                        <item guid="20f2d1d1-b151-47b6-a452-37014ed7821d" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>print(conn_lepton_port_name, conn_lepton_device_name)</body>
                                                                                                            </command>
                                                                                                            <postProcessing>
                                                                                                                <analysisRules>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="none">
                                                                                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="message">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                                                                <message>--- found lepton device connection: [conn_lepton_device_name] on port [conn_port_lepton]</message>
                                                                                                                                <tag sub="false" defaultValue=""/>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                </analysisRules>
                                                                                                            </postProcessing>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="b794e0e8-d046-46ef-9f78-b3e6adf82c3a" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                                            <command>
                                                                                                                <body>velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[conn_lepton_device_name]</body>
                                                                                                            </command>
                                                                                                            <postProcessing>
                                                                                                                <analysisRules>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                <query>mapped/Json/devices/item/id</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="store">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                <storageLocation>conn_lepton_device_id</storageLocation>
                                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                <query>mapped/Json/devices/item/templateId</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="store">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                <storageLocation>conn_lepton_template_id</storageLocation>
                                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                </analysisRules>
                                                                                                            </postProcessing>
                                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[conn_lepton_device_name]" action.inherit="false"/>
                                                                                                        </item>
                                                                                                        <item guid="98ff06bf-e19e-460c-8c66-95fd8ddde4f5" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                                            <command>
                                                                                                                <body>/velocity/api/inventory/v16/device/[conn_lepton_device_id]</body>
                                                                                                            </command>
                                                                                                            <postProcessing>
                                                                                                                <analysisRules>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                                <query>mapped/Json/properties/*[name=&quot;ipAddress&quot;]/value</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="store">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                <storageLocation>conn_lepton_device_ip_addr</storageLocation>
                                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                                <query>mapped/Json/properties/*[name=&quot;Console&quot;]/value</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="store">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                <storageLocation>conn_lepton_device_console_ip_addr</storageLocation>
                                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                                <query>mapped/Json/properties/*[name=&quot;Console Port&quot;]/value</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="store">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                <storageLocation>conn_lepton_device_console_port</storageLocation>
                                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                <query>mapped/Json/properties/*[name=&quot;username&quot;]/value</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="store">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                <storageLocation>conn_lepton_device_username</storageLocation>
                                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                                <query>mapped/Json/properties/*[name=&quot;password&quot;]/value</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="store">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                <storageLocation>conn_lepton_device_password</storageLocation>
                                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                </analysisRules>
                                                                                                            </postProcessing>
                                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[conn_lepton_device_id]" action.inherit="false"/>
                                                                                                        </item>
                                                                                                        <item guid="dc3fe17d-a5c6-4fbb-abf8-e640090881e4" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                                            <command>
                                                                                                                <body>/velocity/api/inventory/v16/template/[conn_lepton_template_id]</body>
                                                                                                            </command>
                                                                                                            <postProcessing>
                                                                                                                <analysisRules>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                <query>mapped/Json/name</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="store">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                <storageLocation>conn_lepton_template_name</storageLocation>
                                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                </analysisRules>
                                                                                                            </postProcessing>
                                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/template/[conn_lepton_template_id]" action.inherit="false"/>
                                                                                                        </item>
                                                                                                        <item guid="bd27e7c7-7357-4c41-9004-6b78174a94c0" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>print(conn_lepton_template_name)</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="24a29c05-7aa2-44ff-88c3-b245726bad66" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>login to lepton neighbor-device and config lag</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="59aed016-2546-4435-93e5-b780c19fae7e" action="if" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>conn_lepton_template_name == &quot;Fortinet Switch&quot;:</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="3e2961d4-4848-46c0-b083-8e0cdd9160f0" action="comment" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>info</body>
                                                                                                                    </command>
                                                                                                                    <postProcessing>
                                                                                                                        <analysisRules>
                                                                                                                            <item>
                                                                                                                                <extractorInfo extractorType="none">
                                                                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                                                                </extractorInfo>
                                                                                                                                <processorInfo ruleType="message">
                                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                                                                        <message> For device &quot;[conn_lepton_device_name]&quot; ports [conn_lepton_port_names] are included in LAG</message>
                                                                                                                                        <tag sub="false" defaultValue=""/>
                                                                                                                                    </ruleProperties>
                                                                                                                                </processorInfo>
                                                                                                                            </item>
                                                                                                                        </analysisRules>
                                                                                                                    </postProcessing>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="3185ba6b-68bf-43de-8476-844197e14745" action="comment" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>open session</body>
                                                                                                                    </command>
                                                                                                                    <nestedSteps>
                                                                                                                        <item guid="57e8f059-b8a4-48a5-be3a-02588e76723d" action="open" session="fortiswitch_lepton" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>project://Fortiswitch_console/session_profiles/console.ffsp</body>
                                                                                                                            </command>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                                                                                <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                                                                                    <completionProperties>
                                                                                                                                        <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                                                                                                    </completionProperties>
                                                                                                                                </stepProperties>
                                                                                                                                <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                                                                                                    <ipAddress inherit="false">[conn_lepton_device_console_ip_addr]</ipAddress>
                                                                                                                                    <port inherit="false">[conn_lepton_device_console_port]</port>
                                                                                                                                </sessionProperties>
                                                                                                                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                            </applicationProperties>
                                                                                                                        </item>
                                                                                                                    </nestedSteps>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="1b894c1b-dda0-42e0-998c-d5aabb946973" action="comment" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>set parameters based on name convention</body>
                                                                                                                    </command>
                                                                                                                    <nestedSteps>
                                                                                                                        <item guid="ef15be56-dfbc-4d12-8956-cde0b87ebda8" action="eval" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>name_tsw=&quot;LAG&quot;+&quot;_&quot;+&quot;_&quot;.join(conn_lepton_port_name)</body>
                                                                                                                            </command>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        </item>
                                                                                                                        <item guid="0e17edf1-9c63-47fe-a929-65414adcc96f" action="eval" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>mode=&quot;active&quot;</body>
                                                                                                                            </command>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        </item>
                                                                                                                    </nestedSteps>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="f721e088-2aa9-467f-b521-742b032d59e2" action="comment" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>console login and unset trunk</body>
                                                                                                                    </command>
                                                                                                                    <nestedSteps>
                                                                                                                        <item guid="5e59b324-c8ed-47bb-ad38-358c0d34a107" action="unsetTrunkModeLag" session="fortiswitch_lepton" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>-name [name_tsw]</body>
                                                                                                                            </command>
                                                                                                                            <postProcessing>
                                                                                                                                <analysisRules>
                                                                                                                                    <item>
                                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                                <query>retCode()</query>
                                                                                                                                            </extractorProperties>
                                                                                                                                        </extractorInfo>
                                                                                                                                        <processorInfo ruleType="assert">
                                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                                <expression>value == &quot;TRUE&quot;</expression>
                                                                                                                                                <actionsWhenTrue>
                                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                                            <message>For &quot;[conn_device_name]&quot; delete LAG on ports [conn_port_names] is ok</message>
                                                                                                                                                        </actionProperties>
                                                                                                                                                    </item>
                                                                                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                                    </item>
                                                                                                                                                </actionsWhenTrue>
                                                                                                                                                <actionsWhenFalse>
                                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                                            <message>For &quot;[conn_device_name]&quot; delete LAG is not ok</message>
                                                                                                                                                        </actionProperties>
                                                                                                                                                    </item>
                                                                                                                                                    <item actionId="FailTest">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                                    </item>
                                                                                                                                                </actionsWhenFalse>
                                                                                                                                            </ruleProperties>
                                                                                                                                        </processorInfo>
                                                                                                                                    </item>
                                                                                                                                </analysisRules>
                                                                                                                            </postProcessing>
                                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                        </item>
                                                                                                                    </nestedSteps>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="824b0f5b-93e1-4be6-8be0-ff23cbf0c231" action="comment" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>discover and delete the LAG port </body>
                                                                                                                    </command>
                                                                                                                    <nestedSteps>
                                                                                                                        <item guid="96917b92-fbbe-4d2f-8fff-14cde306e0ba" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                                                            <command>
                                                                                                                                <body>/velocity/api/inventory/v16/device/[conn_lepton_device_id]/ports?limit=200</body>
                                                                                                                            </command>
                                                                                                                            <postProcessing>
                                                                                                                                <analysisRules>
                                                                                                                                    <item>
                                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                                <query>mapped/Json/ports/item[*]/name</query>
                                                                                                                                            </extractorProperties>
                                                                                                                                        </extractorInfo>
                                                                                                                                        <processorInfo ruleType="store">
                                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                                <storageLocation>conn_lepton_device_ports</storageLocation>
                                                                                                                                                <storeInAList>true</storeInAList>
                                                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                                            </ruleProperties>
                                                                                                                                        </processorInfo>
                                                                                                                                    </item>
                                                                                                                                    <item>
                                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                                <query>mapped/Json/ports/item[*]/id</query>
                                                                                                                                            </extractorProperties>
                                                                                                                                        </extractorInfo>
                                                                                                                                        <processorInfo ruleType="store">
                                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                                <storageLocation>conn_lepton_device_port_ids</storageLocation>
                                                                                                                                                <storeInAList>true</storeInAList>
                                                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                                            </ruleProperties>
                                                                                                                                        </processorInfo>
                                                                                                                                    </item>
                                                                                                                                </analysisRules>
                                                                                                                            </postProcessing>
                                                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[conn_lepton_device_id]/ports?limit=200" action.inherit="false"/>
                                                                                                                        </item>
                                                                                                                        <item guid="f581748b-0806-4439-960d-6fc6405cf363" action="if" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>name_tsw in conn_lepton_device_ports:</body>
                                                                                                                            </command>
                                                                                                                            <nestedSteps>
                                                                                                                                <item guid="b85f4e02-b43d-405d-8702-ad79343ac157" action="eval" useFieldsInCommand="false">
                                                                                                                                    <command>
                                                                                                                                        <body>conn_lepton_portId=conn_lepton_device_port_ids[conn_lepton_device_ports.index(name_tsw)]</body>
                                                                                                                                    </command>
                                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                </item>
                                                                                                                                <item guid="cf7352bc-82d6-4374-857e-5a9a4e6981ce" action="DELETE" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                                                                    <command>
                                                                                                                                        <body>/velocity/api/inventory/v16/device/[conn_lepton_device_id]/port/[conn_lepton_portId]</body>
                                                                                                                                    </command>
                                                                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[conn_lepton_device_id]/port/[conn_lepton_portId]" action.inherit="false"/>
                                                                                                                                </item>
                                                                                                                            </nestedSteps>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        </item>
                                                                                                                        <item guid="f2875b3a-6b73-47e1-a7e9-eefeef91ed60" action="POST" session="velocity">
                                                                                                                            <command>
                                                                                                                                <body>/velocity/api/inventory/v16/device/[conn_lepton_device_id]/action?type=discover</body>
                                                                                                                            </command>
                                                                                                                            <postProcessing>
                                                                                                                                <analysisRules>
                                                                                                                                    <item>
                                                                                                                                        <extractorInfo extractorType="none">
                                                                                                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                                                                        </extractorInfo>
                                                                                                                                        <processorInfo ruleType="message">
                                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                                                                                <message> Waiting for discover operation on [conn_lepton_device_name]</message>
                                                                                                                                                <tag sub="false" defaultValue=""/>
                                                                                                                                            </ruleProperties>
                                                                                                                                        </processorInfo>
                                                                                                                                    </item>
                                                                                                                                </analysisRules>
                                                                                                                            </postProcessing>
                                                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" bodyType.inherit="false" action="/velocity/api/inventory/v16/device/[conn_lepton_device_id]/action?type=discover" action.inherit="false" includeHttpHeaders.inherit="false">
                                                                                                                                <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                                                                                                <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                                                                                                                    <memberClasses>
                                                                                                                                        <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                                                                                                                    </memberClasses>
                                                                                                                                    <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry"/>
                                                                                                                                </httpHeader>
                                                                                                                            </applicationProperties>
                                                                                                                        </item>
                                                                                                                        <item guid="827a424a-6271-444d-9b5f-af5a4e11d48d" action="sleep">
                                                                                                                            <command>
                                                                                                                                <body>10</body>
                                                                                                                            </command>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        </item>
                                                                                                                        <item guid="049027ba-828b-49e8-a554-5b7bf86eb312" action="consoleLogin" session="fortiswitch_lepton" useFieldsInCommand="false">
                                                                                                                            <postProcessing>
                                                                                                                                <analysisRules>
                                                                                                                                    <item>
                                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                                <query>retCode()</query>
                                                                                                                                            </extractorProperties>
                                                                                                                                        </extractorInfo>
                                                                                                                                        <processorInfo ruleType="assert">
                                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                                <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                                                                                                <actionsWhenFalse>
                                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                                            <message>--- console login not ok; fail test</message>
                                                                                                                                                        </actionProperties>
                                                                                                                                                    </item>
                                                                                                                                                    <item actionId="FailTest">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                                    </item>
                                                                                                                                                </actionsWhenFalse>
                                                                                                                                            </ruleProperties>
                                                                                                                                        </processorInfo>
                                                                                                                                    </item>
                                                                                                                                </analysisRules>
                                                                                                                            </postProcessing>
                                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                        </item>
                                                                                                                        <item guid="c483eabb-8c7e-4d22-ab80-8744f4f2f9dc" action="command" session="fortiswitch_lepton">
                                                                                                                            <postProcessing>
                                                                                                                                <analysisRules>
                                                                                                                                    <item>
                                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                                                <query>promptName()</query>
                                                                                                                                            </extractorProperties>
                                                                                                                                        </extractorInfo>
                                                                                                                                        <processorInfo ruleType="assert">
                                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                                <expression>str(value) == &quot;prompt1&quot; </expression>
                                                                                                                                                <actionsWhenTrue>
                                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                                            <message>For &quot;[conn_device_name]&quot;: discover operation was successfully</message>
                                                                                                                                                        </actionProperties>
                                                                                                                                                    </item>
                                                                                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                                    </item>
                                                                                                                                                </actionsWhenTrue>
                                                                                                                                                <actionsWhenFalse>
                                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                                                                                                            <message>--- discover operation is still in progress...</message>
                                                                                                                                                        </actionProperties>
                                                                                                                                                    </item>
                                                                                                                                                    <item actionId="RepeatStep">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="100" delayBetweenRepeats="5.0"/>
                                                                                                                                                    </item>
                                                                                                                                                </actionsWhenFalse>
                                                                                                                                            </ruleProperties>
                                                                                                                                        </processorInfo>
                                                                                                                                    </item>
                                                                                                                                </analysisRules>
                                                                                                                            </postProcessing>
                                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                                                                                <lineTerminator inherit="false">SLASH_R</lineTerminator>
                                                                                                                                <promptProperties>
                                                                                                                                    <stepPrompts>
                                                                                                                                        <item name="prompt1" MatchMethod="WILDCARD">
                                                                                                                                            <Content sub="true">* login:</Content>
                                                                                                                                        </item>
                                                                                                                                        <item name="prompt2" MatchMethod="WILDCARD" TypeOfPrompt="PASSWORD">
                                                                                                                                            <Content sub="true">* #</Content>
                                                                                                                                        </item>
                                                                                                                                        <item name="prompt3">
                                                                                                                                            <Content>Password:</Content>
                                                                                                                                        </item>
                                                                                                                                        <item name="prompt4">
                                                                                                                                            <Content>--More-- </Content>
                                                                                                                                            <MoreNextCommand> \\r</MoreNextCommand>
                                                                                                                                        </item>
                                                                                                                                        <item name="prompt5">
                                                                                                                                            <Content>Do you want to continue? (y/n)</Content>
                                                                                                                                        </item>
                                                                                                                                        <item name="prompt6" MatchMethod="WILDCARD">
                                                                                                                                            <Content sub="true">* (*) #</Content>
                                                                                                                                        </item>
                                                                                                                                        <item name="prompt7" MatchMethod="WILDCARD">
                                                                                                                                            <Content sub="true">*:</Content>
                                                                                                                                        </item>
                                                                                                                                        <item name="prompt8" MatchMethod="WILDCARD">
                                                                                                                                            <Content sub="true">*</Content>
                                                                                                                                        </item>
                                                                                                                                    </stepPrompts>
                                                                                                                                </promptProperties>
                                                                                                                                <completionProperties promptLearnUserResponseTime="60" promptLearnUserResponseTime.inherit="false">
                                                                                                                                    <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                                                                                                </completionProperties>
                                                                                                                            </applicationProperties>
                                                                                                                            <advancedProperties defaultSessionProfile="application:com.fnfr.svt.applications.telnet"/>
                                                                                                                        </item>
                                                                                                                    </nestedSteps>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="f881957b-ca6c-4dd7-aa90-b48114be5edc" action="comment" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>console exit</body>
                                                                                                                    </command>
                                                                                                                    <nestedSteps>
                                                                                                                        <item guid="34c603f4-4f18-4aa4-a7ed-f3c9f4ad5912" action="consoleExit" session="fortiswitch_lepton" useFieldsInCommand="false">
                                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                        </item>
                                                                                                                    </nestedSteps>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="223c5703-38cb-49d9-b232-cf1c9e71b102" action="comment" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>close session</body>
                                                                                                                    </command>
                                                                                                                    <nestedSteps>
                                                                                                                        <item guid="c255385d-5be7-46b2-96b6-ead4e28b5317" action="close" session="fortiswitch_lepton">
                                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                        </item>
                                                                                                                    </nestedSteps>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="926b6bb3-974f-4c01-a757-4d0cd25e4c2d" action="if" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>conn_lepton_template_name == &quot;Arista Switch&quot;:</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="74c04d98-372e-46f7-a795-3e4bca946de8" action="comment" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>info</body>
                                                                                                                    </command>
                                                                                                                    <postProcessing>
                                                                                                                        <analysisRules>
                                                                                                                            <item>
                                                                                                                                <extractorInfo extractorType="none">
                                                                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                                                                </extractorInfo>
                                                                                                                                <processorInfo ruleType="message">
                                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                                                                        <message> For device &quot;[conn_lepton_device_name]&quot; ports [conn_lepton_port_name] are included in LAG</message>
                                                                                                                                        <tag sub="false" defaultValue=""/>
                                                                                                                                    </ruleProperties>
                                                                                                                                </processorInfo>
                                                                                                                            </item>
                                                                                                                        </analysisRules>
                                                                                                                    </postProcessing>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="ea762ec7-37b4-4fbe-9168-9fe7f0e907de" action="comment" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>open session</body>
                                                                                                                    </command>
                                                                                                                    <nestedSteps>
                                                                                                                        <item guid="76c5b87c-5499-4c3b-9ddc-4c13b229b7b0" action="open" session="arista_lepton">
                                                                                                                            <command>
                                                                                                                                <body>project://Arista_console/session_profiles/console.ffsp</body>
                                                                                                                            </command>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                                                                                <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                                <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                                                                                                    <ipAddress inherit="false">[conn_lepton_device_console_ip_addr]</ipAddress>
                                                                                                                                    <port inherit="false">[conn_lepton_device_console_port]</port>
                                                                                                                                    <TerminalProperties>
                                                                                                                                        <stepDefaults>
                                                                                                                                            <completionProperties>
                                                                                                                                                <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                                                                                                            </completionProperties>
                                                                                                                                        </stepDefaults>
                                                                                                                                    </TerminalProperties>
                                                                                                                                </sessionProperties>
                                                                                                                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                            </applicationProperties>
                                                                                                                        </item>
                                                                                                                    </nestedSteps>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="3ac5411b-5656-463c-80d3-52bb513cf7ea" action="comment" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>set parameters based on name convention</body>
                                                                                                                    </command>
                                                                                                                    <nestedSteps>
                                                                                                                        <item guid="b8cfa7fd-cf1f-4168-9e7b-94a96d5e1417" action="eval" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>number = &quot;10&quot;</body>
                                                                                                                            </command>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        </item>
                                                                                                                        <item guid="f3f8aed3-780b-406e-8012-62e0fb9d5a29" action="eval" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>ports_arista=&quot;,&quot;.join(conn_lepton_port_name)</body>
                                                                                                                            </command>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        </item>
                                                                                                                        <item guid="3ad4a4ca-5f19-4462-a4de-574a18b9ac92" action="eval" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>print(ports_arista)</body>
                                                                                                                            </command>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        </item>
                                                                                                                        <item guid="3d77c22a-5694-47a3-aad3-86c3a11e8eac" action="eval" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>mode=&quot;active&quot;</body>
                                                                                                                            </command>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        </item>
                                                                                                                        <item guid="b88eaba5-42ed-4c8e-8f3b-54b4c9da8c19" action="eval" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>port_channel=&quot;Po&quot;+str(number)</body>
                                                                                                                            </command>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        </item>
                                                                                                                    </nestedSteps>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="5e58ead4-41be-4720-a179-d371db607e50" action="comment" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>console login and unset port-channel</body>
                                                                                                                    </command>
                                                                                                                    <nestedSteps>
                                                                                                                        <item guid="0ea31af0-8f5e-4070-b840-23dbb8150985" action="unsetSwitchPortChannel" session="arista_lepton" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>-number [number]</body>
                                                                                                                            </command>
                                                                                                                            <postProcessing>
                                                                                                                                <analysisRules>
                                                                                                                                    <item>
                                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                                <query>retCode()</query>
                                                                                                                                            </extractorProperties>
                                                                                                                                        </extractorInfo>
                                                                                                                                        <processorInfo ruleType="assert">
                                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                                <expression>value == &quot;TRUE&quot;</expression>
                                                                                                                                                <actionsWhenTrue>
                                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                                            <message>For &quot;[conn_lepton_device_name]&quot; delete LAG on ports [conn_lepton_port_name] is ok</message>
                                                                                                                                                        </actionProperties>
                                                                                                                                                    </item>
                                                                                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                                    </item>
                                                                                                                                                </actionsWhenTrue>
                                                                                                                                                <actionsWhenFalse>
                                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                                            <message>For &quot;[conn_lepton_device_name]&quot; delete LAG is not ok</message>
                                                                                                                                                        </actionProperties>
                                                                                                                                                    </item>
                                                                                                                                                    <item actionId="FailTest">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                                    </item>
                                                                                                                                                </actionsWhenFalse>
                                                                                                                                            </ruleProperties>
                                                                                                                                        </processorInfo>
                                                                                                                                    </item>
                                                                                                                                </analysisRules>
                                                                                                                            </postProcessing>
                                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                        </item>
                                                                                                                    </nestedSteps>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="48a1f558-e6e9-4cba-9dda-9309395646f6" action="comment" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>discover and delete the LAG port </body>
                                                                                                                    </command>
                                                                                                                    <nestedSteps>
                                                                                                                        <item guid="bf88db82-b549-4f66-9b02-50339196b825" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                                                            <command>
                                                                                                                                <body>/velocity/api/inventory/v16/device/[conn_lepton_device_id]/ports?limit=200</body>
                                                                                                                            </command>
                                                                                                                            <postProcessing>
                                                                                                                                <analysisRules>
                                                                                                                                    <item>
                                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                                <query>mapped/Json/ports/item[*]/name</query>
                                                                                                                                            </extractorProperties>
                                                                                                                                        </extractorInfo>
                                                                                                                                        <processorInfo ruleType="store">
                                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                                <storageLocation>conn_lepton_device_ports</storageLocation>
                                                                                                                                                <storeInAList>true</storeInAList>
                                                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                                            </ruleProperties>
                                                                                                                                        </processorInfo>
                                                                                                                                    </item>
                                                                                                                                    <item>
                                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                                <query>mapped/Json/ports/item[*]/id</query>
                                                                                                                                            </extractorProperties>
                                                                                                                                        </extractorInfo>
                                                                                                                                        <processorInfo ruleType="store">
                                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                                <storageLocation>conn_lepton_device_port_ids</storageLocation>
                                                                                                                                                <storeInAList>true</storeInAList>
                                                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                                            </ruleProperties>
                                                                                                                                        </processorInfo>
                                                                                                                                    </item>
                                                                                                                                </analysisRules>
                                                                                                                            </postProcessing>
                                                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[conn_lepton_device_id]/ports?limit=200" action.inherit="false"/>
                                                                                                                        </item>
                                                                                                                        <item guid="ee0931a6-25e8-4485-8a8a-bfb91a1221fe" action="if" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>port_channel in conn_lepton_device_ports:</body>
                                                                                                                            </command>
                                                                                                                            <nestedSteps>
                                                                                                                                <item guid="1cb3e505-2fa5-4053-9cb0-0ca1395e0f69" action="eval" useFieldsInCommand="false">
                                                                                                                                    <command>
                                                                                                                                        <body>conn_lepton_portId=conn_lepton_device_port_ids[conn_lepton_device_ports.index(port_channel)]</body>
                                                                                                                                    </command>
                                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                </item>
                                                                                                                                <item guid="29d4b150-ea4c-4d1e-b88a-769ad2d4f2c3" action="DELETE" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                                                                    <command>
                                                                                                                                        <body>/velocity/api/inventory/v16/device/[conn_lepton_device_id]/port/[conn_lepton_portId]</body>
                                                                                                                                    </command>
                                                                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[conn_lepton_device_id]/port/[conn_lepton_portId]" action.inherit="false"/>
                                                                                                                                </item>
                                                                                                                            </nestedSteps>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        </item>
                                                                                                                        <item guid="ef9fe73c-a009-41e8-827a-8d01bf705890" action="POST" session="velocity">
                                                                                                                            <command>
                                                                                                                                <body>/velocity/api/inventory/v16/device/[conn_lepton_device_id]/action?type=discover</body>
                                                                                                                            </command>
                                                                                                                            <postProcessing>
                                                                                                                                <analysisRules>
                                                                                                                                    <item>
                                                                                                                                        <extractorInfo extractorType="none">
                                                                                                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                                                                        </extractorInfo>
                                                                                                                                        <processorInfo ruleType="message">
                                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                                                                                <message> Waiting for discover operation on [conn_lepton_device_name]</message>
                                                                                                                                                <tag sub="false" defaultValue=""/>
                                                                                                                                            </ruleProperties>
                                                                                                                                        </processorInfo>
                                                                                                                                    </item>
                                                                                                                                </analysisRules>
                                                                                                                            </postProcessing>
                                                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" bodyType.inherit="false" action="/velocity/api/inventory/v16/device/[conn_lepton_device_id]/action?type=discover" action.inherit="false" includeHttpHeaders.inherit="false">
                                                                                                                                <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                                                                                                <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                                                                                                                    <memberClasses>
                                                                                                                                        <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                                                                                                                    </memberClasses>
                                                                                                                                    <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry"/>
                                                                                                                                </httpHeader>
                                                                                                                            </applicationProperties>
                                                                                                                        </item>
                                                                                                                        <item guid="44e0abfe-de7a-4b31-b827-08cc6422b699" action="sleep">
                                                                                                                            <command>
                                                                                                                                <body>10</body>
                                                                                                                            </command>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        </item>
                                                                                                                        <item guid="6157ce99-a9dd-4e3f-a9a7-bf30ac3ff182" action="consoleLogin" session="arista_lepton" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>-username [conn_lepton_device_username] -password [conn_lepton_device_password]</body>
                                                                                                                            </command>
                                                                                                                            <postProcessing>
                                                                                                                                <analysisRules>
                                                                                                                                    <item>
                                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                                <query>retCode()</query>
                                                                                                                                            </extractorProperties>
                                                                                                                                        </extractorInfo>
                                                                                                                                        <processorInfo ruleType="assert">
                                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                                <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                                                                                                <actionsWhenFalse>
                                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                                            <message>--- console login not ok; fail test</message>
                                                                                                                                                        </actionProperties>
                                                                                                                                                    </item>
                                                                                                                                                    <item actionId="FailTest">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                                    </item>
                                                                                                                                                </actionsWhenFalse>
                                                                                                                                            </ruleProperties>
                                                                                                                                        </processorInfo>
                                                                                                                                    </item>
                                                                                                                                </analysisRules>
                                                                                                                            </postProcessing>
                                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                        </item>
                                                                                                                        <item guid="d1750fe9-345c-41f7-a8f9-2ba262db8926" action="command" session="arista_lepton">
                                                                                                                            <postProcessing>
                                                                                                                                <analysisRules>
                                                                                                                                    <item>
                                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                                                <query>promptName()</query>
                                                                                                                                            </extractorProperties>
                                                                                                                                        </extractorInfo>
                                                                                                                                        <processorInfo ruleType="assert">
                                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                                <expression>str(value) == &quot;prompt1&quot; </expression>
                                                                                                                                                <actionsWhenTrue>
                                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                                            <message>For &quot;[conn_device_name]&quot;: discover operation was successfully</message>
                                                                                                                                                        </actionProperties>
                                                                                                                                                    </item>
                                                                                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                                    </item>
                                                                                                                                                </actionsWhenTrue>
                                                                                                                                                <actionsWhenFalse>
                                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                                                                                                            <message>--- discover operation is still in progress...</message>
                                                                                                                                                        </actionProperties>
                                                                                                                                                    </item>
                                                                                                                                                    <item actionId="RepeatStep">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="100" delayBetweenRepeats="5.0"/>
                                                                                                                                                    </item>
                                                                                                                                                </actionsWhenFalse>
                                                                                                                                            </ruleProperties>
                                                                                                                                        </processorInfo>
                                                                                                                                    </item>
                                                                                                                                </analysisRules>
                                                                                                                            </postProcessing>
                                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                                                                                <lineTerminator inherit="false">SLASH_R</lineTerminator>
                                                                                                                                <promptProperties>
                                                                                                                                    <stepPrompts>
                                                                                                                                        <item name="prompt1" MatchMethod="WILDCARD">
                                                                                                                                            <Content sub="true">* login:</Content>
                                                                                                                                        </item>
                                                                                                                                        <item name="prompt2" MatchMethod="WILDCARD" TypeOfPrompt="PASSWORD">
                                                                                                                                            <Content sub="true">* #</Content>
                                                                                                                                        </item>
                                                                                                                                        <item name="prompt3">
                                                                                                                                            <Content>Password:</Content>
                                                                                                                                        </item>
                                                                                                                                        <item name="prompt4">
                                                                                                                                            <Content>--More-- </Content>
                                                                                                                                            <MoreNextCommand> \\r</MoreNextCommand>
                                                                                                                                        </item>
                                                                                                                                        <item name="prompt5">
                                                                                                                                            <Content>Do you want to continue? (y/n)</Content>
                                                                                                                                        </item>
                                                                                                                                        <item name="prompt6" MatchMethod="WILDCARD">
                                                                                                                                            <Content sub="true">* (*) #</Content>
                                                                                                                                        </item>
                                                                                                                                        <item name="prompt7" MatchMethod="WILDCARD">
                                                                                                                                            <Content sub="true">*:</Content>
                                                                                                                                        </item>
                                                                                                                                        <item name="prompt8" MatchMethod="WILDCARD">
                                                                                                                                            <Content sub="true">*</Content>
                                                                                                                                        </item>
                                                                                                                                    </stepPrompts>
                                                                                                                                </promptProperties>
                                                                                                                                <completionProperties promptLearnUserResponseTime="60" promptLearnUserResponseTime.inherit="false">
                                                                                                                                    <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                                                                                                </completionProperties>
                                                                                                                            </applicationProperties>
                                                                                                                            <advancedProperties defaultSessionProfile="application:com.fnfr.svt.applications.telnet"/>
                                                                                                                        </item>
                                                                                                                    </nestedSteps>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="eead270b-356d-4d49-9ef6-e739bb6c6038" action="comment" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>console exit</body>
                                                                                                                    </command>
                                                                                                                    <nestedSteps>
                                                                                                                        <item guid="f303e929-f4e6-44ee-81aa-91de78b5bd9b" action="consoleExit" session="arista_lepton" useFieldsInCommand="false">
                                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                        </item>
                                                                                                                    </nestedSteps>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="98a1dc80-0756-434d-a269-5a73fe8f2610" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>close session</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="3d043e4b-252d-403c-a961-c4a02ab68d44" action="close" session="lepton">
                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="7270239c-e028-4a99-85d0-134403b1c594" action="comment" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>Reinit dicts</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="e79711af-1e48-4b3f-be4f-2fe94ec4cbcc" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>device_ports_per_lag=[]</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="931f68ab-c509-4a12-ae2d-c21e7dcc8518" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>conn_device_ports_per_lag=[]</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="24fa8c35-8a9b-423f-82b7-4121cdc78c48" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>device_ports=[]</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="a54e09aa-8e76-4245-abe5-6528b21b8fe9" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Reinit dicts</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="40f4d8a1-3c3c-45e0-90c8-75cfac2bb14d" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>device_lag_ports=[]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="4e251401-73c3-4306-8bcb-254c29f4694c" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>conn_port_names=[]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="983fe7de-313f-4acd-b278-e002ee579960" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>conn_device_names=[]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="66596dca-9847-40f8-98ac-084ea4389c66" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>device_topology_port_ids=[]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="d779b7c5-99ec-4ca2-9def-bc916c3169d3" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>device_ports=[]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="fe4ef96c-390c-4c95-8c8a-7cc849e7ef4f" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>device_name_port=[]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="0a938ede-844a-443a-a6e5-29d7d27e775c" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>device_ports_per_lag=[]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="4cda4509-4b8f-4a7c-9688-1d32893f6e76" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>conn_device_ports_per_lag=[]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="711e0459-bf9b-4485-b651-0c2f05aa9d4e" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Disable Vdom Mode</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="27ab3354-f785-4137-b864-d931d22067f4" action="open" session="vdom">
                                                            <command>
                                                                <body>project://Fortigate_console/session_profiles/console.ffsp</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                    <completionProperties>
                                                                        <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                                    </completionProperties>
                                                                </stepProperties>
                                                                <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                                    <ipAddress inherit="false">[device_console_ip]</ipAddress>
                                                                    <port inherit="false">[device_console]</port>
                                                                </sessionProperties>
                                                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="473dab0c-0271-4aca-95d5-03613a0b477a" action="disableVdom" session="vdom" useFieldsInCommand="false">
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>isEmpty()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="assert">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                <expression>str(value) == &quot;false&quot; </expression>
                                                                                <actionsWhenTrue>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                            <message>---For device [device] disable vdom operation was successful</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </actionsWhenTrue>
                                                                                <actionsWhenFalse>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                            <message>---Disable vdom operation was not successful</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                </actionsWhenFalse>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                        </item>
                                                        <item guid="385d3739-3293-43cd-9781-7fd801edc35b" action="consoleExit" session="vdom" useFieldsInCommand="false">
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                        </item>
                                                        <item guid="d0064854-d618-4691-99e4-c2d80c84ceee" action="close" session="vdom">
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="dbf86598-59ad-44fd-b691-779446e64900" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Discover and update the LAG ports</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="376bc723-7be2-4d19-b82f-255545ad08ef" action="open" session="fortigateDiscover" useFieldsInCommand="false">
                                                            <command>
                                                                <body>project://Fortigate_console/session_profiles/console.ffsp</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                    <completionProperties>
                                                                        <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                                    </completionProperties>
                                                                </stepProperties>
                                                                <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                                    <ipAddress inherit="false">[device_console_ip]</ipAddress>
                                                                    <port inherit="false">[device_console]</port>
                                                                </sessionProperties>
                                                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="377cd182-0d44-494c-af4b-1f8dbd3c9ae7" action="POST" session="velocity">
                                                            <command>
                                                                <body>/velocity/api/inventory/v16/device/[device_id]/action?type=discover</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="none">
                                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="message">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                <message> Waiting for discover operation on [device]</message>
                                                                                <tag sub="false" defaultValue=""/>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" bodyType.inherit="false" action="/velocity/api/inventory/v16/device/[device_id]/action?type=discover" action.inherit="false" includeHttpHeaders.inherit="false">
                                                                <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                                <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                                                    <memberClasses>
                                                                        <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                                                    </memberClasses>
                                                                    <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry"/>
                                                                </httpHeader>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="3d296427-bf47-4373-b055-758fe0f3cb9d" action="sleep">
                                                            <command>
                                                                <body>10</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="c489e783-227a-491c-b526-da8de42d6550" action="command" session="fortigateDiscover">
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                <query>promptName()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="assert">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                <expression>str(value) == &quot;prompt1&quot; </expression>
                                                                                <actionsWhenTrue>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                            <message>For &quot;[device]&quot;: discover operation was successfully</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </actionsWhenTrue>
                                                                                <actionsWhenFalse>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                                            <message>--- discover operation is still in progress...</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="RepeatStep">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="100" delayBetweenRepeats="5.0"/>
                                                                                    </item>
                                                                                </actionsWhenFalse>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                <lineTerminator inherit="false">SLASH_R</lineTerminator>
                                                                <promptProperties>
                                                                    <stepPrompts>
                                                                        <item name="prompt1" MatchMethod="WILDCARD">
                                                                            <Content sub="true">* login:</Content>
                                                                        </item>
                                                                        <item name="prompt2" MatchMethod="WILDCARD" TypeOfPrompt="PASSWORD">
                                                                            <Content sub="true">* #</Content>
                                                                        </item>
                                                                        <item name="prompt3">
                                                                            <Content>Password:</Content>
                                                                        </item>
                                                                        <item name="prompt4">
                                                                            <Content>--More-- </Content>
                                                                            <MoreNextCommand> \\r</MoreNextCommand>
                                                                        </item>
                                                                        <item name="prompt5">
                                                                            <Content>Do you want to continue? (y/n)</Content>
                                                                        </item>
                                                                        <item name="prompt6" MatchMethod="WILDCARD">
                                                                            <Content sub="true">* (*) #</Content>
                                                                        </item>
                                                                        <item name="prompt7" MatchMethod="WILDCARD">
                                                                            <Content sub="true">*:</Content>
                                                                        </item>
                                                                        <item name="prompt8" MatchMethod="WILDCARD">
                                                                            <Content sub="true">*</Content>
                                                                        </item>
                                                                    </stepPrompts>
                                                                </promptProperties>
                                                                <completionProperties promptLearnUserResponseTime="60" promptLearnUserResponseTime.inherit="false">
                                                                    <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                                </completionProperties>
                                                            </applicationProperties>
                                                            <advancedProperties defaultSessionProfile="application:com.fnfr.svt.applications.telnet"/>
                                                        </item>
                                                        <item guid="eb053207-31ee-4f87-9c24-1e9992433955" action="close" session="fortigateDiscover">
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="27b1dbde-7157-4170-adb3-6a1fa8732f27" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="b8bacc4e-0525-4ca3-8658-db6ba4b93689" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>skip operation</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="6d8990f1-bfc2-4eb9-8c49-52e73d61d6ca" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(&quot;LAG was not implemented in topology&quot;)</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="none">
                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="message">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                <message> For reservation &quot;[reservationId]&quot; checking LAG connections</message>
                                                                <tag sub="false" defaultValue=""/>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>isEmpty()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>str(value) == &quot;false&quot; </expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                            <message>--- LAG was not implemented in topology...</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="fe8b626e-a96d-4630-acd4-e59b9dae836b" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Close velocity session</body>
                    </command>
                    <nestedSteps>
                        <item guid="c4acde1b-6b0b-4035-aeaf-160a6a5cc4d1" action="close" session="velocity">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
    </procedures>
</testCase>
