<?xml version="1.0"?>
<testCase version="8.7.0.202112151246">
    <general>
        <language>Python</language>
    </general>
    <execution>
        <parameters version="8.7.0.202112151246">
            <parameters escape="true">
                <parameters xmlns:pt="http://www.fnfr.com/schemas/parameterTree">
                    <device_name pt:datatype="device_name" pt:description="Device Name"/>
                    <device_port pt:description="Device Port Names"/>
                    <sw_mode pt:datatype="sw_mode" pt:description="LACP Mode"/>
                    <untagged_vlan_id pt:description="Native vlanId"/>
                    <tagged_vlan_id pt:description="Allowed vlanIds">1</tagged_vlan_id>
                    <po_number pt:description="Port-channel Number"/>
                </parameters>
            </parameters>
            <parametersTypes>
                <item name="device_name">
                    <items>
                        <item name="fgt101f-velocity_107.200"/>
                        <item name="fgt1101e-velocity_107.201"/>
                        <item name="fgt3501F-velocity_107.202"/>
                        <item name="tsw1-velocity_107.40"/>
                        <item name="arista-velocity_107.205"/>
                        <item name="FGT-1800F-V_107.110"/>
                        <item name="FGT-3400E-V_107.111"/>
                        <item name="FS-3032E-V"/>
                    </items>
                </item>
                <item name="sw_mode">
                    <items>
                        <item name="active"/>
                        <item name="passive"/>
                    </items>
                </item>
            </parametersTypes>
        </parameters>
    </execution>
    <procedures>
        <item name="main">
            <steps>
                <item guid="2bcbdd46-0abb-47b5-9e7c-a29283b9c949" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Initialization</body>
                    </command>
                    <nestedSteps>
                        <item guid="e4b3ed7c-1986-44b9-9da1-3616ff76c26b" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>device_name = param(&apos;device_name&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="d0665882-1add-49d1-bce5-754c3cbe73a5" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>device_ports = param(&apos;device_port&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="88c9b8f6-0d8e-45f8-b555-e18bb7c9b8c1" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>sw_mode = param(&apos;sw_mode&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="09bd486c-ef9e-4b7e-b488-a1b195c06fbd" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>untagged_vlan_id=param(&apos;untagged_vlan_id&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="17f713fe-7236-48f0-90fb-2c56977185ac" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tagged_vlan_id=param(&apos;tagged_vlan_id&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="0d40a1d0-cbc3-4b01-a54a-5c2dc4b96668" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>po_number=param(&apos;po_number&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="229ddca9-47fb-42b2-acf1-6e4f1a3c0c9a" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get device details</body>
                    </command>
                    <nestedSteps>
                        <item guid="2a73d64c-e216-4475-bafa-7b3fa49ad18e" action="open" session="velocity" useFieldsInCommand="false">
                            <command>
                                <body>application:com.fnfr.itest.applications.webservices.restful</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulSessionProperties" url="https://10.210.107.10" url.inherit="false" version="2" version.inherit="false">
                                    <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" authenticationType="Basic" authenticationType.inherit="false" user="superadmin" user.inherit="false" password.masked="false" password="superadmin" password.inherit="false" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                </sessionProperties>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                        </item>
                        <item guid="262ecaef-bdc2-4112-9e07-b0c7d0e0ef97" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                            <command>
                                <body>velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[device_name]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/devices/item/id</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>device_id</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query>mapped/Json/devices/item/properties/item[name = &apos;Console&apos;]/value</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>device_console_ip_addr</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query>mapped/Json/devices/item/properties/item[name = &apos;Console Port&apos;]/value</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>device_console_port</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query>mapped/Json/devices/item/properties/item[name = &apos;ipAddress&apos;]/value</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>device_ip_addr</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/devices/item/properties/item[name = &apos;username&apos;]/value</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>device_username</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/devices/item/properties/item[name = &apos;password&apos;]/value</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>device_password</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/devices/item/templateId</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>template_id</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[device_name]" action.inherit="false"/>
                        </item>
                        <item guid="d4fce4e4-1f96-40f6-a940-a0a1719e2cfb" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                            <command>
                                <body>/velocity/api/inventory/v16/template/[template_id]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/name</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>template_name</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/template/[template_id]" action.inherit="false"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="a3b02b39-a62b-416d-a96d-829a14b8d144" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get device port list</body>
                    </command>
                    <nestedSteps>
                        <item guid="b6357a31-669e-41b9-80f9-e46ca4bb8a3b" action="if" useFieldsInCommand="false">
                            <command>
                                <body>&quot;,&quot; in device_ports:</body>
                            </command>
                            <nestedSteps>
                                <item guid="fe63e38f-e8af-4109-8d97-0bb9141ac0f6" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>device_ports=device_ports.split(&quot;,&quot;) </body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="429114a6-db61-4d6d-8e2d-b2dfaf7b82fc" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="c69f4491-299e-4aba-99ab-7962849eebba" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>device_ports=device_ports.split() </body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="60c46a5b-9a28-49b6-a0af-67d042b4a856" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(device_ports)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a0e053c3-4ed3-448a-9435-60835860712e" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Remove blank spaces from port names if needed</body>
                            </command>
                            <nestedSteps>
                                <item guid="9860096d-4e4e-4e57-95f3-851aa04350d8" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>device_port=[]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="31b33519-3023-4488-9684-1ba58f48844c" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>port in device_ports:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="44c95359-5e07-412a-b955-1886bbe8576d" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>port_name = port.replace(&apos; &apos;,&apos;&apos;)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="4e122eed-a76f-4d0e-8f55-c18ee2e6bd3b" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>device_port.append(port_name)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="1f0a9202-7a98-4e8f-b0ad-0e6d5b0a060d" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>device_ports=device_port.copy()</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="3ee08bba-2815-45c9-becc-d2fb678b60f5" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(device_ports)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="067c365d-67b1-49fd-bb98-e1dac4bcb590" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Set LAG ports commands on device</body>
                    </command>
                    <nestedSteps>
                        <item guid="bec9065c-bda1-459e-ae38-e408056e239d" action="if" useFieldsInCommand="false">
                            <command>
                                <body>str(template_name) == &quot;Fortigate Firewall&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="0e234d30-37bd-4ffd-982c-d81870dc14a3" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>open session</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ff1977c0-1bd2-43b6-9c36-372ba0285fa9" action="open" session="fortigate">
                                            <command>
                                                <body>project://Fortigate_console/session_profiles/console.ffsp</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                    <completionProperties>
                                                        <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                    </completionProperties>
                                                </stepProperties>
                                                <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                    <ipAddress inherit="false">[device_console_ip_addr]</ipAddress>
                                                    <port inherit="false">[device_console_port]</port>
                                                </sessionProperties>
                                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="2232fa4d-ebd6-42e7-bbee-47a1b4cec5a4" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>console login</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="b2df77b9-ddec-4fad-973a-63abbd40363c" action="consoleLogin" session="fortigate" useFieldsInCommand="false">
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="3b3680bd-7320-427a-93c6-731a1a8be4db" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>enable vdom</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="348a57df-d499-47a2-8d59-4ffca7665d28" action="command" session="fortigate">
                                            <command>
                                                <body>config global</body>
                                            </command>
                                            <postProcessing>
                                                <storeResponseAt>vdom_output</storeResponseAt>
                                                <storeResponseText>true</storeResponseText>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                        <item guid="9069582f-9676-4159-996d-2426e14d2ad1" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>&quot;Command fail. Return code 1&quot; in vdom_output:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="f412567a-f873-41e2-8985-2e8fd3f57d53" action="enableVdom" session="fortigate" useFieldsInCommand="false">
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="fa3de131-8eae-48eb-b909-e239d7a0e686" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>set parameters based on name convention</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="57270022-205e-4653-b83d-e0321b21a5c0" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>name=&quot;DATA&quot;+&quot;_&quot;+&quot;_&quot;.join(device_ports).replace(&quot;port&quot;,&quot;&quot;)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="d6989374-8fb8-4e2e-b3be-d22bbdce5b09" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>name=name[:10]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="6998b12f-6366-4faa-b803-39977ea8acda" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(name)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="76390219-162c-49b0-9320-6dc426168c4e" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ports=&quot; &quot;.join(device_ports)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="1e06672c-5c7b-4ead-a758-129c736753a6" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(ports)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="e5b17fc3-619d-47ca-a3ec-5c89fd451ba3" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>lag=&quot;LAG&quot;+&quot;_&quot;+&quot;_&quot;.join(device_ports).replace(&quot;port&quot;,&quot;&quot;)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="39978c4f-2126-4ba7-8e39-099decffe1e8" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>lag=lag[:13]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="a3a742d5-8eda-4bf2-8dd7-e6a7ccb670f6" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>console login and create vdom</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="c6ad8ecc-f75e-4b27-9377-df71e7a95997" action="configureVdom" session="fortigate" useFieldsInCommand="false">
                                            <command>
                                                <body>-name [name]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="5eec40f4-a0ce-468f-be5c-289cf6850104" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>assign interfaces to vdom</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="2ebe38d5-4f1e-4a6b-b8c3-41762079452c" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>port in device_ports:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="fa94d2fc-5090-40c6-976c-3f9a74a06e2f" action="assignInterfacesToVdom" session="fortigate" useFieldsInCommand="false">
                                                    <command>
                                                        <body>-port [port] -name [name]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="36d8b4d5-186b-49b3-8758-099a21e00457" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>config LAG</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="777f34fa-f105-4e31-bd11-e0e846d50f55" action="configureLag" session="fortigate" useFieldsInCommand="false">
                                            <command>
                                                <body>-port [lag] -name [name] -ports [ports]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>retCode()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>value == &quot;TRUE&quot;</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                            <message>For &quot;[device_name]&quot; config LAG on ports [device_ports] is ok</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                                <actionsWhenFalse>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                            <message>For &quot;[device_name]&quot; config LAG is not ok</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="9aff0985-aac5-4e05-81a9-0d3b748863be" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>console exit</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="1d3430a1-e9f9-498f-8dc2-c9d45bb7a8d0" action="consoleExit" session="fortigate" useFieldsInCommand="false">
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="7d6fb5d2-c363-4096-9226-89048e5ad19a" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>discover and update the LAG ports</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="38fed11d-b0c5-47c0-a32c-e8830b62d890" action="POST" session="velocity">
                                            <command>
                                                <body>/velocity/api/inventory/v16/device/[device_id]/action?type=discover</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="none">
                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="message">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                <message> Waiting for discover operation on [device_name]</message>
                                                                <tag sub="false" defaultValue=""/>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" bodyType.inherit="false" action="/velocity/api/inventory/v16/device/[device_id]/action?type=discover" action.inherit="false" includeHttpHeaders.inherit="false">
                                                <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                                    <memberClasses>
                                                        <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                                    </memberClasses>
                                                    <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry"/>
                                                </httpHeader>
                                            </applicationProperties>
                                        </item>
                                        <item guid="959f39a4-cdda-4084-a2d9-236559d13b1f" action="sleep">
                                            <command>
                                                <body>10</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="81c7b8f1-0569-4f4e-8e1b-41c28ba05970" action="command" session="fortigate">
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                <query>promptName()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>str(value) == &quot;prompt1&quot; </expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                            <message>For &quot;[device_name]&quot;: discover operation was successfully</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                                <actionsWhenFalse>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                            <message>--- discover operation is still in progress...</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="RepeatStep">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="100" delayBetweenRepeats="5.0"/>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                <lineTerminator inherit="false">SLASH_R</lineTerminator>
                                                <promptProperties>
                                                    <stepPrompts>
                                                        <item name="prompt1" MatchMethod="WILDCARD">
                                                            <Content sub="true">* login:</Content>
                                                        </item>
                                                        <item name="prompt2" MatchMethod="WILDCARD" TypeOfPrompt="PASSWORD">
                                                            <Content sub="true">* #</Content>
                                                        </item>
                                                        <item name="prompt3">
                                                            <Content>Password:</Content>
                                                        </item>
                                                        <item name="prompt4">
                                                            <Content>--More-- </Content>
                                                            <MoreNextCommand> \\r</MoreNextCommand>
                                                        </item>
                                                        <item name="prompt5">
                                                            <Content>Do you want to continue? (y/n)</Content>
                                                        </item>
                                                        <item name="prompt6" MatchMethod="WILDCARD">
                                                            <Content sub="true">* (*) #</Content>
                                                        </item>
                                                        <item name="prompt7" MatchMethod="WILDCARD">
                                                            <Content sub="true">*:</Content>
                                                        </item>
                                                        <item name="prompt8" MatchMethod="WILDCARD">
                                                            <Content sub="true">*</Content>
                                                        </item>
                                                    </stepPrompts>
                                                </promptProperties>
                                                <completionProperties promptLearnUserResponseTime="60" promptLearnUserResponseTime.inherit="false">
                                                    <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                </completionProperties>
                                            </applicationProperties>
                                            <advancedProperties defaultSessionProfile="application:com.fnfr.svt.applications.telnet"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8eb445a7-a6e5-43f7-8d69-ad846aaa4c87" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>close session</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="a49d150a-ba47-4c64-8d61-6cd1b4191cc6" action="close" session="fortigate">
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                        <item guid="96df5620-e4ba-458d-9369-0a790c9b4d87" action="close" session="velocity">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f526d8ea-feb1-4c7b-9072-2d8377ac24a0" action="if" useFieldsInCommand="false">
                            <command>
                                <body>str(template_name) == &quot;Fortinet Switch&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="de05a465-abf9-47a7-bfd3-6e67a8ac68c8" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>open session</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="3f3850db-b49d-4aeb-ba17-e75f17865e13" action="open" session="fortiswitch" useFieldsInCommand="false">
                                            <command>
                                                <body>project://Fortiswitch_console/session_profiles/console.ffsp</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                    <completionProperties>
                                                        <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                    </completionProperties>
                                                </stepProperties>
                                                <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                    <ipAddress inherit="false">[device_console_ip_addr]</ipAddress>
                                                    <port inherit="false">[device_console_port]</port>
                                                </sessionProperties>
                                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="1f97d131-9110-4069-a314-091273b7bafd" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>set parameters based on name convention</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="bd06651c-e9e0-44ae-907c-da2d72286018" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>name_tsw=&quot;LAG&quot;+&quot;_&quot;+&quot;_&quot;.join(device_ports)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="1698b682-23e2-42ac-9270-b6e5073110dd" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ports_tsw=&quot; &quot;.join(device_ports)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="3326a7e1-870a-43f4-a4cd-6e7188ff783b" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>console login and set trunk</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="0a814a9f-03c9-4e60-86bf-8d5bebeab2fc" action="setTrunkModeLag" session="fortiswitch" useFieldsInCommand="false">
                                            <command>
                                                <body>-name [name_tsw] -port [ports_tsw] -mode [sw_mode]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>retCode()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>value == &quot;TRUE&quot;</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                            <message>For &quot;[device_name]&quot; config LAG on ports [device_ports] is ok</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                                <actionsWhenFalse>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                            <message>For &quot;[device_name]&quot; config LAG is not ok</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="FailTest">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="98774109-5964-4b74-8098-0a22a824a4bf" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>set native vlan to LAG port</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="15f5e28e-d62b-47d9-bc23-1c3761ce03da" action="addPortToNativeVlan" session="fortiswitch" useFieldsInCommand="false">
                                            <command>
                                                <body>-port [name_tsw] -vlan [untagged_vlan_id]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>retCode()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>value == &quot;TRUE&quot;</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                            <message>For &quot;[device_name]&quot; set native-vlan [untagged_vlan_id] for port [name_tsw] is ok</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                                <actionsWhenFalse>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                            <message>For &quot;[device_name]&quot; set native-vlan was not ok</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="953bf79d-bb0f-4249-b9f2-aa941bda7137" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>discover and update the LAG port </body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="d17c8d9e-d83e-4854-832d-796d313ab01e" action="POST" session="velocity">
                                            <command>
                                                <body>/velocity/api/inventory/v16/device/[device_id]/action?type=discover</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="none">
                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="message">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                <message> Waiting for discover operation on [device_name]</message>
                                                                <tag sub="false" defaultValue=""/>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" bodyType.inherit="false" action="/velocity/api/inventory/v16/device/[device_id]/action?type=discover" action.inherit="false" includeHttpHeaders.inherit="false">
                                                <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                                    <memberClasses>
                                                        <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                                    </memberClasses>
                                                    <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry"/>
                                                </httpHeader>
                                            </applicationProperties>
                                        </item>
                                        <item guid="fdab5e4f-95c7-4f61-8f90-f8ef6aa2428c" action="sleep">
                                            <command>
                                                <body>10</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="d60228fb-8915-48ad-8b71-cbde725e7330" action="consoleLogin" session="fortiswitch" useFieldsInCommand="false">
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>retCode()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                <actionsWhenFalse>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                            <message>--- console login not ok; fail test</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="FailTest">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                        <item guid="4069ebc3-8336-4fa9-a318-d5b95096c167" action="command" session="fortiswitch">
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                <query>promptName()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>str(value) == &quot;prompt1&quot; </expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                            <message>For &quot;[device_name]&quot;: discover operation was successfully</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                                <actionsWhenFalse>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                            <message>--- discover operation is still in progress...</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="RepeatStep">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="100" delayBetweenRepeats="5.0"/>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                <lineTerminator inherit="false">SLASH_R</lineTerminator>
                                                <promptProperties>
                                                    <stepPrompts>
                                                        <item name="prompt1" MatchMethod="WILDCARD">
                                                            <Content sub="true">* login:</Content>
                                                        </item>
                                                        <item name="prompt2" MatchMethod="WILDCARD" TypeOfPrompt="PASSWORD">
                                                            <Content sub="true">* #</Content>
                                                        </item>
                                                        <item name="prompt3">
                                                            <Content>Password:</Content>
                                                        </item>
                                                        <item name="prompt4">
                                                            <Content>--More-- </Content>
                                                            <MoreNextCommand> \\r</MoreNextCommand>
                                                        </item>
                                                        <item name="prompt5">
                                                            <Content>Do you want to continue? (y/n)</Content>
                                                        </item>
                                                        <item name="prompt6" MatchMethod="WILDCARD">
                                                            <Content sub="true">* (*) #</Content>
                                                        </item>
                                                        <item name="prompt7" MatchMethod="WILDCARD">
                                                            <Content sub="true">*:</Content>
                                                        </item>
                                                        <item name="prompt8" MatchMethod="WILDCARD">
                                                            <Content sub="true">*</Content>
                                                        </item>
                                                    </stepPrompts>
                                                </promptProperties>
                                                <completionProperties promptLearnUserResponseTime="60" promptLearnUserResponseTime.inherit="false">
                                                    <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                </completionProperties>
                                            </applicationProperties>
                                            <advancedProperties defaultSessionProfile="application:com.fnfr.svt.applications.telnet"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="674f8713-1d6f-4d5a-8e49-ddee5e488090" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>close session</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="5df002dd-e882-4ecb-8204-457513b15bcf" action="close" session="fortiswitch">
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                        <item guid="68ed304d-95a6-4042-9a13-dd393e669fee" action="close" session="velocity">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="68d48333-4a03-41b1-8995-e6c257787c25" action="if" useFieldsInCommand="false">
                            <command>
                                <body>str(template_name) == &quot;Arista Switch&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="210ce399-553a-4073-a830-f1f46766c2b3" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>open session</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="c30802fa-e43e-4b9e-aec7-3e47ed300e60" action="open" session="arista" useFieldsInCommand="false">
                                            <command>
                                                <body>project://Arista_console/session_profiles/console.ffsp</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                    <ipAddress inherit="false">[device_console_ip_addr]</ipAddress>
                                                    <port inherit="false">[device_console_port]</port>
                                                    <TerminalProperties>
                                                        <stepDefaults>
                                                            <completionProperties>
                                                                <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                            </completionProperties>
                                                        </stepDefaults>
                                                    </TerminalProperties>
                                                </sessionProperties>
                                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c4d023d0-41d4-4908-bb3a-2efdfb4c0839" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>set parameters based on name convention</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="b99c00e8-e44a-4b0c-9c25-76dd9bd61f3e" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ports_tsw=&quot;,&quot;.join(device_ports)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="283ba882-a4a0-4d60-a536-8e69c373b834" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>console login and set port-channel</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ca4ace69-f855-43af-a14d-d3aec5ce75ec" action="setSwitchPortChannel" session="arista" useFieldsInCommand="false">
                                            <command>
                                                <body>-number [po_number] -interfaces [ports_tsw] -mode [sw_mode]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>retCode()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>value == &quot;TRUE&quot;</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                            <message>For &quot;[device_name]&quot; config LAG on ports [device_ports] is ok</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                                <actionsWhenFalse>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                            <message>For &quot;[device_name]&quot; config LAG is not ok</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="FailTest">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="249e088b-3acc-46d8-818d-3f53478ccb9f" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>set native vlan to LAG port</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ccb7794f-b4e7-4920-814e-b4a47dad0ce0" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>port_channel=&quot;port-channel&quot;+&quot; &quot;+ po_number</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="9fb01251-ff2f-4e1d-bc87-517441f4f3b9" action="addPortToSingleVlan" session="arista" useFieldsInCommand="false">
                                            <command>
                                                <body>-port [port_channel] -vlan [untagged_vlan_id]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>retCode()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>value == &quot;TRUE&quot;</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                            <message>For &quot;[device_name]&quot; set native-vlan [untagged_vlan_id] for port [port_channel] is ok</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                                <actionsWhenFalse>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                            <message>For &quot;[device_name]&quot; set native-vlan is not ok</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="FailTest">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="747d60d0-5ab4-4cf9-8bb6-8b9626240ae5" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>set allowed vlans to LAG port </body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="61b15b77-b338-4b5a-9ab8-ccc57d1b21a6" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>port_channel=&quot;port-channel&quot;+&quot; &quot;+ po_number</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="a9d0ec74-32ce-4746-ae28-eb026d394128" action="addPortToAllowedVlans" session="arista" useFieldsInCommand="false">
                                            <command>
                                                <body>-port [port_channel] -vlan [tagged_vlan_id]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>retCode()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>value == &quot;TRUE&quot;</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                            <message>For &quot;[device_name]&quot; set allowed vlans [tagged_vlan_id] for port [port_channel] is ok</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                                <actionsWhenFalse>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                            <message>For &quot;[device_name]&quot; set allowed vlans is not ok</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="FailTest">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="73e20bf3-87ad-4fc8-b304-61d02ed67e52" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>discover and update the LAG port </body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="87154791-d06a-4cd0-981a-2be2cdee3123" action="POST" session="velocity">
                                            <command>
                                                <body>/velocity/api/inventory/v16/device/[device_id]/action?type=discover</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="none">
                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="message">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                <message> Waiting for discover operation on [device_name]</message>
                                                                <tag sub="false" defaultValue=""/>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" bodyType.inherit="false" action="/velocity/api/inventory/v16/device/[device_id]/action?type=discover" action.inherit="false" includeHttpHeaders.inherit="false">
                                                <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                                    <memberClasses>
                                                        <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                                    </memberClasses>
                                                    <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry"/>
                                                </httpHeader>
                                            </applicationProperties>
                                        </item>
                                        <item guid="f915ab3f-34f0-4690-8b57-166000a78370" action="sleep">
                                            <command>
                                                <body>20</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="b582eb13-dbc1-463d-8c20-174fd2c9d1cc" action="consoleLogin" session="arista" useFieldsInCommand="false">
                                            <command>
                                                <body>-username [device_username] -password [device_password]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>retCode()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                <actionsWhenFalse>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                            <message>--- console login not ok; fail test</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="FailTest">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                        <item guid="24cf479b-a049-4278-b35e-c0959aaa05fa" action="command" session="arista">
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                <query>promptName()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>str(value) == &quot;prompt1&quot; or str(value) ==&quot;prompt4&quot;</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                            <message>For &quot;[device_name]&quot;: discover operation was successfully</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                                <actionsWhenFalse>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                            <message>--- discover operation is still in progress...</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="RepeatStep">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="100" delayBetweenRepeats="5.0"/>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                <lineTerminator inherit="false">SLASH_R</lineTerminator>
                                                <promptProperties>
                                                    <stepPrompts>
                                                        <item name="prompt1" MatchMethod="WILDCARD">
                                                            <Content sub="true">* login:</Content>
                                                        </item>
                                                        <item name="prompt2">
                                                            <Content>Password:</Content>
                                                        </item>
                                                        <item name="prompt3" MatchMethod="WILDCARD" TypeOfPrompt="PASSWORD">
                                                            <Content sub="true">*&gt;</Content>
                                                        </item>
                                                        <item name="prompt4" MatchMethod="WILDCARD">
                                                            <Content sub="true">*#</Content>
                                                            <MoreNextCommand> \\r</MoreNextCommand>
                                                        </item>
                                                        <item name="prompt5" MatchMethod="WILDCARD">
                                                            <Content sub="true">*(*)#</Content>
                                                        </item>
                                                        <item name="prompt6"/>
                                                    </stepPrompts>
                                                </promptProperties>
                                                <completionProperties promptLearnUserResponseTime="60" promptLearnUserResponseTime.inherit="false">
                                                    <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                </completionProperties>
                                            </applicationProperties>
                                            <advancedProperties defaultSessionProfile="application:com.fnfr.svt.applications.telnet"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="7e3628e2-430f-47a9-8fef-0a03d29d3a18" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>close session</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="bdbe58f4-e7be-4664-8348-057a42762f0c" action="close" session="arista">
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
    </procedures>
</testCase>
