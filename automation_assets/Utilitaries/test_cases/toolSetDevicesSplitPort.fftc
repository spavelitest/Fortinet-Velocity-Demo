<?xml version="1.0"?>
<testCase version="8.7.0.202112151246">
    <general>
        <language>Python</language>
    </general>
    <execution>
        <parameters version="8.7.0.202112151246">
            <parameters escape="true">
                <parameters xmlns:pt="http://www.fnfr.com/schemas/parameterTree">
                    <device_name pt:datatype="device_name" pt:description="Device name from Velocity"/>
                    <device_port pt:description="Device port name to be split"/>
                </parameters>
            </parameters>
            <parametersTypes>
                <item name="device_name">
                    <items>
                        <item name="fgt3501F-velocity_107.202"/>
                    </items>
                </item>
                <item name="device_port">
                    <items>
                        <item name="port1"/>
                        <item name="port2"/>
                        <item name="port3"/>
                        <item name="port4"/>
                        <item name="port5"/>
                        <item name="port6"/>
                        <item name="port7"/>
                        <item name="port8"/>
                        <item name="port9"/>
                        <item name="port10"/>
                        <item name="port11"/>
                        <item name="port12"/>
                        <item name="port13"/>
                        <item name="port14"/>
                        <item name="port15"/>
                        <item name="port16"/>
                        <item name="port17"/>
                        <item name="port18"/>
                        <item name="port19"/>
                        <item name="port20"/>
                        <item name="port21"/>
                        <item name="port22"/>
                        <item name="port23"/>
                        <item name="port24"/>
                        <item name="port25"/>
                        <item name="port26"/>
                        <item name="port27"/>
                        <item name="port28"/>
                        <item name="port29"/>
                        <item name="port30"/>
                        <item name="port31, port32"/>
                        <item name="port31"/>
                        <item name="port32"/>
                        <item name="port33"/>
                        <item name="port34"/>
                        <item name="port35"/>
                        <item name="port36"/>
                    </items>
                </item>
            </parametersTypes>
        </parameters>
    </execution>
    <procedures>
        <item name="main">
            <steps>
                <item guid="a14480ff-14f2-4750-8502-87a49d0265b0" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Initialization</body>
                    </command>
                    <nestedSteps>
                        <item guid="f32097a9-8127-4386-a6f5-f0f7162fb8f2" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>device_name = param(&apos;device_name&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="9808b329-9141-4d55-9c2d-f04cd859c548" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>device_port = param(&apos;device_port&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="1ade5f80-b626-485f-a08a-6169bf5e0de2" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>initialization dicts</body>
                            </command>
                            <nestedSteps>
                                <item guid="dc201e80-4d6a-4c9c-9d0f-5ba2149db27b" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>device_ports_dict={}</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ec9c4f1d-1e51-4e21-9c6f-bf9e15d6e9ae" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>device_dev_dict={}</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="e3989d8d-1237-4c76-89ff-e12ad30aa845" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>dev_conn_list=[]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="e6d1ae40-04c6-40ef-87e3-89f3751c1223" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>conn_prop_devices_name_list=[]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="7c355686-677d-459a-b0b4-75a1aba1f817" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>conn_prop_devices_port_list=[]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="978a654c-e0a4-4436-92ed-9144de4a1776" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>dev_port_id_list=[]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="32cb806d-393f-4bbf-aba4-338386813c06" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>dev_conn_ports_dict={}</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c1188441-8f03-45fb-a75d-37081fba8659" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>port_speed_list=[]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="bc5da9a8-088d-42a2-9f21-061f02bee343" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get device details</body>
                    </command>
                    <nestedSteps>
                        <item guid="8da0ed0e-1067-4c6c-80ee-3dca4f530786" action="open" session="session">
                            <command>
                                <body>application:com.fnfr.itest.applications.webservices.restful</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulSessionProperties" url="https://10.210.107.10" url.inherit="false" version="2" version.inherit="false">
                                    <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" authenticationType="Basic" authenticationType.inherit="false" user="superadmin" user.inherit="false" password.masked="false" password="superadmin" password.inherit="false" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                </sessionProperties>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                        </item>
                        <item guid="8f7adc1a-18a2-45eb-a7d8-2a5d84b9cb1f" action="GET" session="session" estimatedStepExecutionTime="0.305">
                            <command>
                                <body>velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[device_name]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/devices/item/id</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>device_id</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query>mapped/Json/devices/item/properties/item[name = &apos;Console&apos;]/value</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>device_console_ip_addr</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query>mapped/Json/devices/item/properties/item[name = &apos;Console Port&apos;]/value</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>device_console_port</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                <query>mapped/Json/devices/item/properties/item[name = &apos;ipAddress&apos;]/value</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>device_ip_addr</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/devices/item/properties/item[name = &apos;username&apos;]/value</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>device_username</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/devices/item/properties/item[name = &apos;password&apos;]/value</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>device_password</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[device_name]" action.inherit="false"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="b059459b-b9ba-423e-ae9f-8d842a7bdf68" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get device port list</body>
                    </command>
                    <nestedSteps>
                        <item guid="cfaa7b1a-a728-4a96-9c39-d6b44179da46" action="if" useFieldsInCommand="false">
                            <command>
                                <body>&quot;,&quot; in device_port:</body>
                            </command>
                            <nestedSteps>
                                <item guid="9041ce20-fdee-4833-8619-6c30979f6438" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>device_port=device_port.split(&quot;,&quot;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="ae5ad083-1163-46bd-870c-7c2ec6464deb" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="c889907a-ca2c-4d5d-aa4a-dbea22c0cf3b" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>device_port=device_port.split()</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="adf35ac1-3c86-43a4-822c-fcf9160ef8f3" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(device_port)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="4e814f86-0915-40db-abce-fd921e685f0c" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Remove blank spaces from port names if needed</body>
                            </command>
                            <nestedSteps>
                                <item guid="1d73f0f5-3b19-464e-9f84-8876bdf42c78" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>device_ports=[]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="7ea3cef8-4ca0-4faf-8940-ae95460b4e0c" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>port in device_port:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="2fa59d06-6a23-40f3-b545-6685fde8d5e3" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>port_name = port.replace(&apos; &apos;,&apos;&apos;)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="5d21104b-c3ca-475a-bb4f-871aed69a0a0" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>device_ports.append(port_name)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="932237d9-6d04-40e7-b4fd-3b81e99a1114" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>device_port=device_ports.copy()</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="5aa933af-71f3-4248-888c-433f2737c022" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(device_port)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="abf9bc69-505d-4417-ae41-f90f23f3e2f5" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Get device port speed list based on port list</body>
                            </command>
                            <nestedSteps>
                                <item guid="457dd316-0e0f-49b2-b9a7-762735bc30d0" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>port in device_port:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="3d15f8e1-f323-44bc-aebf-4e9bf111b097" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>dev_port=port.strip()</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="c3a4a90b-edec-4648-b8b7-16f6f2dda69a" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Get device port speed </body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="9d94757a-2648-4e67-a135-8fd2776f0fb0" action="open" session="fortigate_speed" useFieldsInCommand="false">
                                                    <command>
                                                        <body>project://Fortigate_console/session_profiles/console.ffsp</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                        <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                            <completionProperties>
                                                                <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                            </completionProperties>
                                                        </stepProperties>
                                                        <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                            <ipAddress inherit="false">[device_console_ip_addr]</ipAddress>
                                                            <port inherit="false">[device_console_port]</port>
                                                        </sessionProperties>
                                                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="eb3a0ffa-9a26-4154-a51d-23b478d46dc7" action="checkVdom" session="fortigate_speed" useFieldsInCommand="false">
                                                    <postProcessing>
                                                        <storeResponseAt>speedOutput</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                </item>
                                                <item guid="44ee8a32-c80d-45ba-a0b4-2bd8881472de" action="getPortSpeed" session="fortigate_speed" useFieldsInCommand="false">
                                                    <command>
                                                        <body>-port [dev_port]</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>responseLine()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>port_speed</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                        <storeResponseAt>speedOutput</storeResponseAt>
                                                        <storeResponseText>true</storeResponseText>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                </item>
                                                <item guid="985e2bf4-7b75-4902-8061-518fcb642510" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>port_speed_list.append(dev_port+ &quot;-&quot; +port_speed)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="043ea048-6a75-442d-82f2-07ce83880ceb" action="close" session="fortigate_speed">
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="0383ae41-d9ef-458f-b3f6-20afeefa0e5c" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(port_speed_list)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="9b583763-a81a-4193-aaf4-e45ba8e22442" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Check if port has been already split</body>
                            </command>
                            <nestedSteps>
                                <item guid="893d6bee-4b11-479d-a4fb-887408b93403" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>item in port_speed_list:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="8cf2633b-8cb2-4861-a711-ef5fa4b7a50c" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>item.split(&quot;-&quot;)[1].strip() == &quot;&quot;:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="65d56c23-2e80-4a73-a4b4-ca07c94d74f7" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>skip</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="7ab22426-91bf-40c7-abfa-ff1aa5560d42" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>print(&quot;Port has been already split&quot;)</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="none">
                                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="message">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                <message> For device name: [device_name]</message>
                                                                                <tag sub="false" defaultValue=""/>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>isEmpty()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="assert">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                <expression>str(value) == &quot;false&quot; </expression>
                                                                                <actionsWhenTrue>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                            <message>--- Port [item.split(&quot;-&quot;)[0].strip()] has been already split</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </actionsWhenTrue>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="ad2ab53a-a1b5-465c-971a-2b0dc5954801" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>print(item, item.split(&quot;-&quot;)[0])</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="e732307b-cb10-48f7-b140-bac04e470a9e" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>device_port.remove(item.split(&quot;-&quot;)[0].strip())</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="81518e91-99a8-4f5f-9d9c-15f2f838bee9" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="a8901b11-2155-48ac-a2ce-8edaf14919bd" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Insert steps here for when expression is false</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="3b9359c5-13b4-4a80-8a05-2b625710a5a4" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(device_port)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="68b3c2cd-900a-4bbb-8d13-77ec7f6524d1" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Split operation or skip</body>
                    </command>
                    <nestedSteps>
                        <item guid="d6a0ea27-382b-4859-ab03-7fc79120a814" action="if" useFieldsInCommand="false">
                            <command>
                                <body>device_port != []:</body>
                            </command>
                            <nestedSteps>
                                <item guid="731d31c7-b459-4151-90a9-92eefd2c11da" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Set split port command on device</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="466d4896-d26d-401e-948d-8adb114a7313" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>open session</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="9d79a847-453a-45f7-b284-ae7bf493ac6a" action="open" session="fortigate_split" useFieldsInCommand="false">
                                                    <command>
                                                        <body>project://Fortigate_console/session_profiles/console.ffsp</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                        <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                            <completionProperties>
                                                                <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                            </completionProperties>
                                                        </stepProperties>
                                                        <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                            <ipAddress inherit="false">[device_console_ip_addr]</ipAddress>
                                                            <port inherit="false">[device_console_port]</port>
                                                        </sessionProperties>
                                                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="5d14581c-eef0-4f1b-9b0c-911380dda57a" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>console login and split device port</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="ac15fd88-6ec1-43c7-9a13-3e5dca99b6b6" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>device_ports=&quot; &quot;.join(device_port)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="71408a3b-bc48-40e0-8c34-99ed18111e02" action="setSplitPort" session="fortigate_split" useFieldsInCommand="false">
                                                    <command>
                                                        <body>-port [device_ports]</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>retCode()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="assert">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                        <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                        <actionsWhenTrue>
                                                                            <item actionId="DeclareExecutionIssue">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                    <message>For &quot;[device_name]&quot;: set split-port command for port &quot;[device_ports]&quot; is ok</message>
                                                                                </actionProperties>
                                                                            </item>
                                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            </item>
                                                                        </actionsWhenTrue>
                                                                        <actionsWhenFalse>
                                                                            <item actionId="DeclareExecutionIssue">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                    <message>For &quot;[device_name]&quot;: set split-port command for port &quot;[device_port]&quot; is not ok</message>
                                                                                </actionProperties>
                                                                            </item>
                                                                            <item actionId="FailTest">
                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            </item>
                                                                        </actionsWhenFalse>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="eb77f2eb-a127-412b-9e49-57e85b4be9e8" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>wait for device to reboot</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="f9d08d69-34a8-4e45-91d4-21df9c23606a" action="sleep">
                                                    <command>
                                                        <body>10</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    <advancedProperties defaultSessionProfile="application:com.fnfr.svt.applications.telnet"/>
                                                </item>
                                                <item guid="342c3a9c-20e5-4da3-a5f5-e3d004f5ca3c" action="command" session="fortigate_split">
                                                    <command>
                                                        <body>Q</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query>promptName()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="assert">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                        <expression>str(value) == &quot;prompt1&quot; or str(value)==&quot;prompt2&quot;</expression>
                                                                        <actionsWhenTrue>
                                                                            <item actionId="DeclareExecutionIssue">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                    <message>For &quot;[device_name]&quot;: device console ip addr &quot;[device_console_ip_addr]&quot; port &quot;[device_console_port]&quot; is operational</message>
                                                                                </actionProperties>
                                                                            </item>
                                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            </item>
                                                                        </actionsWhenTrue>
                                                                        <actionsWhenFalse>
                                                                            <item actionId="DeclareExecutionIssue">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                                    <message>--- need to wait for prompt...</message>
                                                                                </actionProperties>
                                                                            </item>
                                                                            <item actionId="RepeatStep">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="100" delayBetweenRepeats="5.0"/>
                                                                            </item>
                                                                        </actionsWhenFalse>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                        <lineTerminator inherit="false">SLASH_R</lineTerminator>
                                                        <promptProperties>
                                                            <stepPrompts>
                                                                <item name="prompt1" MatchMethod="WILDCARD">
                                                                    <Content sub="true">* login:</Content>
                                                                </item>
                                                                <item name="prompt2" MatchMethod="WILDCARD" TypeOfPrompt="PASSWORD">
                                                                    <Content sub="true">* #</Content>
                                                                </item>
                                                                <item name="prompt3">
                                                                    <Content>Password:</Content>
                                                                </item>
                                                                <item name="prompt4">
                                                                    <Content>--More-- </Content>
                                                                    <MoreNextCommand> \\r</MoreNextCommand>
                                                                </item>
                                                                <item name="prompt5">
                                                                    <Content>Do you want to continue? (y/n)</Content>
                                                                </item>
                                                                <item name="prompt6" MatchMethod="WILDCARD">
                                                                    <Content sub="true">* (*) #</Content>
                                                                </item>
                                                                <item name="prompt7" MatchMethod="WILDCARD">
                                                                    <Content sub="true">*:</Content>
                                                                </item>
                                                                <item name="prompt8" MatchMethod="WILDCARD">
                                                                    <Content sub="true">*</Content>
                                                                </item>
                                                            </stepPrompts>
                                                        </promptProperties>
                                                        <completionProperties promptLearnUserResponseTime="60" promptLearnUserResponseTime.inherit="false">
                                                            <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                        </completionProperties>
                                                    </applicationProperties>
                                                    <advancedProperties defaultSessionProfile="application:com.fnfr.svt.applications.telnet"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="de10e292-a5d2-4546-aa72-0d0b84ac8aab" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>close session</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="d3f5822d-5516-4b59-82ff-20eb35d74ad8" action="close" session="fortigate_split">
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="877515cd-60b2-42a3-ba15-ddc03ee97e9a" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Discover and update the port split</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="7e5cd2ae-61af-4d8a-b7cd-56bdb8c0a4f0" action="open" session="fortigateDiscover" useFieldsInCommand="false">
                                            <command>
                                                <body>project://Fortigate_console/session_profiles/console.ffsp</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                    <completionProperties>
                                                        <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                    </completionProperties>
                                                </stepProperties>
                                                <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                    <ipAddress inherit="false">[device_console_ip_addr]</ipAddress>
                                                    <port inherit="false">[device_console_port]</port>
                                                </sessionProperties>
                                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </applicationProperties>
                                        </item>
                                        <item guid="992a8bb8-3a9e-4d1b-b4c5-4f37a415dba3" action="POST" session="session">
                                            <command>
                                                <body>/velocity/api/inventory/v16/device/[device_id]/action?type=discover</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="none">
                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="message">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                <message> Waiting for discover operation on [device_name]</message>
                                                                <tag sub="false" defaultValue=""/>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" bodyType.inherit="false" action="/velocity/api/inventory/v16/device/[device_id]/action?type=discover" action.inherit="false" includeHttpHeaders.inherit="false">
                                                <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                                    <memberClasses>
                                                        <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                                    </memberClasses>
                                                    <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry"/>
                                                </httpHeader>
                                            </applicationProperties>
                                        </item>
                                        <item guid="1a3588ed-68a7-417b-a9c1-7a73991ebe0d" action="sleep">
                                            <command>
                                                <body>10</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="5a24722a-1c34-4ff9-b9a1-2644e5988dfc" action="command" session="fortigateDiscover">
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                <query>promptName()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>str(value) == &quot;prompt1&quot; </expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                            <message>For &quot;[device_name]&quot;: discover operation was successfully</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                                <actionsWhenFalse>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                            <message>--- discover operation is still in progress...</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="RepeatStep">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="100" delayBetweenRepeats="5.0"/>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                <lineTerminator inherit="false">SLASH_R</lineTerminator>
                                                <promptProperties>
                                                    <stepPrompts>
                                                        <item name="prompt1" MatchMethod="WILDCARD">
                                                            <Content sub="true">* login:</Content>
                                                        </item>
                                                        <item name="prompt2" MatchMethod="WILDCARD" TypeOfPrompt="PASSWORD">
                                                            <Content sub="true">* #</Content>
                                                        </item>
                                                        <item name="prompt3">
                                                            <Content>Password:</Content>
                                                        </item>
                                                        <item name="prompt4">
                                                            <Content>--More-- </Content>
                                                            <MoreNextCommand> \\r</MoreNextCommand>
                                                        </item>
                                                        <item name="prompt5">
                                                            <Content>Do you want to continue? (y/n)</Content>
                                                        </item>
                                                        <item name="prompt6" MatchMethod="WILDCARD">
                                                            <Content sub="true">* (*) #</Content>
                                                        </item>
                                                        <item name="prompt7" MatchMethod="WILDCARD">
                                                            <Content sub="true">*:</Content>
                                                        </item>
                                                        <item name="prompt8" MatchMethod="WILDCARD">
                                                            <Content sub="true">*</Content>
                                                        </item>
                                                    </stepPrompts>
                                                </promptProperties>
                                                <completionProperties promptLearnUserResponseTime="60" promptLearnUserResponseTime.inherit="false">
                                                    <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                </completionProperties>
                                            </applicationProperties>
                                            <advancedProperties defaultSessionProfile="application:com.fnfr.svt.applications.telnet"/>
                                        </item>
                                        <item guid="6a97b466-86b9-4823-bacb-29031bb93929" action="close" session="session">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="3cffb15d-fb77-4f15-9db0-a722922fa8f1" action="close" session="fortigateDiscover">
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="4ebc7d3d-bb1f-4424-b3ba-8dede13a55ce" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Set split port on neighbor-devices based on port list</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="816d317b-3f5a-4b7b-baeb-7df1fbf4002d" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>port in device_port:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="0d5ec31d-2a69-42ed-9bc9-c680a71fff64" action="for" useFieldsInCommand="false">
                                                    <command>
                                                        <body>element in port_speed_list:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="e2673b16-6896-4161-a78b-8d5d41597bd5" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>element.split(&quot;-&quot;)[0].strip()==port:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="079566a0-6327-4079-be1f-eb2f0d176cdd" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>port_speed =element.split(&quot;-&quot;)[1].strip()</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="e5acd3a9-3092-4a96-b5b0-df203f95e78f" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>print(port_speed)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="d86fd799-8e4a-4318-9297-d56f234f3624" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>device_port=port</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="236868eb-e00b-443a-89f7-594978c6d621" action="comment" skip="true" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Get device port speed </body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="66417623-6506-4318-a6fd-70850965ae26" action="open" session="fortigate">
                                                            <command>
                                                                <body>project://Fortigate_console/session_profiles/console.ffsp</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                    <completionProperties>
                                                                        <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                                    </completionProperties>
                                                                </stepProperties>
                                                                <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                                    <ipAddress inherit="false">[device_console_ip_addr]</ipAddress>
                                                                    <port inherit="false">[device_console_port]</port>
                                                                </sessionProperties>
                                                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="1c701ad1-c26c-4d8e-a65d-936c5bee3a1c" action="getPortSpeed" session="fortigate" useFieldsInCommand="false">
                                                            <command>
                                                                <body>-port [device_port]</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>responseLine()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="store">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                <storageLocation>port_speed</storageLocation>
                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                                <storeResponseAt>speedOutput</storeResponseAt>
                                                                <storeResponseText>true</storeResponseText>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                        </item>
                                                        <item guid="2e0a843e-3687-419b-ad9f-9a017821f880" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>print(port_speed)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="fac10000-209e-4405-85f2-b85040812787" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Set split port command on neighor-device or skip operation</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="cd25c1a3-2f03-4489-9bfe-4b73319a0170" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>port_speed != &quot;&quot;:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="c78dd689-6689-49ad-b554-4f8268f0dcb0" action="comment" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Set split port command on neighbor-device side</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="9b3990c8-552d-405c-93ff-581e38a9dfe3" action="comment" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>get device connection port name on neighbor-device side</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="a1d8c885-f1a2-40f8-b064-c7fc00d33f78" action="open" session="velocity" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>application:com.fnfr.itest.applications.webservices.restful</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                                        <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulSessionProperties" url="https://10.210.107.10" url.inherit="false" version="2" version.inherit="false">
                                                                                            <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" authenticationType="Basic" authenticationType.inherit="false" user="superadmin" user.inherit="false" password.masked="false" password="superadmin" password.inherit="false" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                                                        </sessionProperties>
                                                                                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </applicationProperties>
                                                                                </item>
                                                                                <item guid="28e43458-af86-4029-a829-c8d9ef4fe0e8" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                    <command>
                                                                                        <body>/velocity/api/inventory/v16/device/[device_id]/ports?limit=200</body>
                                                                                    </command>
                                                                                    <postProcessing>
                                                                                        <analysisRules>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="query">
                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                        <query>mapped/Json/ports/item[*]/name</query>
                                                                                                    </extractorProperties>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="store">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                        <storageLocation>device_port_names</storageLocation>
                                                                                                        <storeInAList>true</storeInAList>
                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="query">
                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                        <query>mapped/Json/ports/item[*]/id</query>
                                                                                                    </extractorProperties>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="store">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                        <storageLocation>device_port_ids</storageLocation>
                                                                                                        <storeInAList>true</storeInAList>
                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                        </analysisRules>
                                                                                    </postProcessing>
                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[device_id]/ports?limit=200" action.inherit="false"/>
                                                                                </item>
                                                                                <item guid="c0a56acf-37cb-41be-afde-8eb9e246e33d" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>device_ports_dict=dict(zip(device_port_ids,device_port_names))</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="d97470c5-f78a-461d-836d-a56d8f4668ee" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>print(device_ports_dict)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="ae095e9f-e4f2-42d7-baf7-0815741b41d0" action="for" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>port_id, port_name in device_ports_dict.items():</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="51c95405-3a1f-4b90-98b4-88db56798b41" action="if" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>port_name == device_port:</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="0e9174c1-9641-4c74-bb72-97a9e5497bea" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>device_dev_dict[port_id] = port_name</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="2997a7c0-c697-4142-b34e-097ac5388263" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>print(device_dev_dict)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="6374e139-e35e-4bc6-a8c2-12375ede842b" action="for" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>dev_id in device_dev_dict.keys():</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="799e3b67-477e-4568-a15d-56102b65bd09" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                            <command>
                                                                                                <body>velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200</body>
                                                                                            </command>
                                                                                            <postProcessing>
                                                                                                <analysisRules>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                <query sub="true">mapped/Json/connections/*\\[port1/id=&quot;[dev_id]&quot;]/id</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>dev_conn_id</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                </analysisRules>
                                                                                            </postProcessing>
                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200" action.inherit="false"/>
                                                                                        </item>
                                                                                        <item guid="04966dcf-df4f-40d2-9fb3-aa7ca4da7aaa" action="if" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>dev_conn_id != &quot;&quot;:</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="f00d2d04-481d-43de-9191-f5c93d4eab74" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>dev_conn_list.append(dev_conn_id)</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="897391a5-0058-40c8-83ab-45018988b3f6" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                            <command>
                                                                                                <body>velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200</body>
                                                                                            </command>
                                                                                            <postProcessing>
                                                                                                <analysisRules>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                <query sub="true">mapped/Json/connections/*\\[port2/id=&quot;[dev_id]&quot;]/id</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>dev_conn_id</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                </analysisRules>
                                                                                            </postProcessing>
                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200" action.inherit="false"/>
                                                                                        </item>
                                                                                        <item guid="998fe465-810e-4835-8c65-9d7e1f2d63d0" action="if" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>dev_conn_id != &quot;&quot;:</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="a1860989-63d9-4146-9948-459780f97798" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>dev_conn_list.append(dev_conn_id)</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="c74a52d0-c93d-4d94-9b90-b0f4fc4ce200" action="comment" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>get device1 port1 device2 port2 based on connection Id</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="73daf4a4-dd17-451e-8271-15e2e2750383" action="for" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>conn_id in dev_conn_list:</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="e772b269-a236-423b-895a-7a9bf55e7249" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                            <command>
                                                                                                <body>velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200</body>
                                                                                            </command>
                                                                                            <postProcessing>
                                                                                                <analysisRules>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                <query sub="true">mapped/Json/connections/*\\[id=&quot;[conn_id]&quot;]/device1/name</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>device1_name</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                <query sub="true">mapped/Json/connections/*\\[id=&quot;[conn_id]&quot;]/port1/name</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>device1_port1</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                <query sub="true">mapped/Json/connections/*\\[id=&quot;[conn_id]&quot;]/device2/name</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>device2_name</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                <query sub="true">mapped/Json/connections/*\\[id=&quot;[conn_id]&quot;]/port2/name</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>device2_port2</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                </analysisRules>
                                                                                            </postProcessing>
                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200" action.inherit="false"/>
                                                                                        </item>
                                                                                        <item guid="396f779d-6b87-4932-9050-b8229143dc00" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>conn_prop_devices_name_list.append(device1_name)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="1040545e-4d53-4a2b-a43b-1477ac3bdad5" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>conn_prop_devices_name_list.append(device2_name)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="dc04e11b-ce6e-4771-a8eb-f0c22cedbf9b" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>conn_prop_devices_port_list.append(device1_port1)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="3f02e09f-2040-4326-8471-430a4c23a2af" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>conn_prop_devices_port_list.append(device2_port2)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="a1ebb57e-96af-413d-a83a-8e24c1c4d148" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>print(conn_prop_devices_name_list,conn_prop_devices_port_list)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="f57969dd-2d10-4398-9137-95757f2b5e02" action="comment" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>get neighbor-device port name</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="c511c8a6-5bf3-4505-bdfe-1ce88b268452" action="for" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>dev_conn_id in dev_conn_list:</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="5db790ee-468b-41a3-9f57-413af86b118c" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                            <command>
                                                                                                <body>velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200</body>
                                                                                            </command>
                                                                                            <postProcessing>
                                                                                                <analysisRules>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                <query sub="true">mapped/Json/connections/*\\[id=&quot;[dev_conn_id]&quot;]/port1/name</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>port1_name</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                <query sub="true">mapped/Json/connections/*\\[id=&quot;[dev_conn_id]&quot;]/port1/id</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>port1_id</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                <query sub="true">mapped/Json/connections/*\\[id=&quot;[dev_conn_id]&quot;]/port2/name</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>port2_name</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                    <item>
                                                                                                        <extractorInfo extractorType="query">
                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                <query sub="true">mapped/Json/connections/*\\[id=&quot;[dev_conn_id]&quot;]/port2/id</query>
                                                                                                            </extractorProperties>
                                                                                                        </extractorInfo>
                                                                                                        <processorInfo ruleType="store">
                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                <storageLocation>port2_id</storageLocation>
                                                                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                            </ruleProperties>
                                                                                                        </processorInfo>
                                                                                                    </item>
                                                                                                </analysisRules>
                                                                                            </postProcessing>
                                                                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200" action.inherit="false"/>
                                                                                        </item>
                                                                                        <item guid="539e7e6e-f8d1-44c1-9906-2022826bcf2f" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>dev_conn_ports_dict[port1_id] = port1_name</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="464911f6-4879-4e7e-8ef0-89f226308002" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>dev_conn_ports_dict[port2_id] = port2_name</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="b8364ff3-0140-490b-a034-7e7a16eb0abf" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>print(dev_conn_ports_dict)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="933c2629-c847-424f-824c-8258928bbc98" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>print(device_dev_dict)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="a51f61ac-a317-4df5-9184-ea6a0f20e90f" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>print(dev_conn_ports_dict.keys())</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="9caa24f3-d16d-4950-aa77-cbbf20ba0a1a" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>dev_port_id_list = list(set(dev_conn_ports_dict) - set(device_dev_dict))</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="efbbbcf9-b9e1-4c30-93be-0e7691881adb" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>print(dev_port_id_list)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="af9a1314-1d33-4c54-915d-9d8c4005992c" action="for" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>id in dev_port_id_list:</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="dd2130eb-c5c9-4144-8b6f-1a1b9b78aff0" action="if" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>id in dev_conn_ports_dict.keys():</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="93310916-8469-4a50-a29e-3371c9b55967" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>dev_port_name=dev_conn_ports_dict[id]</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="faa29edd-0fcd-4c4e-ba7d-0b7ae818b24b" action="else" useFieldsInCommand="false">
                                                                                            <nestedSteps>
                                                                                                <item guid="70a358df-a7ed-4be4-894c-08bde519dbce" action="comment" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>Insert steps here for when expression is false</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="e95a68cb-89e7-463c-bf4a-a06004167c26" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>print(dev_port_name)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="f17feef4-96ca-4d19-af22-180bbfe72cb6" action="comment" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>get neighbor-device name</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="3d355000-2a65-4441-93d8-99b6cc4cbab1" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>conn_prop_devices_port_list_copy=conn_prop_devices_port_list.copy()</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="beff2463-2d3c-451a-90a9-418705387d87" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>conn_prop_devices_name_list_copy=conn_prop_devices_name_list.copy()</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="ec43ce2f-ab6c-4559-9113-dfb411ceac10" action="if" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>dev_port_name in conn_prop_devices_port_list_copy:</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="00df975b-55fd-44df-827c-b877f8093b4d" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>dev_name = conn_prop_devices_name_list_copy[conn_prop_devices_port_list_copy.index(dev_port_name)]</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="947bfca5-0db6-46e4-bae7-829469a4f85e" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>print(dev_name)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="ee6accdc-37a3-4381-acd1-1c90c83e9e9e" action="comment" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>get neighbor-device console port and ipAddress based on device Id </body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="b03b7acd-0fd1-4d7c-b713-5372a7f074ad" action="message" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>Information:For device name &quot;[dev_name]&quot;:</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                                        <message inherit="false">For device name &quot;[dev_name]&quot;:</message>
                                                                                    </applicationProperties>
                                                                                </item>
                                                                                <item guid="d51f5872-bce5-4135-8b8c-b9ae222b7d94" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                    <command>
                                                                                        <body>velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[dev_name]</body>
                                                                                    </command>
                                                                                    <postProcessing>
                                                                                        <analysisRules>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="query">
                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                        <query>mapped/Json/devices/item/id</query>
                                                                                                    </extractorProperties>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="store">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                        <storageLocation>dev_id</storageLocation>
                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="query">
                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                        <query>mapped/Json/devices/item/templateId</query>
                                                                                                    </extractorProperties>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="store">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                        <storageLocation>template_id</storageLocation>
                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                        </analysisRules>
                                                                                    </postProcessing>
                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[dev_name]" action.inherit="false"/>
                                                                                </item>
                                                                                <item guid="74902e24-82ed-4070-b514-79fc7b9bf6ad" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                    <command>
                                                                                        <body>/velocity/api/inventory/v16/device/[dev_id]</body>
                                                                                    </command>
                                                                                    <postProcessing>
                                                                                        <analysisRules>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="query">
                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                        <query>mapped/Json/properties/*[name=&quot;Console&quot;]/value</query>
                                                                                                    </extractorProperties>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="store">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                        <storageLocation>dev_console_ip_addr</storageLocation>
                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="query">
                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                        <query>mapped/Json/properties/*[name=&quot;Console Port&quot;]/value</query>
                                                                                                    </extractorProperties>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="store">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                        <storageLocation>dev_console_port</storageLocation>
                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="query">
                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                        <query>mapped/Json/properties/*[name=&quot;ipAddress&quot;]/value</query>
                                                                                                    </extractorProperties>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="store">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                        <storageLocation>dev_ipAddress</storageLocation>
                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="query">
                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                        <query>mapped/Json/properties/*[name=&quot;username&quot;]/value</query>
                                                                                                    </extractorProperties>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="store">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                        <storageLocation>dev_username</storageLocation>
                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="query">
                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                        <query>mapped/Json/properties/*[name=&quot;password&quot;]/value</query>
                                                                                                    </extractorProperties>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="store">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                        <storageLocation>dev_password</storageLocation>
                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                        </analysisRules>
                                                                                    </postProcessing>
                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[dev_id]" action.inherit="false"/>
                                                                                </item>
                                                                                <item guid="55dfe984-0851-4235-947b-685729c1ab32" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                    <command>
                                                                                        <body>/velocity/api/inventory/v16/template/[template_id]</body>
                                                                                    </command>
                                                                                    <postProcessing>
                                                                                        <analysisRules>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="query">
                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                        <query>mapped/Json/name</query>
                                                                                                    </extractorProperties>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="store">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                        <storageLocation>template_name</storageLocation>
                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                        </analysisRules>
                                                                                    </postProcessing>
                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/template/[template_id]" action.inherit="false"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="32a80171-9f96-4e1a-8280-6b056325c3bc" action="comment" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>login to neighbor-device and set split port command</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="4ea8813b-dad7-4108-800c-da33afc3e9af" action="if" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>str(template_name) == &quot;Fortinet Switch&quot;:</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="103afb3d-b627-43ce-aa60-e3e4c1088cc2" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>open session</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="7ce1ff35-4604-4cd7-a8e2-ddd8782481c4" action="open" session="fortiswitch" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>project://Fortiswitch_console/session_profiles/console.ffsp</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                                                        <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                                                            <completionProperties>
                                                                                                                <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                                                                            </completionProperties>
                                                                                                        </stepProperties>
                                                                                                        <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                                                                            <ipAddress inherit="false">[dev_console_ip_addr]</ipAddress>
                                                                                                            <port inherit="false">[dev_console_port]</port>
                                                                                                        </sessionProperties>
                                                                                                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    </applicationProperties>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="180d92e2-7f15-4ae6-b7e7-30668f302532" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>get port phy-mode</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="7df63947-90cf-4fe5-847a-7ddaccf7087b" action="if" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>int(port_speed) == 100:</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="41b6f4ca-9f67-425d-b506-8587efd89abe" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>phy_mode=&quot;4x25G&quot; </body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="372ab265-bb9d-4261-ad7f-feed7f3cb1c7" action="elif" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>int(port_speed) == 40000:</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="4152a39b-a6d3-4a5b-95cd-08b137135a5e" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>phy_mode=&quot;4x10G&quot; </body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="7c25a00f-c515-4a94-8abc-9e8f4f493ef9" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>get vlanId for Split ports</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="4752b557-f457-4a07-8a13-d299478985b6" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>reservationId = velocity(&quot;reservationId&quot;); print(reservationId)</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="46d66a5c-f583-4705-8f6d-2160eebf2fea" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                                    <command>
                                                                                                        <body>/velocity/api/reservation/v18/reservation/[reservationId]/resources?limit=200</body>
                                                                                                    </command>
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                        <query sub="true">mapped/Json/items/*\\[name=&quot;[dev_port_name]&quot;]/vlanIds/item/id</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="store">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                        <storageLocation>vlan_id</storageLocation>
                                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/reservation/v18/reservation/[reservationId]/resources?limit=200" action.inherit="false"/>
                                                                                                </item>
                                                                                                <item guid="210724ce-b213-4f07-a44d-e342a26233c0" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>print(vlan_id)</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="ddd89940-01e1-4573-a2b5-22bce38fe6a9" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>console login and set port phy-mode</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="0e88b760-c52d-4248-a356-6d54a5255a01" action="consoleLogin" session="fortiswitch" useFieldsInCommand="false">
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                        <query>retCode()</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="assert">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                        <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                                                                        <actionsWhenFalse>
                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                    <message>--- console login not ok; fail test</message>
                                                                                                                                </actionProperties>
                                                                                                                            </item>
                                                                                                                            <item actionId="FailTest">
                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                            </item>
                                                                                                                        </actionsWhenFalse>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                </item>
                                                                                                <item guid="df8b2a75-fb81-411f-b31c-ab3fffac016b" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>print(phy_mode)</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="7cacf896-7376-458b-a129-df928ddc1bef" action="setSwitchPhyMode" session="fortiswitch" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>-port [dev_port_name] -phy_mode [phy_mode]</body>
                                                                                                    </command>
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                        <query>retCode()</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="assert">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                        <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                                                                        <actionsWhenTrue>
                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                    <message>For &quot;[dev_name]&quot;: set port phy-mode &quot;[phy_mode]&quot; command for port &quot;[dev_port_name]&quot; is ok</message>
                                                                                                                                </actionProperties>
                                                                                                                            </item>
                                                                                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                            </item>
                                                                                                                        </actionsWhenTrue>
                                                                                                                        <actionsWhenFalse>
                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                    <message>For &quot;[device_name]&quot;: set port phy-mode &quot;[phy_mode]&quot; command for port &quot;[device_port]&quot; is not ok</message>
                                                                                                                                </actionProperties>
                                                                                                                            </item>
                                                                                                                            <item actionId="FailTest">
                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                            </item>
                                                                                                                        </actionsWhenFalse>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="3f4c0c6c-3fb0-4727-9113-86840ae3e77f" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>wait for device to reboot</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="b0cea9d4-9890-4f2c-9ae0-b2dedd9f850d" action="sleep">
                                                                                                    <command>
                                                                                                        <body>10</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    <advancedProperties defaultSessionProfile="application:com.fnfr.svt.applications.telnet"/>
                                                                                                </item>
                                                                                                <item guid="ab2d4056-0fe7-4fe7-b199-a351bdd99009" action="command" session="fortiswitch">
                                                                                                    <command>
                                                                                                        <body>Q</body>
                                                                                                    </command>
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                        <query>promptName()</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="assert">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                        <expression>str(value) == &quot;prompt1&quot; or str(value) == &quot;prompt2&quot;</expression>
                                                                                                                        <actionsWhenTrue>
                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                    <message>For &quot;[dev_name]&quot;: device console ip addr &quot;[dev_console_ip_addr]&quot; port &quot;[dev_console_port]&quot; is operational</message>
                                                                                                                                </actionProperties>
                                                                                                                            </item>
                                                                                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                            </item>
                                                                                                                        </actionsWhenTrue>
                                                                                                                        <actionsWhenFalse>
                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                                                                                    <message>--- need to wait for prompt...</message>
                                                                                                                                </actionProperties>
                                                                                                                            </item>
                                                                                                                            <item actionId="RepeatStep">
                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="100" delayBetweenRepeats="5.0"/>
                                                                                                                            </item>
                                                                                                                        </actionsWhenFalse>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                                                        <lineTerminator inherit="false">SLASH_R</lineTerminator>
                                                                                                        <promptProperties>
                                                                                                            <stepPrompts>
                                                                                                                <item name="prompt1" MatchMethod="WILDCARD">
                                                                                                                    <Content sub="true">* login:</Content>
                                                                                                                </item>
                                                                                                                <item name="prompt2" MatchMethod="WILDCARD" TypeOfPrompt="PASSWORD">
                                                                                                                    <Content sub="true">* #</Content>
                                                                                                                </item>
                                                                                                                <item name="prompt3">
                                                                                                                    <Content>Password:</Content>
                                                                                                                </item>
                                                                                                                <item name="prompt4">
                                                                                                                    <Content>--More-- </Content>
                                                                                                                    <MoreNextCommand> \\r</MoreNextCommand>
                                                                                                                </item>
                                                                                                                <item name="prompt5">
                                                                                                                    <Content>Do you want to continue? (y/n)</Content>
                                                                                                                </item>
                                                                                                                <item name="prompt6" MatchMethod="WILDCARD">
                                                                                                                    <Content sub="true">* (*) #</Content>
                                                                                                                </item>
                                                                                                                <item name="prompt7" MatchMethod="WILDCARD">
                                                                                                                    <Content sub="true">*:</Content>
                                                                                                                </item>
                                                                                                                <item name="prompt8" MatchMethod="WILDCARD">
                                                                                                                    <Content sub="true">*</Content>
                                                                                                                </item>
                                                                                                            </stepPrompts>
                                                                                                        </promptProperties>
                                                                                                        <completionProperties promptLearnUserResponseTime="60" promptLearnUserResponseTime.inherit="false">
                                                                                                            <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                                                                        </completionProperties>
                                                                                                    </applicationProperties>
                                                                                                    <advancedProperties defaultSessionProfile="application:com.fnfr.svt.applications.telnet"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="be614154-2766-48e3-87c9-45077d4e7f3d" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>set native vlan to Split port</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="38beb867-4dc2-4785-a976-1eb3271a3b1a" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>port_split_list=[str(dev_port_name)+&quot;.1&quot;, str(dev_port_name)+&quot;.2&quot;, str(dev_port_name)+&quot;.3&quot;, str(dev_port_name)+&quot;.4&quot;]</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="d8aba76d-696e-4006-ad53-83e6237919b2" action="for" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>port in port_split_list:</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="57bf8f64-fcd2-424b-98fe-09285e880aa2" action="addPortToNativeVlan" session="fortiswitch" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>-port [port] -vlan [vlan_id]</body>
                                                                                                            </command>
                                                                                                            <postProcessing>
                                                                                                                <analysisRules>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                <query>retCode()</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="assert">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                <expression>value == &quot;TRUE&quot;</expression>
                                                                                                                                <actionsWhenTrue>
                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                            <message>For &quot;[dev_name]&quot; set native-vlan [vlan_id] for port [port] is ok</message>
                                                                                                                                        </actionProperties>
                                                                                                                                    </item>
                                                                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                    </item>
                                                                                                                                </actionsWhenTrue>
                                                                                                                                <actionsWhenFalse>
                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                            <message>For &quot;[dev_name]&quot; set native-vlan is not ok</message>
                                                                                                                                        </actionProperties>
                                                                                                                                    </item>
                                                                                                                                    <item actionId="FailTest">
                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                    </item>
                                                                                                                                </actionsWhenFalse>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                </analysisRules>
                                                                                                            </postProcessing>
                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="95f8bc46-4e0d-4901-a906-2888abfd0f18" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>discover and update the port split</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="22f1ffb7-d5ca-4107-beaa-838eacc2efcf" action="open" session="discoverTsw" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>application:com.fnfr.itest.applications.webservices.restful</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                                                        <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulSessionProperties" url="https://10.210.107.10" url.inherit="false" version="2" version.inherit="false">
                                                                                                            <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" authenticationType="Basic" authenticationType.inherit="false" user="superadmin" user.inherit="false" password.masked="false" password="superadmin" password.inherit="false" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                                                                        </sessionProperties>
                                                                                                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    </applicationProperties>
                                                                                                </item>
                                                                                                <item guid="b6b996c5-e1b7-4ded-a0d4-e0eece707331" action="POST" session="discoverTsw">
                                                                                                    <command>
                                                                                                        <body>/velocity/api/inventory/v16/device/[dev_id]/action?type=discover</body>
                                                                                                    </command>
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="none">
                                                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="message">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                                                        <message> Waiting for discover operation on [dev_name]</message>
                                                                                                                        <tag sub="false" defaultValue=""/>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" bodyType.inherit="false" action="/velocity/api/inventory/v16/device/[dev_id]/action?type=discover" action.inherit="false" includeHttpHeaders.inherit="false">
                                                                                                        <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                                                                        <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                                                                                            <memberClasses>
                                                                                                                <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                                                                                            </memberClasses>
                                                                                                            <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry"/>
                                                                                                        </httpHeader>
                                                                                                    </applicationProperties>
                                                                                                </item>
                                                                                                <item guid="e8c8de7b-5b63-409d-a619-a7eaf4c0e6cc" action="sleep">
                                                                                                    <command>
                                                                                                        <body>10</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="49fd7abc-990f-4036-aaf2-13cb88dfae27" action="consoleLogin" session="fortiswitch" useFieldsInCommand="false">
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                        <query>retCode()</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="assert">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                        <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                                                                        <actionsWhenFalse>
                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                    <message>--- console login not ok; fail test</message>
                                                                                                                                </actionProperties>
                                                                                                                            </item>
                                                                                                                            <item actionId="FailTest">
                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                            </item>
                                                                                                                        </actionsWhenFalse>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                </item>
                                                                                                <item guid="a420640e-0035-403d-94df-c8d847423caf" action="command" session="fortiswitch">
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                        <query>promptName()</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="assert">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                        <expression>str(value) == &quot;prompt1&quot; </expression>
                                                                                                                        <actionsWhenTrue>
                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                    <message>For &quot;[dev_name]&quot;: discover operation was successfully</message>
                                                                                                                                </actionProperties>
                                                                                                                            </item>
                                                                                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                            </item>
                                                                                                                        </actionsWhenTrue>
                                                                                                                        <actionsWhenFalse>
                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                                                                                    <message>--- discover operation is still in progress...</message>
                                                                                                                                </actionProperties>
                                                                                                                            </item>
                                                                                                                            <item actionId="RepeatStep">
                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="100" delayBetweenRepeats="5.0"/>
                                                                                                                            </item>
                                                                                                                        </actionsWhenFalse>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                                                        <lineTerminator inherit="false">SLASH_R</lineTerminator>
                                                                                                        <promptProperties>
                                                                                                            <stepPrompts>
                                                                                                                <item name="prompt1" MatchMethod="WILDCARD">
                                                                                                                    <Content sub="true">* login:</Content>
                                                                                                                </item>
                                                                                                                <item name="prompt2" MatchMethod="WILDCARD" TypeOfPrompt="PASSWORD">
                                                                                                                    <Content sub="true">* #</Content>
                                                                                                                </item>
                                                                                                                <item name="prompt3">
                                                                                                                    <Content>Password:</Content>
                                                                                                                </item>
                                                                                                                <item name="prompt4">
                                                                                                                    <Content>--More-- </Content>
                                                                                                                    <MoreNextCommand> \\r</MoreNextCommand>
                                                                                                                </item>
                                                                                                                <item name="prompt5">
                                                                                                                    <Content>Do you want to continue? (y/n)</Content>
                                                                                                                </item>
                                                                                                                <item name="prompt6" MatchMethod="WILDCARD">
                                                                                                                    <Content sub="true">* (*) #</Content>
                                                                                                                </item>
                                                                                                                <item name="prompt7" MatchMethod="WILDCARD">
                                                                                                                    <Content sub="true">*:</Content>
                                                                                                                </item>
                                                                                                                <item name="prompt8" MatchMethod="WILDCARD">
                                                                                                                    <Content sub="true">*</Content>
                                                                                                                </item>
                                                                                                            </stepPrompts>
                                                                                                        </promptProperties>
                                                                                                        <completionProperties promptLearnUserResponseTime="60" promptLearnUserResponseTime.inherit="false">
                                                                                                            <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                                                                        </completionProperties>
                                                                                                    </applicationProperties>
                                                                                                    <advancedProperties defaultSessionProfile="application:com.fnfr.svt.applications.telnet"/>
                                                                                                </item>
                                                                                                <item guid="5e1226fd-b0a6-45ef-8a8d-6467f48889ba" action="close" session="discoverTsw">
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="7017adcd-3a6f-4ddc-bee4-01f472e713ca" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>close session</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="611452f8-2c3d-4bee-9c85-d79c9f352b33" action="close" session="fortiswitch">
                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                </item>
                                                                                                <item guid="fda90dd7-e469-41fd-9b20-1d7145d4cd19" action="close" session="velocity">
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="25bc0ba5-c87e-4d3a-b97d-1f75eb2266a1" action="if" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>str(template_name) == &quot;Lepton ColdFusion Switch&quot;:</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="14d468b9-7adf-4395-83da-26796e79fb5c" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>open session</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="05c42596-4fc7-49ab-b3d9-2700fbf2365b" action="open" session="lepton" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>project://Lepton_ssh/session_profiles/ssh.ffsp</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                                                        <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                        <sessionProperties type="com.fnfr.svt.applications.ssh.documents.SSHProperties">
                                                                                                            <ipAddress inherit="false">[dev_ipAddress]</ipAddress>
                                                                                                            <user inherit="false">[dev_username]</user>
                                                                                                            <password inherit="false" masked="false">[dev_password]</password>
                                                                                                        </sessionProperties>
                                                                                                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    </applicationProperties>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="5931bf1f-bde9-4916-a640-39e1f786835a" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>get protocol</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="e33e380b-67db-4f17-b687-fc8daf92f946" action="if" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>int(port_speed) == 100:</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="e9a50906-4e3b-41a2-9f3d-0f6bd0327ec6" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>protocol=&quot;eth-25g&quot;</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="0d079a49-7390-4c45-80b6-19f8f806868d" action="elif" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>int(port_speed) == 40000:</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="d14dcc02-38f2-4abb-a07d-b886094a72ce" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>protocol=&quot;eth-10g&quot;</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="14ef48c1-2cd1-45b5-b37d-871479e27de7" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>ssh login and set protocol</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="5ae1c29a-3eae-4684-93c7-7e3d33b2a60d" action="setProtocol" session="lepton" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>-port [dev_port_name] -protocol [protocol]</body>
                                                                                                    </command>
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                        <query>retCode()</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="assert">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                        <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                                                                        <actionsWhenTrue>
                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                    <message>For &quot;[dev_name]&quot;: set protocol &quot;[protocol]&quot; command for port &quot;[dev_port_name]&quot; is ok</message>
                                                                                                                                </actionProperties>
                                                                                                                            </item>
                                                                                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                            </item>
                                                                                                                        </actionsWhenTrue>
                                                                                                                        <actionsWhenFalse>
                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                    <message>For &quot;[device_name]&quot;: set protocol &quot;[protocol]&quot; command for port &quot;[device_port]&quot; is not ok</message>
                                                                                                                                </actionProperties>
                                                                                                                            </item>
                                                                                                                            <item actionId="FailTest">
                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                            </item>
                                                                                                                        </actionsWhenFalse>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                </item>
                                                                                                <item guid="1f4383af-0c11-4129-a1bd-84a04bbd398a" action="getConnectedPort" session="lepton" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>-port [dev_port_name]</body>
                                                                                                    </command>
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                        <query>responseLine()</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="store">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                        <storageLocation>conn_port_lepton</storageLocation>
                                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                </item>
                                                                                                <item guid="98f4ad9b-211d-4c69-ba29-c99adeb969fd" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>print(conn_port_lepton)</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="e1c6e430-3c3c-49ab-83bf-6cb20b86a3b9" action="if" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>len(conn_port_lepton)==3:</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="0d0988d7-2980-4fcd-833b-5232bdc88cf0" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>conn_port_lepton=conn_port_lepton[:2]+&quot;0&quot;+conn_port_lepton[2:]</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="491d18a6-caac-4308-a8f7-fa0b511e058f" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>print(conn_port_lepton)</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="870f8f03-40a5-476a-b0dd-ac1990d8462f" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>check neighbor-device on lepton side</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="b0fa6461-cec5-4e85-88b7-a3251137d1df" action="open" session="velo" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>application:com.fnfr.itest.applications.webservices.restful</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                                                        <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulSessionProperties" url="https://10.210.107.10" url.inherit="false" version="2" version.inherit="false">
                                                                                                            <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" authenticationType="Basic" authenticationType.inherit="false" user="superadmin" user.inherit="false" password.masked="false" password="superadmin" password.inherit="false" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                                                                        </sessionProperties>
                                                                                                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    </applicationProperties>
                                                                                                </item>
                                                                                                <item guid="13aa5458-244d-4a6e-8014-19aa3f4d5d66" action="GET" session="velo" estimatedStepExecutionTime="0.305">
                                                                                                    <command>
                                                                                                        <body>/velocity/api/inventory/v16/device/[dev_id]/ports?limit=200</body>
                                                                                                    </command>
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                        <query sub="true">mapped/Json/ports/*\\[name=&quot;[conn_port_lepton]&quot;]/connectedPortName</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="store">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                        <storageLocation>conn_lepton_port_name</storageLocation>
                                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                        <query sub="true">mapped/Json/ports/*\\[name=&quot;[conn_port_lepton]&quot;]/connectedPortParentName</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="store">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                        <storageLocation>conn_lepton_device_name</storageLocation>
                                                                                                                        <storeInAList>true</storeInAList>
                                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[dev_id]/ports?limit=200" action.inherit="false"/>
                                                                                                </item>
                                                                                                <item guid="1b2885b9-18ca-4f86-86ba-06ce94411a96" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>print(conn_lepton_port_name, conn_lepton_device_name)</body>
                                                                                                    </command>
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="none">
                                                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="message">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                                                        <message>--- found lepton device connection: [conn_lepton_device_name] on port [conn_port_lepton]</message>
                                                                                                                        <tag sub="false" defaultValue=""/>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="e55ae530-bd30-4234-8dc1-7a8fdeb5c5d4" action="GET" session="velo" estimatedStepExecutionTime="0.305">
                                                                                                    <command>
                                                                                                        <body>velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[conn_lepton_device_name]</body>
                                                                                                    </command>
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                        <query>mapped/Json/devices/item/id</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="store">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                        <storageLocation>conn_lepton_device_id</storageLocation>
                                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                        <query>mapped/Json/devices/item/templateId</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="store">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                        <storageLocation>conn_lepton_template_id</storageLocation>
                                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[conn_lepton_device_name]" action.inherit="false"/>
                                                                                                </item>
                                                                                                <item guid="5fe95ab4-112c-4f52-bd9e-8d8bb97a2032" action="GET" session="velo" estimatedStepExecutionTime="0.305">
                                                                                                    <command>
                                                                                                        <body>/velocity/api/inventory/v16/device/[conn_lepton_device_id]</body>
                                                                                                    </command>
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                        <query>mapped/Json/properties/*[name=&quot;ipAddress&quot;]/value</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="store">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                        <storageLocation>conn_lepton_device_ip_addr</storageLocation>
                                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                        <query>mapped/Json/properties/*[name=&quot;Console&quot;]/value</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="store">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                        <storageLocation>conn_lepton_device_console_ip_addr</storageLocation>
                                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                        <query>mapped/Json/properties/*[name=&quot;Console Port&quot;]/value</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="store">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                        <storageLocation>conn_lepton_device_console_port</storageLocation>
                                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                        <query>mapped/Json/properties/*[name=&quot;username&quot;]/value</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="store">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                        <storageLocation>conn_lepton_device_username</storageLocation>
                                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                        <query>mapped/Json/properties/*[name=&quot;password&quot;]/value</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="store">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                        <storageLocation>conn_lepton_device_password</storageLocation>
                                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[conn_lepton_device_id]" action.inherit="false"/>
                                                                                                </item>
                                                                                                <item guid="a608ce3e-383d-4f62-b6d3-9f4baccd284c" action="GET" session="velo" estimatedStepExecutionTime="0.305">
                                                                                                    <command>
                                                                                                        <body>/velocity/api/inventory/v16/template/[conn_lepton_template_id]</body>
                                                                                                    </command>
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                        <query>mapped/Json/name</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="store">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                        <storageLocation>conn_lepton_template_name</storageLocation>
                                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/template/[conn_lepton_template_id]" action.inherit="false"/>
                                                                                                </item>
                                                                                                <item guid="ca4246a4-e33f-49ac-b502-aeb4f4111e3d" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>print(conn_lepton_template_name)</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="72703863-2c46-48b4-996b-fcf9ad130bf8" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>login to lepton neighbor-device and set split port command</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="68af4ff4-b85a-4687-8af0-74f720047967" action="if" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>str(conn_lepton_template_name) == &quot;Fortinet Switch&quot;:</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="93519e14-4d79-4689-a041-70e8bda811ff" action="comment" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>open session</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="cd226de5-81e4-4aaf-9dfe-14c2197cbfbc" action="open" session="fortiswitch_lepton" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>project://Fortiswitch_console/session_profiles/console.ffsp</body>
                                                                                                                    </command>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                                                                        <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                                                                            <completionProperties>
                                                                                                                                <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                                                                                            </completionProperties>
                                                                                                                        </stepProperties>
                                                                                                                        <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                                                                                            <ipAddress inherit="false">[dev_console_ip_addr]</ipAddress>
                                                                                                                            <port inherit="false">[dev_console_port]</port>
                                                                                                                        </sessionProperties>
                                                                                                                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                    </applicationProperties>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="e1580847-2a7f-44ee-964c-e76f4abc7b2f" action="comment" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>get port phy-mode</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="1a03482d-bd47-4db4-aa6e-f154834c948d" action="if" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>int(port_speed) == 100:</body>
                                                                                                                    </command>
                                                                                                                    <nestedSteps>
                                                                                                                        <item guid="39e26fc8-ef2e-4316-a0e3-9d185ebc9cb8" action="eval" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>phy_mode=&quot;4x25G&quot; </body>
                                                                                                                            </command>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        </item>
                                                                                                                    </nestedSteps>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="32afd83e-95b4-4ee2-b8e4-5f2eef90fffe" action="elif" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>int(port_speed) == 40000:</body>
                                                                                                                    </command>
                                                                                                                    <nestedSteps>
                                                                                                                        <item guid="c1dd187e-9ca4-44b5-8003-6afebec18293" action="eval" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>phy_mode=&quot;4x10G&quot; </body>
                                                                                                                            </command>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        </item>
                                                                                                                    </nestedSteps>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="1205b2dc-1dd7-4399-980b-23637384851b" action="comment" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>get vlanId for Split ports</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="15958454-cda4-4015-afe0-bf2c26916d41" action="eval" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>reservationId = velocity(&quot;reservationId&quot;); print(reservationId)</body>
                                                                                                                    </command>
                                                                                                                    <postProcessing>
                                                                                                                        <analysisRules>
                                                                                                                            <item>
                                                                                                                                <extractorInfo extractorType="none">
                                                                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                                                                </extractorInfo>
                                                                                                                                <processorInfo ruleType="message">
                                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                                                                        <message>Found reservationId: &quot;[reservationId]&quot;</message>
                                                                                                                                        <tag sub="false" defaultValue=""/>
                                                                                                                                    </ruleProperties>
                                                                                                                                </processorInfo>
                                                                                                                            </item>
                                                                                                                        </analysisRules>
                                                                                                                    </postProcessing>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="7a445c59-c816-4da8-8476-4188635a6c29" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                                                                                    <command>
                                                                                                                        <body>/velocity/api/reservation/v18/reservation/[reservationId]/resources?limit=200</body>
                                                                                                                    </command>
                                                                                                                    <postProcessing>
                                                                                                                        <analysisRules>
                                                                                                                            <item>
                                                                                                                                <extractorInfo extractorType="query">
                                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                        <query sub="true">mapped/Json/items/*\\[name=&quot;[conn_lepton_port_name]&quot;]/vlanIds/item/id</query>
                                                                                                                                    </extractorProperties>
                                                                                                                                </extractorInfo>
                                                                                                                                <processorInfo ruleType="store">
                                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                                                                                        <storageLocation>vlan_id</storageLocation>
                                                                                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                                                                                    </ruleProperties>
                                                                                                                                </processorInfo>
                                                                                                                            </item>
                                                                                                                        </analysisRules>
                                                                                                                    </postProcessing>
                                                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/reservation/v18/reservation/[reservationId]/resources?limit=200" action.inherit="false"/>
                                                                                                                </item>
                                                                                                                <item guid="5ac4ff47-a52c-4e8c-9624-fbd248ecdff0" action="eval" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>print(vlan_id)</body>
                                                                                                                    </command>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="015e8221-f248-421f-8f14-1d0a51086508" action="comment" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>console login and set port phy-mode</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="b432ae9e-91aa-413d-be0d-3d05b528b9fd" action="consoleLogin" session="fortiswitch_lepton" useFieldsInCommand="false">
                                                                                                                    <postProcessing>
                                                                                                                        <analysisRules>
                                                                                                                            <item>
                                                                                                                                <extractorInfo extractorType="query">
                                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                        <query>retCode()</query>
                                                                                                                                    </extractorProperties>
                                                                                                                                </extractorInfo>
                                                                                                                                <processorInfo ruleType="assert">
                                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                        <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                                                                                        <actionsWhenFalse>
                                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                                    <message>--- console login not ok; fail test</message>
                                                                                                                                                </actionProperties>
                                                                                                                                            </item>
                                                                                                                                            <item actionId="FailTest">
                                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                            </item>
                                                                                                                                        </actionsWhenFalse>
                                                                                                                                    </ruleProperties>
                                                                                                                                </processorInfo>
                                                                                                                            </item>
                                                                                                                        </analysisRules>
                                                                                                                    </postProcessing>
                                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                </item>
                                                                                                                <item guid="6c5a3564-c182-4a8f-b040-19f3433616e2" action="eval" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>print(phy_mode)</body>
                                                                                                                    </command>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="76ea5780-f369-4f01-b76f-9d28a25f090c" action="setSwitchPhyMode" session="fortiswitch_lepton" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>-port [conn_lepton_port_name] -phy_mode [phy_mode]</body>
                                                                                                                    </command>
                                                                                                                    <postProcessing>
                                                                                                                        <analysisRules>
                                                                                                                            <item>
                                                                                                                                <extractorInfo extractorType="query">
                                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                        <query>retCode()</query>
                                                                                                                                    </extractorProperties>
                                                                                                                                </extractorInfo>
                                                                                                                                <processorInfo ruleType="assert">
                                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                        <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                                                                                        <actionsWhenTrue>
                                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                                    <message>For &quot;[dev_name]&quot;: set port phy-mode &quot;[phy_mode]&quot; command for port &quot;[dev_port_name]&quot; is ok</message>
                                                                                                                                                </actionProperties>
                                                                                                                                            </item>
                                                                                                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                            </item>
                                                                                                                                        </actionsWhenTrue>
                                                                                                                                        <actionsWhenFalse>
                                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                                    <message>For &quot;[device_name]&quot;: set port phy-mode &quot;[phy_mode]&quot; command for port &quot;[device_port]&quot; is not ok</message>
                                                                                                                                                </actionProperties>
                                                                                                                                            </item>
                                                                                                                                            <item actionId="FailTest">
                                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                            </item>
                                                                                                                                        </actionsWhenFalse>
                                                                                                                                    </ruleProperties>
                                                                                                                                </processorInfo>
                                                                                                                            </item>
                                                                                                                        </analysisRules>
                                                                                                                    </postProcessing>
                                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="7ac249de-af23-4b3b-8848-8d30d3acade4" action="comment" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>wait for device to reboot</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="3194af11-b2ab-455e-b0b0-32e199ce59cc" action="sleep">
                                                                                                                    <command>
                                                                                                                        <body>10</body>
                                                                                                                    </command>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                    <advancedProperties defaultSessionProfile="application:com.fnfr.svt.applications.telnet"/>
                                                                                                                </item>
                                                                                                                <item guid="8a623c0c-d451-406e-bb16-49bd165401f4" action="command" session="fortiswitch_lepton">
                                                                                                                    <command>
                                                                                                                        <body>Q</body>
                                                                                                                    </command>
                                                                                                                    <postProcessing>
                                                                                                                        <analysisRules>
                                                                                                                            <item>
                                                                                                                                <extractorInfo extractorType="query">
                                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                                        <query>promptName()</query>
                                                                                                                                    </extractorProperties>
                                                                                                                                </extractorInfo>
                                                                                                                                <processorInfo ruleType="assert">
                                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                        <expression>str(value) == &quot;prompt1&quot; or str(value) == &quot;prompt2&quot;</expression>
                                                                                                                                        <actionsWhenTrue>
                                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                                    <message>For &quot;[dev_name]&quot;: device console ip addr &quot;[dev_console_ip_addr]&quot; port &quot;[dev_console_port]&quot; is operational</message>
                                                                                                                                                </actionProperties>
                                                                                                                                            </item>
                                                                                                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                            </item>
                                                                                                                                        </actionsWhenTrue>
                                                                                                                                        <actionsWhenFalse>
                                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                                                                                                    <message>--- need to wait for prompt...</message>
                                                                                                                                                </actionProperties>
                                                                                                                                            </item>
                                                                                                                                            <item actionId="RepeatStep">
                                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="100" delayBetweenRepeats="5.0"/>
                                                                                                                                            </item>
                                                                                                                                        </actionsWhenFalse>
                                                                                                                                    </ruleProperties>
                                                                                                                                </processorInfo>
                                                                                                                            </item>
                                                                                                                        </analysisRules>
                                                                                                                    </postProcessing>
                                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties">
                                                                                                                        <lineTerminator inherit="false">SLASH_R</lineTerminator>
                                                                                                                        <promptProperties>
                                                                                                                            <stepPrompts>
                                                                                                                                <item name="prompt1" MatchMethod="WILDCARD">
                                                                                                                                    <Content sub="true">* login:</Content>
                                                                                                                                </item>
                                                                                                                                <item name="prompt2" MatchMethod="WILDCARD" TypeOfPrompt="PASSWORD">
                                                                                                                                    <Content sub="true">* #</Content>
                                                                                                                                </item>
                                                                                                                                <item name="prompt3">
                                                                                                                                    <Content>Password:</Content>
                                                                                                                                </item>
                                                                                                                                <item name="prompt4">
                                                                                                                                    <Content>--More-- </Content>
                                                                                                                                    <MoreNextCommand> \\r</MoreNextCommand>
                                                                                                                                </item>
                                                                                                                                <item name="prompt5">
                                                                                                                                    <Content>Do you want to continue? (y/n)</Content>
                                                                                                                                </item>
                                                                                                                                <item name="prompt6" MatchMethod="WILDCARD">
                                                                                                                                    <Content sub="true">* (*) #</Content>
                                                                                                                                </item>
                                                                                                                                <item name="prompt7" MatchMethod="WILDCARD">
                                                                                                                                    <Content sub="true">*:</Content>
                                                                                                                                </item>
                                                                                                                                <item name="prompt8" MatchMethod="WILDCARD">
                                                                                                                                    <Content sub="true">*</Content>
                                                                                                                                </item>
                                                                                                                            </stepPrompts>
                                                                                                                        </promptProperties>
                                                                                                                        <completionProperties promptLearnUserResponseTime="60" promptLearnUserResponseTime.inherit="false">
                                                                                                                            <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                                                                                        </completionProperties>
                                                                                                                    </applicationProperties>
                                                                                                                    <advancedProperties defaultSessionProfile="application:com.fnfr.svt.applications.telnet"/>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="dc979286-d745-4de4-91e0-0ac20438596a" action="comment" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>set native vlan to Split port</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="72e60413-df46-4de8-b31a-70562256b07a" action="eval" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>port_split_list=[str(conn_lepton_port_name)+&quot;.1&quot;, str(conn_lepton_port_name)+&quot;.2&quot;, str(conn_lepton_port_name)+&quot;.3&quot;, str(conn_lepton_port_name)+&quot;.4&quot;]</body>
                                                                                                                    </command>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="405ae49c-cac3-4871-8660-7695785ad9d3" action="for" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>port in port_split_list:</body>
                                                                                                                    </command>
                                                                                                                    <nestedSteps>
                                                                                                                        <item guid="dedf1425-430d-40fb-9e7d-6d8a7ff4e36a" action="addPortToNativeVlan" session="fortiswitch" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>-port [port] -vlan [vlan_id]</body>
                                                                                                                            </command>
                                                                                                                            <postProcessing>
                                                                                                                                <analysisRules>
                                                                                                                                    <item>
                                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                                <query>retCode()</query>
                                                                                                                                            </extractorProperties>
                                                                                                                                        </extractorInfo>
                                                                                                                                        <processorInfo ruleType="assert">
                                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                                <expression>value == &quot;TRUE&quot;</expression>
                                                                                                                                                <actionsWhenTrue>
                                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                                            <message>For &quot;[conn_lepton_device_name]&quot; set native-vlan [vlan_id] for port [port] is ok</message>
                                                                                                                                                        </actionProperties>
                                                                                                                                                    </item>
                                                                                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                                    </item>
                                                                                                                                                </actionsWhenTrue>
                                                                                                                                                <actionsWhenFalse>
                                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                                            <message>For &quot;[dev_name]&quot; set native-vlan is not ok</message>
                                                                                                                                                        </actionProperties>
                                                                                                                                                    </item>
                                                                                                                                                    <item actionId="FailTest">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                                    </item>
                                                                                                                                                </actionsWhenFalse>
                                                                                                                                            </ruleProperties>
                                                                                                                                        </processorInfo>
                                                                                                                                    </item>
                                                                                                                                </analysisRules>
                                                                                                                            </postProcessing>
                                                                                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                        </item>
                                                                                                                    </nestedSteps>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="0ebd7542-b2fc-4db4-a1e6-f81733a1e44a" action="comment" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>discover and update the port split</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="2c6bbf71-0e9a-4f04-a2c5-0dbe75af7318" action="open" session="discoverTsw_lepton" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>application:com.fnfr.itest.applications.webservices.restful</body>
                                                                                                                    </command>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                                                                        <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulSessionProperties" url="https://10.210.107.10" url.inherit="false" version="2" version.inherit="false">
                                                                                                                            <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" authenticationType="Basic" authenticationType.inherit="false" user="superadmin" user.inherit="false" password.masked="false" password="superadmin" password.inherit="false" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                                                                                        </sessionProperties>
                                                                                                                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                    </applicationProperties>
                                                                                                                </item>
                                                                                                                <item guid="cfcf98e1-fde3-459a-836a-6fb3b387c58c" action="POST" session="discoverTsw_lepton">
                                                                                                                    <command>
                                                                                                                        <body>/velocity/api/inventory/v16/device/[conn_lepton_device_id]/action?type=discover</body>
                                                                                                                    </command>
                                                                                                                    <postProcessing>
                                                                                                                        <analysisRules>
                                                                                                                            <item>
                                                                                                                                <extractorInfo extractorType="none">
                                                                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                                                                </extractorInfo>
                                                                                                                                <processorInfo ruleType="message">
                                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                                                                        <message> Waiting for discover operation on [conn_lepton_device_name]</message>
                                                                                                                                        <tag sub="false" defaultValue=""/>
                                                                                                                                    </ruleProperties>
                                                                                                                                </processorInfo>
                                                                                                                            </item>
                                                                                                                        </analysisRules>
                                                                                                                    </postProcessing>
                                                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" bodyType.inherit="false" action="/velocity/api/inventory/v16/device/[conn_lepton_device_id]/action?type=discover" action.inherit="false" includeHttpHeaders.inherit="false">
                                                                                                                        <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                                                                                        <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                                                                                                            <memberClasses>
                                                                                                                                <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                                                                                                            </memberClasses>
                                                                                                                            <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry"/>
                                                                                                                        </httpHeader>
                                                                                                                    </applicationProperties>
                                                                                                                </item>
                                                                                                                <item guid="f36c516a-be3c-4659-b995-206037dd2125" action="sleep">
                                                                                                                    <command>
                                                                                                                        <body>10</body>
                                                                                                                    </command>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="817e8f06-9fb9-4af6-99bb-2495141e4450" action="consoleLogin" session="fortiswitch_lepton" useFieldsInCommand="false">
                                                                                                                    <postProcessing>
                                                                                                                        <analysisRules>
                                                                                                                            <item>
                                                                                                                                <extractorInfo extractorType="query">
                                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                        <query>retCode()</query>
                                                                                                                                    </extractorProperties>
                                                                                                                                </extractorInfo>
                                                                                                                                <processorInfo ruleType="assert">
                                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                        <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                                                                                        <actionsWhenFalse>
                                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                                    <message>--- console login not ok; fail test</message>
                                                                                                                                                </actionProperties>
                                                                                                                                            </item>
                                                                                                                                            <item actionId="FailTest">
                                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                            </item>
                                                                                                                                        </actionsWhenFalse>
                                                                                                                                    </ruleProperties>
                                                                                                                                </processorInfo>
                                                                                                                            </item>
                                                                                                                        </analysisRules>
                                                                                                                    </postProcessing>
                                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                </item>
                                                                                                                <item guid="14750457-2dce-4c22-ac0a-cf2c2f274e73" action="command" session="fortiswitch_lepton">
                                                                                                                    <postProcessing>
                                                                                                                        <analysisRules>
                                                                                                                            <item>
                                                                                                                                <extractorInfo extractorType="query">
                                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                                        <query>promptName()</query>
                                                                                                                                    </extractorProperties>
                                                                                                                                </extractorInfo>
                                                                                                                                <processorInfo ruleType="assert">
                                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                        <expression>str(value) == &quot;prompt1&quot; </expression>
                                                                                                                                        <actionsWhenTrue>
                                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                                    <message>For &quot;[conn_lepton_device_name]&quot;: discover operation was successfully</message>
                                                                                                                                                </actionProperties>
                                                                                                                                            </item>
                                                                                                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                            </item>
                                                                                                                                        </actionsWhenTrue>
                                                                                                                                        <actionsWhenFalse>
                                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                                                                                                    <message>--- discover operation is still in progress...</message>
                                                                                                                                                </actionProperties>
                                                                                                                                            </item>
                                                                                                                                            <item actionId="RepeatStep">
                                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup" maxRepeatCount="100" delayBetweenRepeats="5.0"/>
                                                                                                                                            </item>
                                                                                                                                        </actionsWhenFalse>
                                                                                                                                    </ruleProperties>
                                                                                                                                </processorInfo>
                                                                                                                            </item>
                                                                                                                        </analysisRules>
                                                                                                                    </postProcessing>
                                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                    <advancedProperties defaultSessionProfile="application:com.fnfr.svt.applications.telnet"/>
                                                                                                                </item>
                                                                                                                <item guid="21961a30-9a69-41ac-9de8-238f664c4b33" action="close" session="discoverTsw_lepton">
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="2ae7e56d-0d45-4e53-9c1c-1fac107de6ce" action="comment" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>ssh login and set protocol on connected port</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="e386bf2b-be32-4b92-8981-e28cbdb2a9e1" action="setProtocol" session="lepton" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>-port [conn_port_lepton] -protocol [protocol]</body>
                                                                                                                    </command>
                                                                                                                    <postProcessing>
                                                                                                                        <analysisRules>
                                                                                                                            <item>
                                                                                                                                <extractorInfo extractorType="query">
                                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                        <query>retCode()</query>
                                                                                                                                    </extractorProperties>
                                                                                                                                </extractorInfo>
                                                                                                                                <processorInfo ruleType="assert">
                                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                        <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                                                                                        <actionsWhenTrue>
                                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                                    <message>For &quot;[dev_name]&quot;: set protocol &quot;[protocol]&quot; command for port &quot;[conn_port_lepton]&quot; is ok</message>
                                                                                                                                                </actionProperties>
                                                                                                                                            </item>
                                                                                                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                            </item>
                                                                                                                                        </actionsWhenTrue>
                                                                                                                                        <actionsWhenFalse>
                                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                                    <message>For &quot;[device_name]&quot;: set protocol &quot;[protocol]&quot; command for port &quot;[conn_port_lepton]&quot; is not ok</message>
                                                                                                                                                </actionProperties>
                                                                                                                                            </item>
                                                                                                                                            <item actionId="FailTest">
                                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                            </item>
                                                                                                                                        </actionsWhenFalse>
                                                                                                                                    </ruleProperties>
                                                                                                                                </processorInfo>
                                                                                                                            </item>
                                                                                                                        </analysisRules>
                                                                                                                    </postProcessing>
                                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="eba97ffd-f778-454f-b689-2b99ed434b72" action="comment" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>close session</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="d6c5a761-8f26-4744-95d4-474497922396" action="close" session="fortiswitch_lepton">
                                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="e0231c65-66c5-4f90-8d3c-2391f5ef468f" action="if" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>str(conn_lepton_template_name) == &quot;Arista Switch&quot;:</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="b4843c8f-3401-4690-9fc5-e1933ec72d4b" action="comment" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>open session</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="c5b91eae-9d9c-4ac9-a99a-70fe524fea29" action="open" session="arista_lepton">
                                                                                                                    <command>
                                                                                                                        <body>project://Arista_console/session_profiles/console.ffsp</body>
                                                                                                                    </command>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                                                                        <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                        <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                                                                                            <ipAddress inherit="false">[conn_lepton_device_console_ip_addr]</ipAddress>
                                                                                                                            <port inherit="false">[conn_lepton_device_console_port]</port>
                                                                                                                            <TerminalProperties>
                                                                                                                                <stepDefaults>
                                                                                                                                    <completionProperties>
                                                                                                                                        <completeWhen inherit="false">AUTO_OR_IDLE</completeWhen>
                                                                                                                                    </completionProperties>
                                                                                                                                </stepDefaults>
                                                                                                                            </TerminalProperties>
                                                                                                                        </sessionProperties>
                                                                                                                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                    </applicationProperties>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="3ede070c-3252-46a3-ba85-ae5550473d8a" action="comment" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>get speed</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="172ada3b-f1fc-4c78-9139-e530a3269be9" action="if" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>int(port_speed) == 100:</body>
                                                                                                                    </command>
                                                                                                                    <nestedSteps>
                                                                                                                        <item guid="cf4dd2ba-ec82-4183-b602-3c2817b6ead6" action="eval" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>dev_lepton_speed=&quot;25g&quot;</body>
                                                                                                                            </command>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        </item>
                                                                                                                    </nestedSteps>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="d53de322-e81c-45fc-a58a-e86523008656" action="elif" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>int(port_speed) = 40000:</body>
                                                                                                                    </command>
                                                                                                                    <nestedSteps>
                                                                                                                        <item guid="04894ec4-6c1f-4a2d-89d7-ef92fc35bae3" action="eval" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>dev_lepton_speed=&quot;10g&quot;</body>
                                                                                                                            </command>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        </item>
                                                                                                                    </nestedSteps>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="696d25e3-a710-4790-9b91-e1b398eb6fc4" action="comment" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>console login and set port speed</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="c251cde9-10d9-4f4e-b332-ef2b92538f6a" action="setSwitchPortSpeed" session="arista_lepton" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>-port [conn_lepton_port_name] -speed [dev_lepton_speed]</body>
                                                                                                                    </command>
                                                                                                                    <postProcessing>
                                                                                                                        <analysisRules>
                                                                                                                            <item>
                                                                                                                                <extractorInfo extractorType="query">
                                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                        <query>retCode()</query>
                                                                                                                                    </extractorProperties>
                                                                                                                                </extractorInfo>
                                                                                                                                <processorInfo ruleType="assert">
                                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                        <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                                                                                        <actionsWhenTrue>
                                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                                    <message>For &quot;[conn_lepton_device_name]&quot; set speed [dev_lepton_speed] command for port &quot; [conn_lepton_port_name]&quot; is ok</message>
                                                                                                                                                </actionProperties>
                                                                                                                                            </item>
                                                                                                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                            </item>
                                                                                                                                        </actionsWhenTrue>
                                                                                                                                        <actionsWhenFalse>
                                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                                    <message>For &quot;[conn_lepton_device_name]&quot; set speed [dev_lepton_speed] command for port &quot; [conn_lepton_port_name]&quot; is not ok</message>
                                                                                                                                                </actionProperties>
                                                                                                                                            </item>
                                                                                                                                            <item actionId="FailTest">
                                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                            </item>
                                                                                                                                        </actionsWhenFalse>
                                                                                                                                    </ruleProperties>
                                                                                                                                </processorInfo>
                                                                                                                            </item>
                                                                                                                        </analysisRules>
                                                                                                                    </postProcessing>
                                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="89aa6d46-01d5-49d0-b056-cb29f5d2eeca" action="comment" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>discover and update the port speed</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="3d222970-424c-4598-9b16-3fb526a8fd17" action="open" session="discoverArista_lepton" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>application:com.fnfr.itest.applications.webservices.restful</body>
                                                                                                                    </command>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                                                                        <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulSessionProperties" url="https://10.210.107.10" url.inherit="false" version="2" version.inherit="false">
                                                                                                                            <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" authenticationType="Basic" authenticationType.inherit="false" user="superadmin" user.inherit="false" password.masked="false" password="superadmin" password.inherit="false" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                                                                                        </sessionProperties>
                                                                                                                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                    </applicationProperties>
                                                                                                                </item>
                                                                                                                <item guid="38551e65-5992-4edb-b55a-72bad6b591ff" action="POST" session="discoverArista_lepton">
                                                                                                                    <command>
                                                                                                                        <body>/velocity/api/inventory/v16/device/[conn_lepton_device_id]/action?type=discover</body>
                                                                                                                    </command>
                                                                                                                    <postProcessing>
                                                                                                                        <analysisRules>
                                                                                                                            <item>
                                                                                                                                <extractorInfo extractorType="none">
                                                                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                                                                </extractorInfo>
                                                                                                                                <processorInfo ruleType="message">
                                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                                                                        <message> Waiting for discover operation on [conn_lepton_device_name]</message>
                                                                                                                                        <tag sub="false" defaultValue=""/>
                                                                                                                                    </ruleProperties>
                                                                                                                                </processorInfo>
                                                                                                                            </item>
                                                                                                                        </analysisRules>
                                                                                                                    </postProcessing>
                                                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" bodyType.inherit="false" action="/velocity/api/inventory/v16/device/[conn_lepton_device_id]/action?type=discover" action.inherit="false" includeHttpHeaders.inherit="false">
                                                                                                                        <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                                                                                        <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                                                                                                            <memberClasses>
                                                                                                                                <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                                                                                                            </memberClasses>
                                                                                                                            <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry"/>
                                                                                                                        </httpHeader>
                                                                                                                    </applicationProperties>
                                                                                                                </item>
                                                                                                                <item guid="ec479e09-f3aa-44ac-beda-7b5deb93c02e" action="eval" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>i=0</body>
                                                                                                                    </command>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="fd3807ca-42fc-46ac-9a26-7dbc947f7f97" action="while" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>i&lt;10:</body>
                                                                                                                    </command>
                                                                                                                    <nestedSteps>
                                                                                                                        <item guid="01d738cd-c475-4fea-bea0-18d3ddad6679" action="eval" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>i = i + 2</body>
                                                                                                                            </command>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        </item>
                                                                                                                        <item guid="daa0fb62-4f0b-45a8-98c8-bae66888e5a4" action="sleep">
                                                                                                                            <command>
                                                                                                                                <body>3</body>
                                                                                                                            </command>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        </item>
                                                                                                                        <item guid="0a40ef84-b0bc-4141-ac75-74a296d63a74" action="eval" useFieldsInCommand="false">
                                                                                                                            <command>
                                                                                                                                <body>print(i)</body>
                                                                                                                            </command>
                                                                                                                            <postProcessing>
                                                                                                                                <analysisRules>
                                                                                                                                    <item>
                                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                                                <query>responseLine()</query>
                                                                                                                                            </extractorProperties>
                                                                                                                                        </extractorInfo>
                                                                                                                                        <processorInfo ruleType="assert">
                                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                                <expression>int(value) == 9</expression>
                                                                                                                                                <actionsWhenTrue>
                                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                                            <message>For &quot;[conn_lepton_device_name]&quot;: discover operation was successfully</message>
                                                                                                                                                        </actionProperties>
                                                                                                                                                    </item>
                                                                                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                                    </item>
                                                                                                                                                </actionsWhenTrue>
                                                                                                                                                <actionsWhenFalse>
                                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                                                                                                            <message>--- discover operation is still in progress...</message>
                                                                                                                                                        </actionProperties>
                                                                                                                                                    </item>
                                                                                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                                    </item>
                                                                                                                                                </actionsWhenFalse>
                                                                                                                                            </ruleProperties>
                                                                                                                                        </processorInfo>
                                                                                                                                    </item>
                                                                                                                                </analysisRules>
                                                                                                                            </postProcessing>
                                                                                                                            <eventHandlers>
                                                                                                                                <item name="OnQueryExtractorInvalidQuery">
                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                                                                                            <message>{auto_message_wait}</message>
                                                                                                                                        </actionProperties>
                                                                                                                                    </item>
                                                                                                                                    <item actionId="RepeatStep">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup"/>
                                                                                                                                    </item>
                                                                                                                                </item>
                                                                                                                                <item name="OnNoMatchesFound">
                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                                                                                            <message>{auto_message_wait}</message>
                                                                                                                                        </actionProperties>
                                                                                                                                    </item>
                                                                                                                                    <item actionId="RepeatStep">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup"/>
                                                                                                                                    </item>
                                                                                                                                </item>
                                                                                                                            </eventHandlers>
                                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                        </item>
                                                                                                                    </nestedSteps>
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                                <item guid="af51d631-e513-4a93-a700-17265a4e9d5e" action="close" session="discoverArista_lepton">
                                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="8e4ab72e-9250-43b3-9f46-82b484592c07" action="comment" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>ssh login and set protocol on connected port</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="ec6d3edd-9bba-49d8-b326-36cad40a4a41" action="setProtocol" session="lepton" useFieldsInCommand="false">
                                                                                                                    <command>
                                                                                                                        <body>-port [conn_port_lepton] -protocol [protocol]</body>
                                                                                                                    </command>
                                                                                                                    <postProcessing>
                                                                                                                        <analysisRules>
                                                                                                                            <item>
                                                                                                                                <extractorInfo extractorType="query">
                                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                                        <query>retCode()</query>
                                                                                                                                    </extractorProperties>
                                                                                                                                </extractorInfo>
                                                                                                                                <processorInfo ruleType="assert">
                                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                        <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                                                                                        <actionsWhenTrue>
                                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                                    <message>For &quot;[dev_name]&quot;: set protocol &quot;[protocol]&quot; command for port &quot;[conn_port_lepton]&quot; is ok</message>
                                                                                                                                                </actionProperties>
                                                                                                                                            </item>
                                                                                                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                            </item>
                                                                                                                                        </actionsWhenTrue>
                                                                                                                                        <actionsWhenFalse>
                                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                                    <message>For &quot;[device_name]&quot;: set protocol &quot;[protocol]&quot; command for port &quot;[conn_port_lepton]&quot; is not ok</message>
                                                                                                                                                </actionProperties>
                                                                                                                                            </item>
                                                                                                                                            <item actionId="FailTest">
                                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                            </item>
                                                                                                                                        </actionsWhenFalse>
                                                                                                                                    </ruleProperties>
                                                                                                                                </processorInfo>
                                                                                                                            </item>
                                                                                                                        </analysisRules>
                                                                                                                    </postProcessing>
                                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="953c5302-ae97-468e-a54b-4880c2eb16c8" action="comment" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>close session</body>
                                                                                                            </command>
                                                                                                            <nestedSteps>
                                                                                                                <item guid="929a9f66-83ba-469e-8d3c-a0f3d380de8b" action="close" session="arista_lepton">
                                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                                </item>
                                                                                                            </nestedSteps>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="d8c3b806-de4c-4156-a133-dd3bcd73213a" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>close session</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="a2f9c1a8-e222-42cd-b32d-d04eaab3b7ce" action="close" session="lepton">
                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                </item>
                                                                                                <item guid="c7ed3ae2-5464-42a9-98b3-9545b9daca07" action="close" session="velocity">
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="fbc1ed07-8711-4fcf-8c46-b23d232033d5" action="close" session="velo">
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="839bfb8e-3d2c-4d85-bdac-9b66c3e69974" action="if" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>str(template_name) == &quot;Arista Switch&quot;:</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="472d8d87-5d2b-4203-9c77-57a22a3c27e3" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>open session</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="d242fa5a-0df6-41e9-8354-1b5526266a7a" action="open" session="arista" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>project://Arista_console/session_profiles/console.ffsp</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                                                        <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                        <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                                                                            <ipAddress inherit="false">[dev_console_ip_addr]</ipAddress>
                                                                                                            <port inherit="false">[dev_console_port]</port>
                                                                                                        </sessionProperties>
                                                                                                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    </applicationProperties>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="57008e93-7e3b-411a-8806-6c00de990920" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>get speed</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="143efa82-ed33-401c-abba-3e9028f5801b" action="if" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>int(port_speed) == 100:</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="fed12bee-9654-4fd7-bf21-fe073acab550" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>dev_speed=&quot;25g&quot;</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="115cfb04-504e-4222-a982-1a3db9e6cd6b" action="elif" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>int(port_speed) = 40000:</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="68074fa9-a4c6-4ba6-96f7-8c2923761463" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>dev_speed=&quot;10g&quot;</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="7c1aee9b-84bd-45d0-8f71-98dcee840ec9" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>console login and set port speed</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="c4fded02-90f3-4110-b895-9b55fea8fdd0" action="setSwitchPortSpeed" session="arista" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>-port [dev_port_name] -speed [dev_speed]</body>
                                                                                                    </command>
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="query">
                                                                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                                        <query>retCode()</query>
                                                                                                                    </extractorProperties>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="assert">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                        <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                                                                        <actionsWhenTrue>
                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                    <message>For &quot;[device_name]&quot;: set protocol &quot;[protocol]&quot; command for port &quot;[device_port]&quot; is ok</message>
                                                                                                                                </actionProperties>
                                                                                                                            </item>
                                                                                                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                            </item>
                                                                                                                        </actionsWhenTrue>
                                                                                                                        <actionsWhenFalse>
                                                                                                                            <item actionId="DeclareExecutionIssue">
                                                                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                                                                    <message>For &quot;[device_name]&quot;: set protocol &quot;[protocol]&quot; command for port &quot;[device_port]&quot; is not ok</message>
                                                                                                                                </actionProperties>
                                                                                                                            </item>
                                                                                                                            <item actionId="FailTest">
                                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                            </item>
                                                                                                                        </actionsWhenFalse>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="b1b09d87-6c05-4984-b04b-971e43c91ccc" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>discover and update the port speed</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="4492e8d2-5303-4c58-ad3a-9b064f277fab" action="open" session="discoverArista" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>application:com.fnfr.itest.applications.webservices.restful</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                                                                        <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulSessionProperties" url="https://10.210.107.10" url.inherit="false" version="2" version.inherit="false">
                                                                                                            <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" authenticationType="Basic" authenticationType.inherit="false" user="superadmin" user.inherit="false" password.masked="false" password="superadmin" password.inherit="false" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                                                                        </sessionProperties>
                                                                                                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    </applicationProperties>
                                                                                                </item>
                                                                                                <item guid="076d0cd4-159c-47bf-a7de-9dcb8165d803" action="POST" session="discoverArista">
                                                                                                    <command>
                                                                                                        <body>/velocity/api/inventory/v16/device/[dev_id]/action?type=discover</body>
                                                                                                    </command>
                                                                                                    <postProcessing>
                                                                                                        <analysisRules>
                                                                                                            <item>
                                                                                                                <extractorInfo extractorType="none">
                                                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                                                </extractorInfo>
                                                                                                                <processorInfo ruleType="message">
                                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                                                        <message> Waiting for discover operation on [dev_name]</message>
                                                                                                                        <tag sub="false" defaultValue=""/>
                                                                                                                    </ruleProperties>
                                                                                                                </processorInfo>
                                                                                                            </item>
                                                                                                        </analysisRules>
                                                                                                    </postProcessing>
                                                                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" bodyType.inherit="false" action="/velocity/api/inventory/v16/device/[dev_id]/action?type=discover" action.inherit="false" includeHttpHeaders.inherit="false">
                                                                                                        <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                                                                        <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                                                                                            <memberClasses>
                                                                                                                <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                                                                                            </memberClasses>
                                                                                                            <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry"/>
                                                                                                        </httpHeader>
                                                                                                    </applicationProperties>
                                                                                                </item>
                                                                                                <item guid="9017ca6f-380c-4aae-b9ac-1c146397c981" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>i=0</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="2383c5fe-9f39-4d2c-aa16-930bdb21c0fa" action="while" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>i&lt;10:</body>
                                                                                                    </command>
                                                                                                    <nestedSteps>
                                                                                                        <item guid="66c76370-754e-4ee9-baf4-2e982aa79420" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>i = i + 2</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="95bbafea-b68d-4e51-ad8a-efaea1ce177f" action="sleep">
                                                                                                            <command>
                                                                                                                <body>3</body>
                                                                                                            </command>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                        <item guid="a46e5b89-00c6-40c2-97a4-29a86f63cdfe" action="eval" useFieldsInCommand="false">
                                                                                                            <command>
                                                                                                                <body>print(i)</body>
                                                                                                            </command>
                                                                                                            <postProcessing>
                                                                                                                <analysisRules>
                                                                                                                    <item>
                                                                                                                        <extractorInfo extractorType="query">
                                                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                                                                                <query>responseLine()</query>
                                                                                                                            </extractorProperties>
                                                                                                                        </extractorInfo>
                                                                                                                        <processorInfo ruleType="assert">
                                                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                                                <expression>int(value) == 9</expression>
                                                                                                                                <actionsWhenTrue>
                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                                                            <message>For &quot;[dev_name]&quot;: discover operation was successfully</message>
                                                                                                                                        </actionProperties>
                                                                                                                                    </item>
                                                                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                    </item>
                                                                                                                                </actionsWhenTrue>
                                                                                                                                <actionsWhenFalse>
                                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                                                                                            <message>--- discover operation is still in progress...</message>
                                                                                                                                        </actionProperties>
                                                                                                                                    </item>
                                                                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                                                    </item>
                                                                                                                                </actionsWhenFalse>
                                                                                                                            </ruleProperties>
                                                                                                                        </processorInfo>
                                                                                                                    </item>
                                                                                                                </analysisRules>
                                                                                                            </postProcessing>
                                                                                                            <eventHandlers>
                                                                                                                <item name="OnQueryExtractorInvalidQuery">
                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                                                                            <message>{auto_message_wait}</message>
                                                                                                                        </actionProperties>
                                                                                                                    </item>
                                                                                                                    <item actionId="RepeatStep">
                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup"/>
                                                                                                                    </item>
                                                                                                                </item>
                                                                                                                <item name="OnNoMatchesFound">
                                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                                                                            <message>{auto_message_wait}</message>
                                                                                                                        </actionProperties>
                                                                                                                    </item>
                                                                                                                    <item actionId="RepeatStep">
                                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup"/>
                                                                                                                    </item>
                                                                                                                </item>
                                                                                                            </eventHandlers>
                                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                        </item>
                                                                                                    </nestedSteps>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                                <item guid="a0f3bf0e-cc40-4db5-a6bb-01e5c07ffa8b" action="close" session="discoverArista">
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="d66f40ba-fcfa-44c4-b19d-2da6e9c238df" action="comment" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>close session</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="5b21e8cd-bd23-4748-8004-da50a3de8147" action="close" session="arista">
                                                                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="f663f140-d5fd-4996-a9ed-5f8db20bd37d" action="else" useFieldsInCommand="false">
                                                            <nestedSteps>
                                                                <item guid="7c062179-17b9-4360-a455-27d968ccc686" action="comment" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>skip</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="bb6f68a2-c6ee-4e53-bf53-17412ea25738" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>print(&quot;Port has been already split&quot;)</body>
                                                                            </command>
                                                                            <postProcessing>
                                                                                <analysisRules>
                                                                                    <item>
                                                                                        <extractorInfo extractorType="none">
                                                                                            <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                        </extractorInfo>
                                                                                        <processorInfo ruleType="message">
                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                                <message> For device name: [device_name]</message>
                                                                                                <tag sub="false" defaultValue=""/>
                                                                                            </ruleProperties>
                                                                                        </processorInfo>
                                                                                    </item>
                                                                                    <item>
                                                                                        <extractorInfo extractorType="query">
                                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                                <query>isEmpty()</query>
                                                                                            </extractorProperties>
                                                                                        </extractorInfo>
                                                                                        <processorInfo ruleType="assert">
                                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                <expression>str(value) == &quot;false&quot; </expression>
                                                                                                <actionsWhenTrue>
                                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                                            <message>--- Port [device_port] has been already split</message>
                                                                                                        </actionProperties>
                                                                                                    </item>
                                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                    </item>
                                                                                                </actionsWhenTrue>
                                                                                            </ruleProperties>
                                                                                        </processorInfo>
                                                                                    </item>
                                                                                </analysisRules>
                                                                            </postProcessing>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="7d966b7b-19f4-49b9-aa41-e9ebc744dca1" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Reinitialization dicts</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="319d8a30-7087-4b81-833d-d81400928b6c" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>device_ports_dict={}</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="61f8dd81-8986-47d6-9b8c-444e9f60645c" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>device_dev_dict={}</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="f3808428-3c27-4fca-a294-fa652d954ee8" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>dev_conn_list=[]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="c03907e6-3209-47b2-a275-204251bd757f" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>conn_prop_devices_name_list=[]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="ce34b3bc-c685-4933-b31b-aede17556531" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>conn_prop_devices_port_list=[]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="d5f47512-5da9-40a5-b167-e6d56cc466c3" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>dev_port_id_list=[]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="699fd9a8-7482-4cb6-a18d-95256b024a3c" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>dev_conn_ports_dict={}</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="cdcebfa2-1cb9-49b4-8abf-9d9f1a2716a8" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="701fa76c-1532-4026-bbd5-9d1b2b23c55e" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>skip</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="c7cf90a8-8123-4252-abe9-9b2791914a71" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(&quot;Device has no ports to be split&quot;)</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>isEmpty()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>str(value) == &quot;false&quot; </expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                            <message>--- Device &quot;[device_name]&quot; has no ports to be split</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
    </procedures>
</testCase>
