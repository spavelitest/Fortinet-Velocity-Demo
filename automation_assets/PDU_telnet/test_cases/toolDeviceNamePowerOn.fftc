<?xml version="1.0"?>
<testCase version="8.7.0.202112151246">
    <general>
        <notes>Script to Power On a Device by Device Name</notes>
        <language>Python</language>
    </general>
    <execution>
        <parameters version="8.7.0.202112151246">
            <parameters escape="true">
                <parameters xmlns:pt="http://www.fnfr.com/schemas/parameterTree">
                    <device_name pt:description="Device name to be powered on from pdu"/>
                </parameters>
            </parameters>
        </parameters>
    </execution>
    <procedures>
        <item name="main">
            <steps>
                <item guid="c603007d-90c3-48bf-8dce-90ea1a0741b3" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Initialization</body>
                    </command>
                    <nestedSteps>
                        <item guid="29614f64-d03e-4d4a-aae8-f3c9644084e4" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>device_name = param(&apos;device_name&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="1e308ef1-512b-4890-befa-9c9c9f71e3ab" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Get PDU connection from Velocity based on device Id</body>
                            </command>
                            <nestedSteps>
                                <item guid="7a8fd7e3-9ae9-4a81-b47f-997f6db2cad0" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>init dict</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="b1e850d4-283a-4aa1-9d64-391cfd93f370" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>device_ports_dict = {}</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="e2a756f9-3fd1-485e-aa32-20a7803e47a1" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>device_pdu_dict = {}</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="1451ef51-23c2-4327-b124-ce7ffe177bb6" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_conn_list = []</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="2d43b82b-f27c-4421-96a0-e3cc0ec4bc8f" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_port_names_list = []</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="50354afe-73f0-43c0-91cb-61f9da4dfbca" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_port_id_list = []</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="d52693e7-d6d9-4ac5-91d6-89d9c0578eff" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_conn_ports_dict = {}</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="393f8206-1fe2-4884-9152-1f42eda2fee4" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_names=[]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="9fb4448e-e7a4-4ff2-9763-6b0d95a0ae58" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_ip_add_list=[]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="99def0e2-1b95-4107-bfc6-1b21ce68092d" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_username_list=[]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="8a1e8c57-a18c-43c0-b665-d7f807cbf72a" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_password_list=[]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="ff61e73a-dbc3-4f87-825e-9c7f51a4d583" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>conn_prop_devices_name_list=[]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="41394d3a-722d-4480-b882-6c19672de394" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>conn_prop_devices_port_list=[]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="012200a7-1c71-4b85-90f4-897a89329040" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>open session</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="055de294-b93d-4c67-824d-55e4a6af4901" action="open" session="velocity" useFieldsInCommand="false">
                                            <command>
                                                <body>application:com.fnfr.itest.applications.webservices.restful</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulSessionProperties" url="https://10.210.107.10" url.inherit="false" version="2" version.inherit="false">
                                                    <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" authenticationType="Basic" authenticationType.inherit="false" user="superadmin" user.inherit="false" password.masked="false" password="superadmin" password.inherit="false" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                </sessionProperties>
                                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="a0b931c9-908d-4290-8e15-f33686bb58d3" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>get device connection port name on PDU side </body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="49ce675c-5d57-43fd-9b58-d2908671d272" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                            <command>
                                                <body>velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[device_name]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>mapped/Json/devices/item/id</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>device_id</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[device_name]" action.inherit="false"/>
                                        </item>
                                        <item guid="ffd05dbf-1644-44ea-a5f2-e059ec419a39" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                            <command>
                                                <body>/velocity/api/inventory/v16/device/[device_id]/ports</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>mapped/Json/ports/item[*]/name</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>device_port_names</storageLocation>
                                                                <storeInAList>true</storeInAList>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>mapped/Json/ports/item[*]/id</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>device_port_ids</storageLocation>
                                                                <storeInAList>true</storeInAList>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[device_id]/ports" action.inherit="false"/>
                                        </item>
                                        <item guid="9a98f0e8-9bc6-43c1-bd38-649228a8e9bd" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>port_name, port_id in zip(device_port_names, device_port_ids):</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="57443260-ff75-4012-acdc-82ebf0b821dc" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>device_ports_dict[port_id] = port_name</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="2e445510-b589-4de2-add4-f0cd0b60d4b3" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(device_ports_dict)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="249482e1-10af-4aa1-8154-f94a669fce66" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>port_id, port_name in device_ports_dict.items():</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="1ef6db78-4a50-4b42-a1f9-559934b3e44e" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>re.search(&quot;pdu&quot;, port_name):</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="c899e6c6-7a38-41b6-baac-c36705341278" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>device_pdu_dict[port_id] = port_name</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="3f0c5e8a-2d9d-4737-a1ba-7f3626b83578" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(device_pdu_dict)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="a75f7568-8150-4044-94be-dd782348ee70" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_id in device_pdu_dict.keys():</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="204c123b-53a7-4c7d-8fea-7821a7c364c1" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                    <command>
                                                        <body>velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query sub="true">mapped/Json/connections/*\\[port1/id=&quot;[pdu_id]&quot;]/id</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>pdu_conn_id</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200" action.inherit="false"/>
                                                </item>
                                                <item guid="fc5d6ee7-7271-4849-b899-ae3992adad61" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pdu_conn_id != &quot;&quot;:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="18e31957-0f74-483e-b33d-50652c7f0f3d" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>pdu_conn_list.append(pdu_conn_id)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="0cd4ee7d-6317-4540-9478-2bcb6ed78b55" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                    <command>
                                                        <body>velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query sub="true">mapped/Json/connections/*\\[port2/id=&quot;[pdu_id]&quot;]/id</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>pdu_conn_id</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200" action.inherit="false"/>
                                                </item>
                                                <item guid="85ddc67c-a298-4992-af85-ac8f90e1cf45" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pdu_conn_id != &quot;&quot;:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="36a50d4f-e288-4ba7-a659-03f4b3e30d96" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>pdu_conn_list.append(pdu_conn_id)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="aedf2e3b-1fac-4d7a-a4a3-b8b888018341" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(pdu_conn_list)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="fdc13588-f185-401b-af05-b6238f7c4a6c" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>get device1 port1 device2 port2 based on connection Id</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="559ea962-b108-4e74-9f33-31cfe0917c09" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>conn_id in pdu_conn_list:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="07f2ebbb-6fc8-4ad4-b5fe-18e393111ca4" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                    <command>
                                                        <body>velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query sub="true">mapped/Json/connections/*\\[id=&quot;[conn_id]&quot;]/device1/name</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>device1_name</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query sub="true">mapped/Json/connections/*\\[id=&quot;[conn_id]&quot;]/port1/name</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>device1_port1</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query sub="true">mapped/Json/connections/*\\[id=&quot;[conn_id]&quot;]/device2/name</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>device2_name</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query sub="true">mapped/Json/connections/*\\[id=&quot;[conn_id]&quot;]/port2/name</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>device2_port2</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200" action.inherit="false"/>
                                                </item>
                                                <item guid="134cdbd8-b0b1-4296-baaf-90a8dac0b0fa" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>conn_prop_devices_name_list.append(device1_name)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="f5dd58bc-87c7-4f9f-ba67-71a6090c031c" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>conn_prop_devices_name_list.append(device2_name)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="2e65c0ac-68ec-454d-8b75-ce0e9fdbdeda" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>conn_prop_devices_port_list.append(device1_port1)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="573718e5-d7db-4af6-a983-399473dd0c9f" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>conn_prop_devices_port_list.append(device2_port2)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="9a4f5bf7-be39-42c0-a08a-7664a9f359dc" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(conn_prop_devices_name_list,conn_prop_devices_port_list)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ba3e9ad5-db51-4225-9b48-19fa53c31627" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>get PDU port names</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="aa3ac844-d913-4737-98b2-b9d52fdb39a6" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_conn_id in pdu_conn_list:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="0488e6dd-43b2-43bc-9065-f85faa0d3ab3" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                    <command>
                                                        <body>velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query sub="true">mapped/Json/connections/*\\[id=&quot;[pdu_conn_id]&quot;]/port1/name</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>port1_name</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query sub="true">mapped/Json/connections/*\\[id=&quot;[pdu_conn_id]&quot;]/port1/id</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>port1_id</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query sub="true">mapped/Json/connections/*\\[id=&quot;[pdu_conn_id]&quot;]/port2/name</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>port2_name</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query sub="true">mapped/Json/connections/*\\[id=&quot;[pdu_conn_id]&quot;]/port2/id</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>port2_id</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200" action.inherit="false"/>
                                                </item>
                                                <item guid="be72b1d7-0040-4b90-a63b-9fc1fbb73dae" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pdu_conn_ports_dict[port1_id] = port1_name</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="462f59fd-f428-4c6c-a1e0-f779f3057eaf" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pdu_conn_ports_dict[port2_id] = port2_name</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="92fbf056-e7de-44d8-ab55-edec48400623" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(pdu_conn_ports_dict)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="1f7950f2-bf38-4cf6-9984-9c92f2bfaf31" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(device_pdu_dict)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="61405dd9-60c5-41de-a21e-88ab20ec8ac5" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(pdu_conn_ports_dict.keys())</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="692b30d7-285a-476c-82d3-acb7404ea129" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_port_id_list = list(set(pdu_conn_ports_dict) - set(device_pdu_dict))</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="ca72cbb9-b2f5-40fd-aed8-a3fea7707e49" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(pdu_port_id_list)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="1572abc3-710b-470a-8391-d7dfbafb7471" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>id in pdu_port_id_list:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="5f3cbf58-f5db-4196-afa5-03452d012260" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>id in pdu_conn_ports_dict.keys():</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="ba2dfe44-2de0-4b29-93d6-7fb22467e28c" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>pdu_port_names_list.append(pdu_conn_ports_dict[id])</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="8284e00c-c4c8-4045-910b-96c277f17655" action="else" useFieldsInCommand="false">
                                                    <nestedSteps>
                                                        <item guid="bc1f8cdd-3fe7-4930-a3d5-bf3c6880e552" action="comment" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Insert steps here for when expression is false</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="5debc15c-ec96-4ec4-9fad-8f4501b0822b" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(pdu_port_names_list)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="b4ee4b07-e615-41c4-8f09-b62f119b5d8e" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>get PDU name</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="d0e95788-2872-48ef-b857-459caf280944" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>conn_prop_devices_port_list_copy=conn_prop_devices_port_list.copy()</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="910adf4e-341c-49ec-932b-d2803300d966" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>conn_prop_devices_name_list_copy=conn_prop_devices_name_list.copy()</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="71b4e15b-4313-4dc1-909d-08541a58a5bb" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_port_name in pdu_port_names_list:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="d993f5ce-0c8e-4c74-8734-f9b38e77d949" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pdu_port_name in conn_prop_devices_port_list_copy:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="e1aa7dc8-40e7-4c80-967a-0033cc72fe8b" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>pdu_names.append(conn_prop_devices_name_list_copy[conn_prop_devices_port_list_copy.index(pdu_port_name)])</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="cf88db34-abcd-44c6-bb4f-916605a4d2d2" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>conn_prop_devices_name_list_copy.pop(conn_prop_devices_port_list_copy.index(pdu_port_name))</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="0de40fda-b532-4e80-a3af-e7c0c280c9f0" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>conn_prop_devices_port_list_copy.pop(conn_prop_devices_port_list_copy.index(pdu_port_name))</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="a66de00b-c95b-4654-a3ba-e413cfc7e375" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(pdu_names)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="3b153814-7a36-450c-993e-8d4944c4588d" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_names=list(set(pdu_names))</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="68da8206-7398-495c-94f0-3048c97584ed" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(pdu_names)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="90a31327-98c6-419c-ad90-58f082ae5095" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>get PDU ipAddress, username and password based on device Id </body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="9bc9f556-5add-4529-b7d5-5f41307e4438" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_name in pdu_names:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="80426629-a233-44f1-8c6b-a5564aec1b77" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                    <command>
                                                        <body>velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[pdu_name]</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>mapped/Json/devices/item/id</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>pdu_id</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[pdu_name]" action.inherit="false"/>
                                                </item>
                                                <item guid="69d87407-9663-48be-9496-0da2b8d9e4ae" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                    <command>
                                                        <body>/velocity/api/inventory/v16/device/[pdu_id]</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>mapped/Json/properties/*[name=&quot;ipAddress&quot;]/value</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>pdu_ip_addr</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>mapped/Json/properties/*[name=&quot;username&quot;]/value</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>pdu_username</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>mapped/Json/properties/*[name=&quot;password&quot;]/value</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>pdu_password</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[pdu_id]" action.inherit="false"/>
                                                </item>
                                                <item guid="67e627d7-cfe9-4fd4-b652-2cda0b9b2f95" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pdu_ip_add_list.append(pdu_ip_addr)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="e1eaf704-b2d0-450a-a1f9-b8f7625beae5" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pdu_username_list.append(pdu_username)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="274abaf4-db8f-4763-b6e4-2bf3216003ba" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pdu_password_list.append(pdu_password)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="35910511-810a-4119-8871-c4b577e3a0c7" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>print(pdu_password_list)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="46d0edc8-1c47-485b-8555-8812c9c177c9" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>print(pdu_username_list)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="c03824f7-9949-4e44-bf55-a7d0c5345fd0" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>print(pdu_ip_add_list)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="4b464d7a-aa94-4bad-8169-0767d019f773" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Login to PDU and Power Outlet On</body>
                    </command>
                    <nestedSteps>
                        <item guid="d952c1c8-ec9c-4a47-9408-e1e008fa25d0" action="for" useFieldsInCommand="false">
                            <command>
                                <body>item in range(len(pdu_ip_add_list)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="f60af1be-86bf-4530-b28a-740af46fb70b" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>pdu_ip_add=pdu_ip_add_list[item]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="31cc70ae-6fa2-4498-90b7-43bd6e8e17e5" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>pdu_username=pdu_username_list[item]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="415385c1-aace-4ea9-9902-49238352aeb9" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>pdu_password=pdu_password_list[item]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="2d38c2f1-5074-45f7-b21a-39c483dbac51" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>pdu_session=&quot;pdu&quot; + str(item)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="3e3501b1-6851-4200-8495-aa22184235c9" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>open session to PDU</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="49df447c-1392-4930-8d8e-3b62a65f9f11" action="open" session="[pdu_session]" useFieldsInCommand="false">
                                            <command>
                                                <body>project://PDU_telnet/session_profiles/pdu_telnet.ffsp</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                    <ipAddress inherit="false">[pdu_ip_add_list[item]]</ipAddress>
                                                </sessionProperties>
                                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </applicationProperties>
                                            <advancedProperties defaultSessionProfile="project://PDU_telnet/session_profiles/pdu_telnet.ffsp"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="793d5bdd-6218-4396-93be-76a3df6869e1" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Login to PDU</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="8219a1f3-bbc2-4fba-b937-7ac2dbd6ccc1" action="pduLogin" session="[pdu_session]" useFieldsInCommand="false">
                                            <command>
                                                <body>-username [pdu_username] -password [pdu_password]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>retCode()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                            <message>--- pdu login is OK</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                                <actionsWhenFalse>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                            <message>--- pdu login is NOK; fail test...</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="FailTest">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <advancedProperties defaultSessionProfile="project://PDU_telnet/session_profiles/pdu_telnet.ffsp"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="92a88d49-901e-4a93-90dc-922acdcb8202" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>PDU Outlet System Power On</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="92859768-11da-4587-bfd3-7f020c68d586" action="GET" session="velocity">
                                            <command>
                                                <body>velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[pdu_ip_add]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>mapped/Json/devices/item/name</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>device_name_PDU</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[pdu_ip_add]" action.inherit="false"/>
                                        </item>
                                        <item guid="0c9629ba-d5ae-48a6-8461-84a3659ba07a" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>index in range(len(conn_prop_devices_name_list)):</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="cce9985e-3fbb-4c03-aeb2-a816de864a80" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>device=conn_prop_devices_name_list[index]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="662901b7-ba3d-42cd-8f69-a197792810e0" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>num=conn_prop_devices_port_list[index]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="da239c28-b0dc-40c4-b0a1-aad5655f84e2" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>device==device_name_PDU:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="f6b354fc-4dd1-421c-ba99-7cf3ef88bf95" action="pduPowerOn" session="[pdu_session]" useFieldsInCommand="false">
                                                            <command>
                                                                <body>-outlet_num [num]</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>retCode()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="assert">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                                <actionsWhenTrue>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                            <message>--- pdu power on action is OK for outlet number &quot;[num]&quot;</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </actionsWhenTrue>
                                                                                <actionsWhenFalse>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                            <message>--- pdu power on action is NOK for outlet number &quot;[num]&quot;; fail test...</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="FailTest">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </actionsWhenFalse>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                            <advancedProperties defaultSessionProfile="project://PDU_telnet/session_profiles/pdu_telnet.ffsp"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="69b75f10-86c9-46a1-93f6-6a0e9120dd2f" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Close sessions</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="053c0c44-8a3f-4a5e-9dd0-8cdc9efc057d" action="pduQuitSession" session="[pdu_session]" useFieldsInCommand="false">
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                    <advancedProperties defaultSessionProfile="project://PDU_telnet/session_profiles/pdu_telnet.ffsp"/>
                                                </item>
                                                <item guid="619e3f39-afd9-4706-a38a-134bcffd0519" action="close" session="[pdu_session]">
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                    <advancedProperties defaultSessionProfile="project://PDU_telnet/session_profiles/pdu_telnet.ffsp"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="43f4d9ae-e271-4644-a253-393ee0f68018" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Close session</body>
                    </command>
                    <nestedSteps>
                        <item guid="2cf2bb1d-4b9d-4e30-993f-f15a6876c36a" action="close" session="velocity">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
    </procedures>
</testCase>
