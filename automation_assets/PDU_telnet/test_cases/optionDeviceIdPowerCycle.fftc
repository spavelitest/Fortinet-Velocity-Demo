<?xml version="1.0"?>
<testCase version="8.7.0.202112151246">
    <general>
        <documentation>Power Cycle</documentation>
        <tags>optionPDU</tags>
        <notes>VBOT to Power Cycle a Device</notes>
        <language>Python</language>
    </general>
    <procedures>
        <item name="main">
            <steps>
                <item guid="7ba4aff0-ad00-4d75-b027-1977e6afa510" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Initialization</body>
                    </command>
                    <nestedSteps>
                        <item guid="9af402b2-d550-457d-a9b6-4c0f8d3635b2" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>sleep_time = 10</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="9f0c203f-fefd-460f-b29d-2f032810ce54" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>reservationId = velocity(&quot;reservationId&quot;); print(reservationId)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="adfc6748-33a2-4eae-ae7d-607e5bf32ba3" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>device_id = param(&apos;resourceId&apos;); print(device_id)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="71e0eb0a-9a1b-433b-9281-74bfaf7e3939" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Get PDU connection from Velocity based on device Id</body>
                            </command>
                            <nestedSteps>
                                <item guid="86179e40-cf10-406d-944a-fc877a7c28d1" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>init dict</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="676fec41-d360-4e3d-a22e-c6a287f1b55f" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>device_ports_dict = {}</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="1c7f2d9f-c988-4688-9152-00c8698d1792" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>device_pdu_dict = {}</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="6c6dbd68-a6e2-4b45-83fc-7f2438cdc8bc" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_conn_list = []</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="d89a7791-3cc0-4dee-b900-9706391c1fba" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_port_names_list = []</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="9cc12356-8e39-4bdf-a700-c21b5f78f7f5" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_port_id_list = []</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="3e7c799e-4d45-4ddf-a560-7163f47447ed" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_conn_ports_dict = {}</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="a3c364d9-2290-4fd4-8901-fd09e6952d64" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_names=[]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="b0524952-67aa-4620-b66c-2f16fe7d7d0c" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_ip_add_list=[]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="cc3e1ceb-06fd-46bb-a0ec-d600ae84b88b" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_username_list=[]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="82a6e3dc-8328-4025-bb03-56e86c7342ca" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_password_list=[]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="8d6ee0a4-514d-477a-a00e-2349a2097a0c" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>conn_prop_devices_name_list=[]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="c8346fde-5b03-4f9f-ade4-225a79875135" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>conn_prop_devices_port_list=[]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="0319bb30-3219-4ebe-8fb8-20599ce64357" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>open session</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ba76bc90-1475-4f3b-91d8-584d0a19e0f3" action="open" session="velocity" useFieldsInCommand="false">
                                            <command>
                                                <body>application:com.fnfr.itest.applications.webservices.restful</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulSessionProperties" url="https://10.210.107.10" url.inherit="false" version="2" version.inherit="false">
                                                    <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" authenticationType="Basic" authenticationType.inherit="false" user="superadmin" user.inherit="false" password.masked="false" password="superadmin" password.inherit="false" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                                </sessionProperties>
                                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="7b6fb4b9-db55-43f0-ac57-ff994b50fe61" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>get device connection port name on PDU side </body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="d5a5c177-9429-4fc9-8f34-23afbb2cc463" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                            <command>
                                                <body>/velocity/api/inventory/v16/device/[device_id]/ports?limit=200</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>mapped/Json/ports/item[*]/name</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>device_port_names</storageLocation>
                                                                <storeInAList>true</storeInAList>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>mapped/Json/ports/item[*]/id</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>device_port_ids</storageLocation>
                                                                <storeInAList>true</storeInAList>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[device_id]/ports?limit=200" action.inherit="false"/>
                                        </item>
                                        <item guid="c202116c-86f3-4446-a463-ebf7c9dbdec6" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>port_name, port_id in zip(device_port_names, device_port_ids):</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="bf1fea24-6d97-4e90-a118-f97ab7de76c3" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>device_ports_dict[port_id] = port_name</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="6002c88e-a4e7-46fd-ae1a-04b4a39f24c7" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(device_ports_dict)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="07077829-28de-4432-884d-9f7e9a64198d" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>port_id, port_name in device_ports_dict.items():</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="5da85306-6399-4df5-9a97-68f04a64ebed" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>re.search(&quot;pdu&quot;, port_name):</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="9a6f9660-711f-47d1-8c02-6666f10abcfd" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>device_pdu_dict[port_id] = port_name</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="fafb09fa-ed18-4768-a878-bd072fd36642" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(device_pdu_dict)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="108c441c-2d7c-4c77-89ee-4f10e79dc9f6" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_id in device_pdu_dict.keys():</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="05f3120a-1a18-4895-bea3-651c4923cc6a" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                    <command>
                                                        <body>velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query sub="true">mapped/Json/connections/*\\[port1/id=&quot;[pdu_id]&quot;]/id</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>pdu_conn_id</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200" action.inherit="false"/>
                                                </item>
                                                <item guid="bba63491-a6cf-4766-85dc-94e75516560f" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pdu_conn_id != &quot;&quot;:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="63a6e329-faf8-43cd-abbb-515b7c3b654f" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>pdu_conn_list.append(pdu_conn_id)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="f3de60aa-b52a-4fa5-9cd1-5e5ae0305033" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                    <command>
                                                        <body>velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                                        <query sub="true">mapped/Json/connections/*\\[port2/id=&quot;[pdu_id]&quot;]/id</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>pdu_conn_id</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200" action.inherit="false"/>
                                                </item>
                                                <item guid="fdfa30b3-b9dd-4654-bc55-a7175e26ed23" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pdu_conn_id != &quot;&quot;:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="621514d2-e612-44de-8211-4042a3b60be9" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>pdu_conn_list.append(pdu_conn_id)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f6ad87dd-ecc4-4305-96f1-cdca6bf3bb1d" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(pdu_conn_list)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ca113f96-be79-4e51-9fd3-d67f01b169e0" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>get device1 port1 device2 port2 based on connection Id</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="1e65cea8-3b1f-4ac3-b784-4905388e8ad7" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>conn_id in pdu_conn_list:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="e2770846-b911-4608-8cf1-7e62ac717b7a" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                    <command>
                                                        <body>velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query sub="true">mapped/Json/connections/*\\[id=&quot;[conn_id]&quot;]/device1/name</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>device1_name</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query sub="true">mapped/Json/connections/*\\[id=&quot;[conn_id]&quot;]/port1/name</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>device1_port1</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query sub="true">mapped/Json/connections/*\\[id=&quot;[conn_id]&quot;]/device2/name</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>device2_name</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query sub="true">mapped/Json/connections/*\\[id=&quot;[conn_id]&quot;]/port2/name</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>device2_port2</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200" action.inherit="false"/>
                                                </item>
                                                <item guid="6ced46ef-97b8-4ee2-b29a-07a10312d905" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>conn_prop_devices_name_list.append(device1_name)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="aa79c8f6-7f86-4a68-a759-35bb6d9585bc" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>conn_prop_devices_name_list.append(device2_name)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="7081ee0f-45b7-401a-9c01-8ac94793657f" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>conn_prop_devices_port_list.append(device1_port1)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="bafe6afc-ca1c-4d7e-af71-127b628866f3" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>conn_prop_devices_port_list.append(device2_port2)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="9f9994f6-6f10-49ac-a3f7-9ee80a4a9ead" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(conn_prop_devices_name_list,conn_prop_devices_port_list)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="16d19883-00f3-4ebf-b992-ae9a56f60ca2" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>get PDU port names</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e5664c94-f3d2-44c6-86ed-013970cd717d" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_conn_id in pdu_conn_list:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="a17e2f70-b1e6-4b66-bbc4-fa0422dd57fe" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                    <command>
                                                        <body>velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query sub="true">mapped/Json/connections/*\\[id=&quot;[pdu_conn_id]&quot;]/port1/name</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>port1_name</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query sub="true">mapped/Json/connections/*\\[id=&quot;[pdu_conn_id]&quot;]/port1/id</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>port1_id</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query sub="true">mapped/Json/connections/*\\[id=&quot;[pdu_conn_id]&quot;]/port2/name</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>port2_name</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query sub="true">mapped/Json/connections/*\\[id=&quot;[pdu_conn_id]&quot;]/port2/id</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>port2_id</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/physical_connections?includeProperties=true&amp;limit=200" action.inherit="false"/>
                                                </item>
                                                <item guid="bd722d3f-9ac4-4f4a-bb1d-70a8a8bc2506" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pdu_conn_ports_dict[port1_id] = port1_name</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="263078a7-e685-4b4b-b1f1-a52a9a06c75c" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pdu_conn_ports_dict[port2_id] = port2_name</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f0d04908-3c69-4ba0-8fcb-b58420826ebe" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(pdu_conn_ports_dict)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="dd023f61-c38c-49ae-8e89-2231010bd325" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(device_pdu_dict)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="e2fbc6ee-0121-4ef4-a7f6-7be96543bd44" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(pdu_conn_ports_dict.keys())</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="3d1d43de-0146-4406-94d9-0c913a2bc69b" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_port_id_list = list(set(pdu_conn_ports_dict) - set(device_pdu_dict))</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="8990a967-6cc4-4d2a-85b8-768d85407a11" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(pdu_port_id_list)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="92219a53-8b67-42f9-8728-01162344f09d" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>id in pdu_port_id_list:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="972ad10b-bb04-46cb-9f0a-1cc61911628a" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>id in pdu_conn_ports_dict.keys():</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="ddc63dd2-5e9a-4b91-b1f6-7df2e9f7da4e" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>pdu_port_names_list.append(pdu_conn_ports_dict[id])</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="773f4c01-8d15-4511-a260-a40e86cf3c68" action="else" useFieldsInCommand="false">
                                                    <nestedSteps>
                                                        <item guid="d57347bd-b8b8-4299-a94a-31fef38eaf47" action="comment" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Insert steps here for when expression is false</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="77e20f29-1012-4413-92b6-2f8606329a81" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(pdu_port_names_list)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="593c4f84-c10b-4cf4-a004-73b5bd9412a9" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>get PDU name</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="8ce1d75d-32f3-4451-a218-cb2e821c6880" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>conn_prop_devices_port_list_copy=conn_prop_devices_port_list.copy()</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="de953e14-609c-4c24-b78a-001232d82876" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>conn_prop_devices_name_list_copy=conn_prop_devices_name_list.copy()</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="7710f532-6f97-41ff-bfca-98312e932609" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_port_name in pdu_port_names_list:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="17798e70-4d33-4c22-b08b-4f0304217861" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pdu_port_name in conn_prop_devices_port_list_copy:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="1f788d34-160b-4ad1-9df7-3eade92737cc" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>pdu_names.append(conn_prop_devices_name_list_copy[conn_prop_devices_port_list_copy.index(pdu_port_name)])</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="49792009-84bf-426f-8e19-f9518ddf0748" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>conn_prop_devices_name_list_copy.pop(conn_prop_devices_port_list_copy.index(pdu_port_name))</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="eca479ef-3557-4380-9e84-96ef89620685" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>conn_prop_devices_port_list_copy.pop(conn_prop_devices_port_list_copy.index(pdu_port_name))</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="4a0ff82d-2cb4-4c64-a2a7-dfd23a6d5dff" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(pdu_names)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="0551bc15-649a-400a-b620-334e56f5c1f0" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_names=list(set(pdu_names))</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="e5d9fd71-8b48-408b-a2ba-c036b7da74d8" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(pdu_names)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="b8e25539-b8ba-4046-afb3-e8c3024aad70" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>get PDU ipAddress, username and password based on device Id </body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="d401024a-646c-474b-851b-b9e7e05b33ab" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>pdu_name in pdu_names:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="dfa5bf6c-9a97-4b81-bf27-2bf970e06c6b" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                    <command>
                                                        <body>velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[pdu_name]</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>mapped/Json/devices/item/id</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>pdu_id</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[pdu_name]" action.inherit="false"/>
                                                </item>
                                                <item guid="1f6cf9d3-ba95-4859-9310-fbc4a26b6042" action="GET" session="velocity" estimatedStepExecutionTime="0.305">
                                                    <command>
                                                        <body>/velocity/api/inventory/v16/device/[pdu_id]</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>mapped/Json/properties/*[name=&quot;ipAddress&quot;]/value</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>pdu_ip_addr</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>mapped/Json/properties/*[name=&quot;username&quot;]/value</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>pdu_username</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>mapped/Json/properties/*[name=&quot;password&quot;]/value</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>pdu_password</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" httpMethod="GET" httpMethod.inherit="false" action="/velocity/api/inventory/v16/device/[pdu_id]" action.inherit="false"/>
                                                </item>
                                                <item guid="5ece6ec7-889b-47a2-a8e5-abda6b3424cf" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pdu_ip_add_list.append(pdu_ip_addr)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="f7c01863-3631-4fdd-b73c-e46250cd97b1" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pdu_username_list.append(pdu_username)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="63e2c207-165f-4e37-bce5-0ff843794628" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>pdu_password_list.append(pdu_password)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="11cf0f68-e9d0-41a5-847f-918564ca3cfe" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>print(pdu_password_list)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="b96e28fc-c751-47c6-8b6f-b09ff88f72f7" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>print(pdu_username_list)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="0c455aa2-4e92-4186-a1d2-09aa7ca490c3" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>print(pdu_ip_add_list)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="87b0bdf3-4857-49ea-a09a-dbe020423011" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Login to PDU and Power Outlet Off and On</body>
                    </command>
                    <nestedSteps>
                        <item guid="fbe8f09b-010a-4012-8d6f-26ebed449017" action="for" useFieldsInCommand="false">
                            <command>
                                <body>item in range(len(pdu_ip_add_list)):</body>
                            </command>
                            <nestedSteps>
                                <item guid="d1442628-69b5-405b-9a03-dbdb45dff94c" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>pdu_ip_add=pdu_ip_add_list[item]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="65294f1b-01fd-40da-bed2-17ef85cb66e9" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>pdu_username=pdu_username_list[item]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="f9ff6e3d-3631-49e2-b21a-ae707f964b22" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>pdu_password=pdu_password_list[item]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="029218ed-6bd8-4cb2-8783-71ad23cd9ea5" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>pdu_session=&quot;pdu&quot; + str(item)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="4a2b3e39-e364-45a1-b283-2058085c6773" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>open session to PDU</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="337dc47e-4a4c-4714-b2e9-8abb516e1494" action="open" session="[pdu_session]" useFieldsInCommand="false">
                                            <command>
                                                <body>project://PDU_telnet/session_profiles/pdu_telnet.ffsp</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                                <stepProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                <sessionProperties type="com.fnfr.svt.applications.telnet.documents.TelnetSessionProperties">
                                                    <ipAddress inherit="false">[pdu_ip_add_list[item]]</ipAddress>
                                                </sessionProperties>
                                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </applicationProperties>
                                            <advancedProperties defaultSessionProfile="project://PDU_telnet/session_profiles/pdu_telnet.ffsp"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="5aa45772-4005-40b0-a54c-0f7d9aae4d7a" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Login to PDU</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="52575db5-8544-4eba-bb16-48e738e4ed18" action="pduLogin" session="[pdu_session]" useFieldsInCommand="false">
                                            <command>
                                                <body>-username [pdu_username] -password [pdu_password]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>retCode()</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="assert">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                <actionsWhenTrue>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                            <message>--- pdu login is OK</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenTrue>
                                                                <actionsWhenFalse>
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                            <message>--- pdu login is NOK; fail test...</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                    <item actionId="FailTest">
                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                    </item>
                                                                </actionsWhenFalse>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                            <advancedProperties defaultSessionProfile="project://PDU_telnet/session_profiles/pdu_telnet.ffsp"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8fb21513-40be-4dda-b3e2-2657d8015840" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>PDU Outlet System Power Off and Power On </body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="dda6e13c-3db1-48e9-8720-28f7630b1013" action="GET" session="velocity">
                                            <command>
                                                <body>velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[pdu_ip_add]</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>mapped/Json/devices/item/name</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>device_name_PDU</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="velocity/api/inventory/v16/devices?includeProperties=true&amp;searchString=[pdu_ip_add]" action.inherit="false"/>
                                        </item>
                                        <item guid="21a5399d-2901-4dc7-986c-0a8d066f6312" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>index in range(len(conn_prop_devices_name_list)):</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="3acc0517-0a11-4916-b922-a5b94f2cd798" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>device=conn_prop_devices_name_list[index]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="e5cdd47e-6e3a-4f6a-8242-efa643fe3569" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>num=conn_prop_devices_port_list[index]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="d75a374a-61e9-41e4-b618-e514e861bc18" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>device==device_name_PDU:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="8f3b469f-206d-46f0-b543-2c006120f973" action="pduPowerOff" session="[pdu_session]" useFieldsInCommand="false">
                                                            <command>
                                                                <body>-outlet_num [num]</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>retCode()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="assert">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                                <actionsWhenTrue>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                            <message>--- pdu power off action is OK for outlet number &quot;[num]&quot;</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </actionsWhenTrue>
                                                                                <actionsWhenFalse>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                            <message>--- pdu power off action is NOK for outlet number &quot;[num]&quot;; fail test...</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="FailTest">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </actionsWhenFalse>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                            <advancedProperties defaultSessionProfile="project://PDU_telnet/session_profiles/pdu_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="e9eec8d2-377c-4cb7-9303-917a43569544" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>i in range(1, int(sleep_time)):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="3880a6ec-a059-4242-b416-8bae57ab12a1" action="sleep">
                                                                    <command>
                                                                        <body>1</body>
                                                                    </command>
                                                                    <postProcessing>
                                                                        <analysisRules>
                                                                            <item>
                                                                                <extractorInfo extractorType="none">
                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                </extractorInfo>
                                                                                <processorInfo ruleType="message">
                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.MessageProcessorPropertyGroup" severity="Information">
                                                                                        <message>--- wait for sleep time ([i] out of [sleep_time])</message>
                                                                                        <tag sub="false" defaultValue=""/>
                                                                                    </ruleProperties>
                                                                                </processorInfo>
                                                                            </item>
                                                                        </analysisRules>
                                                                    </postProcessing>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            <advancedProperties defaultSessionProfile="project://PDU_telnet/session_profiles/pdu_telnet.ffsp"/>
                                                        </item>
                                                        <item guid="0e6c4e12-087e-4951-9772-9824d921699e" action="pduPowerOn" session="[pdu_session]" useFieldsInCommand="false">
                                                            <command>
                                                                <body>-outlet_num [num]</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>retCode()</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="assert">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                <expression>str(value) == &quot;TRUE&quot;</expression>
                                                                                <actionsWhenTrue>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                            <message>--- pdu power on action is OK for outlet number &quot;[num]&quot;</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="PassTestIfNotAlreadyFailed">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </actionsWhenTrue>
                                                                                <actionsWhenFalse>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                            <message>--- pdu power on action is NOK for outlet number &quot;[num]&quot;; fail test...</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="FailTest">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </actionsWhenFalse>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                            <advancedProperties defaultSessionProfile="project://PDU_telnet/session_profiles/pdu_telnet.ffsp"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="8ea46b5f-3cf3-45ea-a2ac-aa1fe5646cee" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Close sessions</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="943c5311-d2be-4f0a-ac69-d1d87f76f4f2" action="pduQuitSession" session="[pdu_session]" useFieldsInCommand="false">
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                    <advancedProperties defaultSessionProfile="project://PDU_telnet/session_profiles/pdu_telnet.ffsp"/>
                                                </item>
                                                <item guid="469dbf33-df9f-4688-b79d-9783de61bab4" action="close" session="[pdu_session]">
                                                    <applicationProperties type="com.fnfr.svt.editors.terminal.documents.StepDefaultProperties"/>
                                                    <advancedProperties defaultSessionProfile="project://PDU_telnet/session_profiles/pdu_telnet.ffsp"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="02bfe864-9a48-4f03-8068-ab5d8f55ce88" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Close session</body>
                    </command>
                    <nestedSteps>
                        <item guid="668f9245-34a9-4fb7-94e3-01afb82297b3" action="close" session="velocity">
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
    </procedures>
</testCase>
